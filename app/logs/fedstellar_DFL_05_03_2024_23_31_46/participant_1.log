2024-03-05 23:32:16,733 - 
╔══════════════════════════╗
║  Node information        ║
║  ----------------        ║
║  ID 1                    ║
║  IP: 192.168.50.3:45000  ║
║  Role: aggregator        ║
╚══════════════════════════╝
2024-03-05 23:32:16,776 - (192.168.50.3:45000) Starting reporter thread
2024-03-05 23:32:16,777 - 
╔═════════════════════════════╗
║  Mobility information       ║
║  --------------------       ║
║  Mobility: False            ║
║  Mobility type: both        ║
║  Radius federation: 1000.0  ║
║  Scheme mobility: random    ║
║  Each 1 rounds              ║
╚═════════════════════════════╝
2024-03-05 23:32:16,777 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:32:16,778 - [Krum] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:32:16,778 - [Median] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:32:16,778 - [TrimmedMean] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:32:16,778 - 
╔═══════════════════════════════════════╗
║  Defense information                  ║
║  -------------------                  ║
║  Reputation system: True              ║
║  Dynamic topology: False              ║
║  Dynamic aggregation: True            ║
║  Dynamic aggregation mode: Proactive  ║
║  Target aggregation: FedAvg           ║
╚═══════════════════════════════════════╝
2024-03-05 23:32:16,791 - [Learner] Fixing randomness with seed 42
2024-03-05 23:32:16,846 - 
╔══════════════════════════════════╗
║  Logging information             ║
║  -------------------             ║
║  Logging type: FedstellarLogger  ║
╚══════════════════════════════════╝
2024-03-05 23:32:16,846 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:32:16,846 - 
╔═════════════════════════════════╗
║  Additional information         ║
║  ----------------------         ║
║  Dataset: MNIST                 ║
║  IID: True                      ║
║  Model: MNISTModelMLP           ║
║  Aggregation algorithm: FedAvg  ║
║  Node behavior: benign          ║
╚═════════════════════════════════╝
2024-03-05 23:32:16,976 - (192.168.50.3:45000) Starting gRPC thread at 192.168.50.3:45000...
2024-03-05 23:32:16,978 - (192.168.50.3:45000) gRPC started.
2024-03-05 23:32:16,978 - (192.168.50.3:45000) Starting heartbeater thread
2024-03-05 23:32:16,979 - (192.168.50.3:45000) Building message with hash 5556795783707806789
2024-03-05 23:32:16,979 - (192.168.50.3:45000) Starting gossiper thread
2024-03-05 23:32:18,980 - (192.168.50.3:45000) Building message with hash 2549996325246956712
2024-03-05 23:32:20,981 - (192.168.50.3:45000) Building message with hash 7278580016569948531
2024-03-05 23:32:22,982 - (192.168.50.3:45000) Building message with hash -5461152773173794976
2024-03-05 23:32:24,983 - (192.168.50.3:45000) Building message with hash -5640247156167974012
2024-03-05 23:32:26,980 - (192.168.50.3:45000) connecting to 192.168.50.2:45000...
2024-03-05 23:32:26,980 - (192.168.50.3:45000) Attempting to add DIRECT connection 192.168.50.2:45000 (duplicated=False)
2024-03-05 23:32:26,980 - (192.168.50.3:45000) Adding direct connected neighbor 192.168.50.2:45000
2024-03-05 23:32:26,985 - (192.168.50.3:45000) Building message with hash 6921588338277434701
2024-03-05 23:32:27,722 - Error getting GPU usage: No data
2024-03-05 23:32:28,600 - (192.168.50.3:45000) handshake (gRPC) | from 192.168.50.4:45000
2024-03-05 23:32:28,600 - (192.168.50.3:45000) Attempting to add DIRECT connection 192.168.50.4:45000 (duplicated=False)
2024-03-05 23:32:28,600 - (192.168.50.3:45000) Adding direct connected neighbor 192.168.50.4:45000
2024-03-05 23:32:28,985 - (192.168.50.3:45000) connecting to 192.168.50.4:45000...
2024-03-05 23:32:28,985 - (192.168.50.3:45000) Building message with hash -7166045194470482664
2024-03-05 23:32:28,986 - (192.168.50.3:45000) Attempting to add DIRECT connection 192.168.50.4:45000 (duplicated=True)
2024-03-05 23:32:28,986 - (192.168.50.3:45000) Already direct connected neighbor 192.168.50.4:45000
2024-03-05 23:32:30,987 - (192.168.50.3:45000) Waiting for gRPC to terminate...
2024-03-05 23:32:30,991 - (192.168.50.3:45000) Building message with hash -421500352366390267
2024-03-05 23:32:32,995 - (192.168.50.3:45000) Building message with hash -177118959931985046
2024-03-05 23:32:35,002 - (192.168.50.3:45000) Building message with hash 3269093033726473262
2024-03-05 23:32:37,007 - (192.168.50.3:45000) Building message with hash -6466638660559686118
2024-03-05 23:32:37,769 - Error getting GPU usage: Unknown Error
2024-03-05 23:32:39,013 - (192.168.50.3:45000) Building message with hash -4571033469422418606
2024-03-05 23:32:41,018 - (192.168.50.3:45000) Building message with hash 3016846692195487429
2024-03-05 23:32:43,022 - (192.168.50.3:45000) Building message with hash 1661769657549418261
2024-03-05 23:32:45,026 - (192.168.50.3:45000) Building message with hash -3282040840900409871
2024-03-05 23:32:47,031 - (192.168.50.3:45000) Building message with hash 5421581842822964724
2024-03-05 23:32:47,783 - Error getting GPU usage: Unknown Error
2024-03-05 23:32:49,036 - (192.168.50.3:45000) Building message with hash 6369128148234720342
2024-03-05 23:32:51,040 - (192.168.50.3:45000) Building message with hash -6749464141822908154
2024-03-05 23:32:53,045 - (192.168.50.3:45000) Building message with hash 7701595228628219180
2024-03-05 23:32:55,051 - (192.168.50.3:45000) Building message with hash -7937597883044852284
2024-03-05 23:32:57,056 - (192.168.50.3:45000) Building message with hash -6944092122829678839
2024-03-05 23:32:57,842 - Error getting GPU usage: Unknown Error
2024-03-05 23:32:58,322 - (192.168.50.3:45000) Starting learning thread
2024-03-05 23:32:58,323 - (192.168.50.3:45000) Starting Federated Learning process...
2024-03-05 23:32:58,323 - (192.168.50.3:45000) Initial DIRECT neighbors: ['192.168.50.2:45000', '192.168.50.4:45000'] | Initial UNDIRECT participants: []
2024-03-05 23:32:58,323 - (192.168.50.3:45000) Waiting initialization.
2024-03-05 23:32:58,347 - (192.168.50.3:45000) add_model (gRPC) | Initializing model (executed by 192.168.50.4:45000) | contributors=[]
2024-03-05 23:32:58,350 - (192.168.50.3:45000) Gossiping model initialization.
2024-03-05 23:32:58,350 - (192.168.50.3:45000) __gossip_model_difusion
2024-03-05 23:32:58,352 - (192.168.50.3:45000) __gossip_model_difusion | Waiting model initialization.
2024-03-05 23:32:58,353 - (192.168.50.3:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:32:58,353 - (192.168.50.3:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:32:58,366 - (192.168.50.3:45000) add_model (gRPC) | Model Weights Initialized
2024-03-05 23:32:58,366 - (192.168.50.3:45000) add_model (gRPC) | Initializing model (executed by 192.168.50.2:45000) | contributors=[]
2024-03-05 23:32:58,367 - (192.168.50.3:45000) Building message with hash -7280037692361026683
2024-03-05 23:32:58,375 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: -7280037692361026683
cmd: "model_initialized"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:32:58,377 - (192.168.50.3:45000) add_model (gRPC) | Model Weights Initialized
2024-03-05 23:32:58,378 - (192.168.50.3:45000) Building message with hash -792422650755721369
2024-03-05 23:32:58,378 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: -792422650755721369
cmd: "model_initialized"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:32:59,061 - (192.168.50.3:45000) Building message with hash 6085985125462791381
2024-03-05 23:33:01,065 - (192.168.50.3:45000) Building message with hash -6849856375571132523
2024-03-05 23:33:03,070 - (192.168.50.3:45000) Building message with hash -4772070534471031202
2024-03-05 23:33:05,076 - (192.168.50.3:45000) Building message with hash -1150093054193017350
2024-03-05 23:33:07,081 - (192.168.50.3:45000) Building message with hash 450050957632794425
2024-03-05 23:33:07,859 - Error getting GPU usage: Unknown Error
2024-03-05 23:33:09,086 - (192.168.50.3:45000) Building message with hash -7223717231068367709
2024-03-05 23:33:11,090 - (192.168.50.3:45000) Building message with hash 4515212312641831266
2024-03-05 23:33:13,095 - (192.168.50.3:45000) Building message with hash 5843840291211531019
2024-03-05 23:33:15,100 - (192.168.50.3:45000) Building message with hash 4544755102902225907
2024-03-05 23:33:17,104 - (192.168.50.3:45000) Building message with hash -1576874599546512153
2024-03-05 23:33:17,875 - Error getting GPU usage: Unknown Error
2024-03-05 23:33:18,323 - (192.168.50.3:45000) Round 0 of 10 started.
2024-03-05 23:33:18,323 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:33:18,448 - 192.168.50.3:45000 Train set: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:33:18,448 - 192.168.50.3:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.4:45000'] | Undirected neighbors: []
2024-03-05 23:33:18,448 - [NODE.__train_step] Role.AGGREGATOR process...
2024-03-05 23:33:18,449 - (192.168.50.3:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:33:18,449 - (192.168.50.3:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:33:18,449 - (192.168.50.3:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:33:18,450 - (192.168.50.3:45000) Evaluating...
2024-03-05 23:33:18,450 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:33:20,002 - (192.168.50.3:45000) Building message with hash -3911408757939746449
2024-03-05 23:33:22,009 - (192.168.50.3:45000) Building message with hash -7707743020192395121
2024-03-05 23:33:24,018 - (192.168.50.3:45000) Building message with hash -3761650168608867751
2024-03-05 23:33:26,023 - (192.168.50.3:45000) Building message with hash 236766831886310802
2024-03-05 23:33:27,918 - Error getting GPU usage: Not Supported
2024-03-05 23:33:28,030 - (192.168.50.3:45000) Building message with hash 2800968918215244092
2024-03-05 23:33:30,039 - (192.168.50.3:45000) Building message with hash 223092400147963284
2024-03-05 23:33:32,048 - (192.168.50.3:45000) Building message with hash 1966660874250136076
2024-03-05 23:33:34,059 - (192.168.50.3:45000) Building message with hash 248277600664116123
2024-03-05 23:33:36,065 - (192.168.50.3:45000) Building message with hash -6726972195282909689
2024-03-05 23:33:38,631 - (192.168.50.3:45000) Building message with hash 5244447525151873651
2024-03-05 23:33:45,053 - (192.168.50.3:45000) Building message with hash 6533777435927143121
2024-03-05 23:33:46,906 - Error getting GPU usage: Not Supported
2024-03-05 23:33:50,799 - (192.168.50.3:45000) Building message with hash 818800816337118947
2024-03-05 23:33:52,807 - (192.168.50.3:45000) Building message with hash -5630981322749567495
2024-03-05 23:33:54,812 - (192.168.50.3:45000) Building message with hash 5026448974594705794
2024-03-05 23:33:56,816 - (192.168.50.3:45000) Building message with hash 4618691786930601733
2024-03-05 23:33:56,942 - Error getting GPU usage: Not Supported
2024-03-05 23:33:58,821 - (192.168.50.3:45000) Building message with hash 3453352705790847106
2024-03-05 23:34:03,402 - (192.168.50.3:45000) Building message with hash 2931798359563635470
2024-03-05 23:34:05,407 - (192.168.50.3:45000) Building message with hash -1278060518210665488
2024-03-05 23:34:05,889 - (192.168.50.3:45000) Finished evaluating.
2024-03-05 23:34:05,889 - (192.168.50.3:45000) Training...
2024-03-05 23:34:05,889 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:34:06,977 - Error getting GPU usage: Not Supported
2024-03-05 23:34:07,413 - (192.168.50.3:45000) Building message with hash 4977805510960190183
2024-03-05 23:34:09,418 - (192.168.50.3:45000) Building message with hash -4586314454961410742
2024-03-05 23:34:11,424 - (192.168.50.3:45000) Building message with hash 7879446439236946260
2024-03-05 23:34:13,433 - (192.168.50.3:45000) Building message with hash -5201913934657850176
2024-03-05 23:34:15,442 - (192.168.50.3:45000) Building message with hash -6295833253012637192
2024-03-05 23:34:17,013 - Error getting GPU usage: Not Supported
2024-03-05 23:34:17,449 - (192.168.50.3:45000) Building message with hash -8700004394581012033
2024-03-05 23:34:19,455 - (192.168.50.3:45000) Building message with hash -6143987334352663675
2024-03-05 23:34:21,462 - (192.168.50.3:45000) Building message with hash -6219932289197350823
2024-03-05 23:34:23,470 - (192.168.50.3:45000) Building message with hash -5617038766405123985
2024-03-05 23:34:25,476 - (192.168.50.3:45000) Building message with hash 2440729660909153044
2024-03-05 23:34:27,058 - Error getting GPU usage: Not Supported
2024-03-05 23:34:27,484 - (192.168.50.3:45000) Building message with hash -5732498799975041508
2024-03-05 23:34:29,501 - (192.168.50.3:45000) Building message with hash -7386395185483156278
2024-03-05 23:34:31,506 - (192.168.50.3:45000) Building message with hash -5303963305446045473
2024-03-05 23:34:33,513 - (192.168.50.3:45000) Building message with hash 1212787484697668442
2024-03-05 23:34:35,518 - (192.168.50.3:45000) Building message with hash 4686616253300058448
2024-03-05 23:34:37,091 - Error getting GPU usage: Not Supported
2024-03-05 23:34:37,522 - (192.168.50.3:45000) Building message with hash 6542819462623766395
2024-03-05 23:34:39,530 - (192.168.50.3:45000) Building message with hash -9099189459419322206
2024-03-05 23:34:39,762 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:34:39,766 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:34:39,766 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:34:39,767 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:34:39,767 - (192.168.50.3:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:34:39,767 - (192.168.50.3:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.2:45000']
2024-03-05 23:34:39,768 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:34:39,768 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000']
2024-03-05 23:34:39,768 - (192.168.50.3:45000) Building message with hash -7621122651483038561
2024-03-05 23:34:39,769 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: -7621122651483038561
cmd: "models_aggregated"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:39,828 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:34:39,831 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000']) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000']
2024-03-05 23:34:39,831 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:34:39,831 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:34:39,832 - (192.168.50.3:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:34:39,832 - (192.168.50.3:45000) add_model (aggregator) | Model added (2/3) from ['192.168.50.4:45000']
2024-03-05 23:34:39,832 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:34:39,832 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:39,833 - (192.168.50.3:45000) Building message with hash -277201153325195077
2024-03-05 23:34:39,833 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: -277201153325195077
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:41,565 - (192.168.50.3:45000) Building message with hash -4632081035338361779
2024-03-05 23:34:42,813 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:34:42,816 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:42,816 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:34:42,817 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:34:42,817 - (192.168.50.3:45000) BETA add_model (aggregator) | Some contributors are in the aggregated models.
2024-03-05 23:34:42,817 - (192.168.50.3:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000'])
2024-03-05 23:34:42,818 - (192.168.50.3:45000) BETA add_model (aggregator) | nodes_not_in_aggregated_models=[]
2024-03-05 23:34:42,818 - (192.168.50.3:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000'])
2024-03-05 23:34:42,818 - (192.168.50.3:45000) BETA add_model (aggregator) | Model added (2/3) from ['192.168.50.2:45000']
2024-03-05 23:34:42,819 - (192.168.50.3:45000) BETA add_model (aggregator) | self.aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:42,819 - (192.168.50.3:45000) BETA add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:34:42,819 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:42,820 - (192.168.50.3:45000) Building message with hash -1275140095674824608
2024-03-05 23:34:42,820 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: -1275140095674824608
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:42,860 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:34:42,862 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000']) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:42,863 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:34:42,863 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:34:42,863 - (192.168.50.3:45000) BETA add_model (aggregator) | Some contributors are in the aggregated models.
2024-03-05 23:34:42,863 - (192.168.50.3:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000'])
2024-03-05 23:34:42,864 - (192.168.50.3:45000) BETA add_model (aggregator) | nodes_not_in_aggregated_models=[]
2024-03-05 23:34:42,864 - (192.168.50.3:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000'])
2024-03-05 23:34:42,864 - (192.168.50.3:45000) BETA add_model (aggregator) | Model added (2/3) from ['192.168.50.4:45000']
2024-03-05 23:34:42,864 - (192.168.50.3:45000) BETA add_model (aggregator) | self.aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:42,865 - (192.168.50.3:45000) BETA add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:34:42,865 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:42,865 - (192.168.50.3:45000) Building message with hash 88504134570916272
2024-03-05 23:34:42,865 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 88504134570916272
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:43,569 - (192.168.50.3:45000) Building message with hash 4053332787948541696
2024-03-05 23:34:45,575 - (192.168.50.3:45000) Building message with hash 3120714666154638378
2024-03-05 23:34:45,852 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:34:45,853 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:45,854 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:34:45,854 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:34:45,854 - (192.168.50.3:45000) BETA add_model (aggregator) | Some contributors are in the aggregated models.
2024-03-05 23:34:45,854 - (192.168.50.3:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000'])
2024-03-05 23:34:45,855 - (192.168.50.3:45000) BETA add_model (aggregator) | nodes_not_in_aggregated_models=[]
2024-03-05 23:34:45,855 - (192.168.50.3:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000'])
2024-03-05 23:34:45,855 - (192.168.50.3:45000) BETA add_model (aggregator) | Model added (2/3) from ['192.168.50.2:45000']
2024-03-05 23:34:45,855 - (192.168.50.3:45000) BETA add_model (aggregator) | self.aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:45,856 - (192.168.50.3:45000) BETA add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:34:45,856 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:45,856 - (192.168.50.3:45000) Building message with hash 1065829367064556251
2024-03-05 23:34:45,856 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 1065829367064556251
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:45,883 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:34:45,886 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000']) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:45,886 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:34:45,886 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:34:45,887 - (192.168.50.3:45000) BETA add_model (aggregator) | Some contributors are in the aggregated models.
2024-03-05 23:34:45,887 - (192.168.50.3:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000'])
2024-03-05 23:34:45,887 - (192.168.50.3:45000) BETA add_model (aggregator) | nodes_not_in_aggregated_models=[]
2024-03-05 23:34:45,887 - (192.168.50.3:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000'])
2024-03-05 23:34:45,888 - (192.168.50.3:45000) BETA add_model (aggregator) | Model added (2/3) from ['192.168.50.4:45000']
2024-03-05 23:34:45,888 - (192.168.50.3:45000) BETA add_model (aggregator) | self.aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:45,888 - (192.168.50.3:45000) BETA add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:34:45,889 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:45,889 - (192.168.50.3:45000) Building message with hash 7412136279257204697
2024-03-05 23:34:45,889 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 7412136279257204697
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:47,124 - Error getting GPU usage: Not Supported
2024-03-05 23:34:47,579 - (192.168.50.3:45000) Building message with hash -6484156331199719666
2024-03-05 23:34:49,427 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:34:49,430 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:34:49,433 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000']) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:49,433 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:34:49,434 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:34:49,434 - (192.168.50.3:45000) BETA add_model (aggregator) | Some contributors are in the aggregated models.
2024-03-05 23:34:49,434 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:49,435 - (192.168.50.3:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000'])
2024-03-05 23:34:49,435 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:34:49,435 - (192.168.50.3:45000) BETA add_model (aggregator) | nodes_not_in_aggregated_models=[]
2024-03-05 23:34:49,436 - (192.168.50.3:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000'])
2024-03-05 23:34:49,436 - (192.168.50.3:45000) BETA add_model (aggregator) | Model added (2/3) from ['192.168.50.4:45000']
2024-03-05 23:34:49,436 - (192.168.50.3:45000) BETA add_model (aggregator) | self.aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:49,437 - (192.168.50.3:45000) BETA add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:34:49,437 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:49,437 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:34:49,437 - (192.168.50.3:45000) Building message with hash -7636109437891133766
2024-03-05 23:34:49,438 - (192.168.50.3:45000) BETA add_model (aggregator) | Some contributors are in the aggregated models.
2024-03-05 23:34:49,438 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: -7636109437891133766
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:49,438 - (192.168.50.3:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000'])
2024-03-05 23:34:49,439 - (192.168.50.3:45000) BETA add_model (aggregator) | nodes_not_in_aggregated_models=[]
2024-03-05 23:34:49,439 - (192.168.50.3:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000'])
2024-03-05 23:34:49,439 - (192.168.50.3:45000) BETA add_model (aggregator) | Model added (2/3) from ['192.168.50.2:45000']
2024-03-05 23:34:49,440 - (192.168.50.3:45000) BETA add_model (aggregator) | self.aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:49,440 - (192.168.50.3:45000) BETA add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:34:49,440 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:49,441 - (192.168.50.3:45000) Building message with hash 3582249847051700226
2024-03-05 23:34:49,441 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 3582249847051700226
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:49,583 - (192.168.50.3:45000) Building message with hash 4214966700856786817
2024-03-05 23:34:49,655 - (192.168.50.3:45000) Finished training.
2024-03-05 23:34:49,655 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000']) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:49,655 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:34:49,655 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:34:49,656 - (192.168.50.3:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:34:49,656 - (192.168.50.3:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.3:45000']
2024-03-05 23:34:49,656 - (192.168.50.3:45000) add_model (aggregator) | All models were added. Finishing aggregation.
2024-03-05 23:34:49,656 - (192.168.50.3:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-03-05 23:34:49,656 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:34:49,656 - (192.168.50.3:45000) Building message with hash -4406191463048906079
2024-03-05 23:34:49,657 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: -4406191463048906079
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.4:45000"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:49,658 - (192.168.50.3:45000) __gossip_model_aggregation
2024-03-05 23:34:49,658 - (192.168.50.3:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:34:49,658 - (192.168.50.3:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:34:49,659 - (192.168.50.3:45000) Waiting aggregation and gossiping model (difusion).
2024-03-05 23:34:49,659 - (192.168.50.3:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:34:49,659 - (192.168.50.3:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-03-05 23:34:49,659 - (192.168.50.3:45000) wait_and_get_aggregation | Starting aggregation.
2024-03-05 23:34:49,659 - (192.168.50.3:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-03-05 23:34:49,659 - (192.168.50.3:45000) wait_and_get_aggregation | Aggregating models.
2024-03-05 23:34:49,660 - (192.168.50.3:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'])
2024-03-05 23:34:49,660 - [FedAvg.aggregate] Aggregating models: num=3
2024-03-05 23:34:49,662 - (192.168.50.3:45000) __wait_aggregated_model | Aggregation done for round 0, including parameters in local model.
2024-03-05 23:34:49,662 - (192.168.50.3:45000) __wait_aggregated_model | Broadcasting aggregation done for round 0
2024-03-05 23:34:49,663 - (192.168.50.3:45000) Building message with hash -4140904227740545531
2024-03-05 23:34:49,663 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: -4140904227740545531
cmd: "models_ready"
args: "0"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:34:49,664 - (192.168.50.3:45000) __gossip_model_difusion
2024-03-05 23:34:49,664 - (192.168.50.3:45000) __gossip_model_difusion | Waiting model aggregation.
2024-03-05 23:34:49,665 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:34:49,665 - (192.168.50.3:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:34:49,665 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:34:49,665 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:34:49,666 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 0: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:34:49,672 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:34:49,673 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 0: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:34:51,588 - (192.168.50.3:45000) Building message with hash 5774611051087049321
2024-03-05 23:34:52,693 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:34:52,694 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:34:52,694 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:34:52,694 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:34:52,695 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 0: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:34:52,699 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:34:52,700 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 0: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:34:53,592 - (192.168.50.3:45000) Building message with hash -2662287721235293787
2024-03-05 23:34:55,596 - (192.168.50.3:45000) Building message with hash 2800048261442991850
2024-03-05 23:34:55,717 - (192.168.50.3:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:34:55,718 - (192.168.50.3:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:34:55,718 - (192.168.50.3:45000) Round 0 of 10 finished.
2024-03-05 23:34:55,718 - (192.168.50.3:45000) clear | Acquiring __agg_lock.
2024-03-05 23:34:55,719 - (192.168.50.3:45000) clear | Releasing __finish_aggregation_lock.
2024-03-05 23:34:55,719 - (192.168.50.3:45000) clear | Releasing __agg_lock.
2024-03-05 23:34:55,733 - (192.168.50.3:45000) Round 1 of 10 started.
2024-03-05 23:34:55,733 - 192.168.50.3:45000 Train set: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:34:55,733 - 192.168.50.3:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.4:45000'] | Undirected neighbors: []
2024-03-05 23:34:55,734 - [NODE.__train_step] Role.AGGREGATOR process...
2024-03-05 23:34:55,734 - (192.168.50.3:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:34:55,734 - (192.168.50.3:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:34:55,734 - (192.168.50.3:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:34:55,734 - (192.168.50.3:45000) Evaluating...
2024-03-05 23:34:55,735 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:34:57,160 - Error getting GPU usage: Not Supported
2024-03-05 23:34:57,601 - (192.168.50.3:45000) Building message with hash -4459845343861676048
2024-03-05 23:35:00,752 - (192.168.50.3:45000) Building message with hash -3802341889054085388
2024-03-05 23:35:06,867 - (192.168.50.3:45000) Building message with hash 3783647563992981034
2024-03-05 23:35:07,205 - Error getting GPU usage: Not Supported
2024-03-05 23:35:09,211 - (192.168.50.3:45000) Building message with hash 6919295399852424696
2024-03-05 23:35:09,868 - (192.168.50.3:45000) Finished evaluating.
2024-03-05 23:35:09,868 - (192.168.50.3:45000) Training...
2024-03-05 23:35:09,869 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:35:11,217 - (192.168.50.3:45000) Building message with hash -8732595314668927960
2024-03-05 23:35:13,224 - (192.168.50.3:45000) Building message with hash -2467087766088590449
2024-03-05 23:35:15,229 - (192.168.50.3:45000) Building message with hash -1703516797075455228
2024-03-05 23:35:17,228 - Error getting GPU usage: Not Supported
2024-03-05 23:35:17,235 - (192.168.50.3:45000) Building message with hash 1606941746293213695
2024-03-05 23:35:19,243 - (192.168.50.3:45000) Building message with hash 7493229613085754555
2024-03-05 23:35:21,255 - (192.168.50.3:45000) Building message with hash -519531042314507212
2024-03-05 23:35:23,293 - (192.168.50.3:45000) Building message with hash 6337017525594681610
2024-03-05 23:35:25,299 - (192.168.50.3:45000) Building message with hash -2315790407213250853
2024-03-05 23:35:27,263 - Error getting GPU usage: Not Supported
2024-03-05 23:35:27,304 - (192.168.50.3:45000) Building message with hash 1073081212221949138
2024-03-05 23:35:29,310 - (192.168.50.3:45000) Building message with hash 1506505476105416526
2024-03-05 23:35:31,317 - (192.168.50.3:45000) Building message with hash 9128666410780338571
2024-03-05 23:35:33,322 - (192.168.50.3:45000) Building message with hash 4347127534093383406
2024-03-05 23:35:35,328 - (192.168.50.3:45000) Building message with hash -6719964097737758252
2024-03-05 23:35:37,296 - Error getting GPU usage: Not Supported
2024-03-05 23:35:37,334 - (192.168.50.3:45000) Building message with hash 915218176695702964
2024-03-05 23:35:39,340 - (192.168.50.3:45000) Building message with hash -1252475756908137848
2024-03-05 23:35:41,345 - (192.168.50.3:45000) Building message with hash -3667344542713362901
2024-03-05 23:35:43,233 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:35:43,235 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:35:43,236 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:35:43,236 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:35:43,236 - (192.168.50.3:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:35:43,237 - (192.168.50.3:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.2:45000']
2024-03-05 23:35:43,237 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:35:43,237 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000']
2024-03-05 23:35:43,238 - (192.168.50.3:45000) Building message with hash -1445182392611314583
2024-03-05 23:35:43,238 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: -1445182392611314583
cmd: "models_aggregated"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:35:43,351 - (192.168.50.3:45000) Building message with hash 7929294202282661849
2024-03-05 23:35:43,943 - (192.168.50.3:45000) Finished training.
2024-03-05 23:35:43,943 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000']) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000']
2024-03-05 23:35:43,943 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:35:43,943 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:35:43,944 - (192.168.50.3:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:35:43,944 - (192.168.50.3:45000) add_model (aggregator) | Model added (2/3) from ['192.168.50.3:45000']
2024-03-05 23:35:43,944 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:35:43,944 - (192.168.50.3:45000) Building message with hash -3698201553448200303
2024-03-05 23:35:43,945 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: -3698201553448200303
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:35:43,946 - (192.168.50.3:45000) __gossip_model_aggregation
2024-03-05 23:35:43,947 - (192.168.50.3:45000 Gossip | ['192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:35:43,947 - (192.168.50.3:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:35:43,947 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.4:45000']
2024-03-05 23:35:43,947 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.3:45000'] and weight: 18000
2024-03-05 23:35:43,949 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 1: contributors=['192.168.50.3:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:35:43,969 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:35:43,970 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:35:43,971 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:35:43,971 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:35:43,971 - (192.168.50.3:45000) add_model (aggregator) | The number of contributors is equal to the number of nodes in the train set. --> Full aggregation.
2024-03-05 23:35:43,971 - (192.168.50.3:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:35:43,971 - (192.168.50.3:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-03-05 23:35:43,971 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:35:43,972 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:35:43,972 - (192.168.50.3:45000) Building message with hash 4802788476252140420
2024-03-05 23:35:43,972 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 4802788476252140420
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:35:45,357 - (192.168.50.3:45000) Building message with hash -7001517933658678554
2024-03-05 23:35:46,272 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:35:46,274 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.3:45000 192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:35:46,274 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:35:46,274 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:35:46,274 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:35:46,971 - (192.168.50.3:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:35:46,971 - (192.168.50.3:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:35:46,972 - (192.168.50.3:45000) Waiting aggregation and gossiping model (difusion).
2024-03-05 23:35:46,972 - (192.168.50.3:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:35:46,972 - (192.168.50.3:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-03-05 23:35:46,972 - (192.168.50.3:45000) wait_and_get_aggregation | Starting aggregation.
2024-03-05 23:35:46,972 - (192.168.50.3:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-03-05 23:35:46,973 - (192.168.50.3:45000) wait_and_get_aggregation | Aggregating models.
2024-03-05 23:35:46,973 - (192.168.50.3:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.2:45000 192.168.50.3:45000 192.168.50.4:45000'])
2024-03-05 23:35:46,973 - [FedAvg.aggregate] Aggregating models: num=1
2024-03-05 23:35:46,974 - (192.168.50.3:45000) __wait_aggregated_model | Aggregation done for round 1, including parameters in local model.
2024-03-05 23:35:46,975 - (192.168.50.3:45000) __wait_aggregated_model | Broadcasting aggregation done for round 1
2024-03-05 23:35:46,975 - (192.168.50.3:45000) Building message with hash 3517540521968962004
2024-03-05 23:35:46,975 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 3517540521968962004
cmd: "models_ready"
args: "1"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:35:46,977 - (192.168.50.3:45000) __gossip_model_difusion
2024-03-05 23:35:46,977 - (192.168.50.3:45000) __gossip_model_difusion | Waiting model aggregation.
2024-03-05 23:35:46,977 - (192.168.50.3:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:35:46,977 - (192.168.50.3:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:35:46,978 - (192.168.50.3:45000) Dynamic aggregation function is enabled for round 1. Randomly select an aggregation function for the next round.
2024-03-05 23:35:46,978 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:35:46,978 - [Krum] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:35:46,978 - [Median] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:35:46,978 - [TrimmedMean] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:35:46,979 - get_aggregated_models current aggregator is: <fedstellar.learning.aggregators.fedavg.FedAvg object at 0x7f66fcb93650>
2024-03-05 23:35:46,979 - get_aggregated_models target_aggregation is: <fedstellar.learning.aggregators.trimmedmean.TrimmedMean object at 0x7f66b86aaa90>
2024-03-05 23:35:46,979 - (192.168.50.3:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:35:46,979 - (192.168.50.3:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:35:46,979 - (192.168.50.3:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:35:46,979 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:35:46,980 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:35:46,980 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:35:46,980 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:35:46,980 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:35:46,980 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:35:46,980 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:35:46,981 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:35:46,981 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:35:46,981 - (192.168.50.3:45000) Round 1 of 10 finished.
2024-03-05 23:35:46,981 - (192.168.50.3:45000) clear | Acquiring __agg_lock.
2024-03-05 23:35:46,981 - (192.168.50.3:45000) clear | Releasing __finish_aggregation_lock.
2024-03-05 23:35:46,981 - (192.168.50.3:45000) clear | Releasing __agg_lock.
2024-03-05 23:35:46,995 - (192.168.50.3:45000) Round 2 of 10 started.
2024-03-05 23:35:46,996 - 192.168.50.3:45000 Train set: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:35:46,996 - 192.168.50.3:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.4:45000'] | Undirected neighbors: []
2024-03-05 23:35:46,996 - [NODE.__train_step] Role.AGGREGATOR process...
2024-03-05 23:35:46,996 - (192.168.50.3:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:35:46,997 - (192.168.50.3:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:35:46,997 - (192.168.50.3:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:35:46,997 - (192.168.50.3:45000) Evaluating...
2024-03-05 23:35:46,997 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:35:47,331 - Error getting GPU usage: Not Supported
2024-03-05 23:35:47,361 - (192.168.50.3:45000) Building message with hash 4840777054129590271
2024-03-05 23:35:49,366 - (192.168.50.3:45000) Building message with hash -956276732044164808
2024-03-05 23:35:51,268 - (192.168.50.3:45000) Finished evaluating.
2024-03-05 23:35:51,268 - (192.168.50.3:45000) Training...
2024-03-05 23:35:51,268 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:35:51,400 - (192.168.50.3:45000) Building message with hash -8512814606702731128
2024-03-05 23:35:53,430 - (192.168.50.3:45000) Building message with hash -4362169095438258476
2024-03-05 23:35:55,436 - (192.168.50.3:45000) Building message with hash -2878624823200074717
2024-03-05 23:35:57,370 - Error getting GPU usage: Not Supported
2024-03-05 23:35:57,443 - (192.168.50.3:45000) Building message with hash -1847300275064425239
2024-03-05 23:35:59,449 - (192.168.50.3:45000) Building message with hash -8211834510286872093
2024-03-05 23:36:01,455 - (192.168.50.3:45000) Building message with hash 839272865855849708
2024-03-05 23:36:03,462 - (192.168.50.3:45000) Building message with hash -696568993525702728
2024-03-05 23:36:05,468 - (192.168.50.3:45000) Building message with hash 4388274311624848958
2024-03-05 23:36:07,406 - Error getting GPU usage: Not Supported
2024-03-05 23:36:07,509 - (192.168.50.3:45000) Building message with hash 5536246623678250796
2024-03-05 23:36:09,516 - (192.168.50.3:45000) Building message with hash 2939905668102036615
2024-03-05 23:36:11,527 - (192.168.50.3:45000) Building message with hash 6209326279425016179
2024-03-05 23:36:13,532 - (192.168.50.3:45000) Building message with hash -7750606076914781401
2024-03-05 23:36:15,538 - (192.168.50.3:45000) Building message with hash -6922230376124980426
2024-03-05 23:36:17,438 - Error getting GPU usage: Not Supported
2024-03-05 23:36:17,545 - (192.168.50.3:45000) Building message with hash -2661893913172234933
2024-03-05 23:36:19,550 - (192.168.50.3:45000) Building message with hash 8184507229448658968
2024-03-05 23:36:21,557 - (192.168.50.3:45000) Building message with hash -3246348676051623681
2024-03-05 23:36:23,563 - (192.168.50.3:45000) Building message with hash -2801049833077244982
2024-03-05 23:36:25,569 - (192.168.50.3:45000) Building message with hash 2974757260368458704
2024-03-05 23:36:26,243 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:36:26,245 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:36:26,246 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:36:26,246 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:36:26,246 - (192.168.50.3:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:36:26,246 - (192.168.50.3:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.4:45000']
2024-03-05 23:36:26,247 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:26,247 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.4:45000']
2024-03-05 23:36:26,247 - (192.168.50.3:45000) Building message with hash 3282702228432890967
2024-03-05 23:36:26,247 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 3282702228432890967
cmd: "models_aggregated"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:36:26,257 - (192.168.50.3:45000) Finished training.
2024-03-05 23:36:26,257 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000']) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000']
2024-03-05 23:36:26,258 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:36:26,258 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:36:26,258 - (192.168.50.3:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:36:26,258 - (192.168.50.3:45000) add_model (aggregator) | Model added (2/3) from ['192.168.50.3:45000']
2024-03-05 23:36:26,258 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:26,259 - (192.168.50.3:45000) Building message with hash 2276550385478132355
2024-03-05 23:36:26,259 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 2276550385478132355
cmd: "models_aggregated"
args: "192.168.50.4:45000"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:36:26,261 - (192.168.50.3:45000) __gossip_model_aggregation
2024-03-05 23:36:26,261 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:36:26,261 - (192.168.50.3:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:36:26,261 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.2:45000']
2024-03-05 23:36:26,261 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000'] and weight: 18000
2024-03-05 23:36:26,262 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 2: contributors=['192.168.50.3:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:36:27,481 - Error getting GPU usage: Not Supported
2024-03-05 23:36:27,577 - (192.168.50.3:45000) Building message with hash -1280699244441985103
2024-03-05 23:36:27,682 - (192.168.50.3:45000) Models ready in a late round. Ignored. 0 != 2 / 1
2024-03-05 23:36:27,692 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:36:27,694 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:36:27,694 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:36:27,694 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:36:27,695 - (192.168.50.3:45000) add_model (aggregator) | The number of contributors is equal to the number of nodes in the train set. --> Full aggregation.
2024-03-05 23:36:27,695 - (192.168.50.3:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:36:27,695 - (192.168.50.3:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-03-05 23:36:27,695 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:27,696 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:36:27,696 - (192.168.50.3:45000) Building message with hash -5901049341334015766
2024-03-05 23:36:27,696 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: -5901049341334015766
cmd: "models_aggregated"
args: "192.168.50.4:45000"
args: "192.168.50.3:45000"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:36:29,279 - (192.168.50.3:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:36:29,280 - (192.168.50.3:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:36:29,280 - (192.168.50.3:45000) Waiting aggregation and gossiping model (difusion).
2024-03-05 23:36:29,280 - (192.168.50.3:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:36:29,280 - (192.168.50.3:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-03-05 23:36:29,280 - (192.168.50.3:45000) wait_and_get_aggregation | Starting aggregation.
2024-03-05 23:36:29,281 - (192.168.50.3:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-03-05 23:36:29,281 - (192.168.50.3:45000) wait_and_get_aggregation | Aggregating models.
2024-03-05 23:36:29,281 - (192.168.50.3:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000'])
2024-03-05 23:36:29,281 - [TrimmedMean.aggregate] Aggregating models: num=1
2024-03-05 23:36:29,282 - (192.168.50.3:45000) Models ready in a late round. Ignored. 0 != 2 / 1
2024-03-05 23:36:29,286 - (192.168.50.3:45000) __wait_aggregated_model | Aggregation done for round 2, including parameters in local model.
2024-03-05 23:36:29,286 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:36:29,288 - (192.168.50.3:45000) __wait_aggregated_model | Broadcasting aggregation done for round 2
2024-03-05 23:36:29,289 - (192.168.50.3:45000) Building message with hash -6110958131448976954
2024-03-05 23:36:29,289 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:36:29,289 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: -6110958131448976954
cmd: "models_ready"
args: "2"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:36:29,289 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:36:29,290 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:36:29,290 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:29,293 - (192.168.50.3:45000) __gossip_model_difusion
2024-03-05 23:36:29,293 - (192.168.50.3:45000) __gossip_model_difusion | Waiting model aggregation.
2024-03-05 23:36:29,293 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:36:29,294 - (192.168.50.3:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:36:29,294 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:36:29,294 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:36:29,295 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 2: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:36:29,299 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:36:29,300 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 2: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:36:29,581 - (192.168.50.3:45000) Building message with hash -4120238936618801376
2024-03-05 23:36:30,716 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:36:30,717 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:36:30,717 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:36:30,717 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:36:30,718 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:31,587 - (192.168.50.3:45000) Building message with hash 1970477724241425204
2024-03-05 23:36:32,313 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:36:32,315 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:36:32,315 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:36:32,315 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:36:32,315 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:36:32,316 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:36:32,316 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:36:32,316 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:36:32,317 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 2: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:36:32,317 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:32,324 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:36:32,324 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 2: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:36:33,591 - (192.168.50.3:45000) Building message with hash 5507031397313481172
2024-03-05 23:36:33,743 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:36:33,745 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:36:33,745 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:36:33,745 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:36:33,745 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:35,341 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:36:35,342 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:36:35,342 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:36:35,343 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:36:35,344 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 2: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:36:35,351 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:36:35,353 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 2: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:36:35,353 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:36:35,355 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:36:35,355 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:36:35,355 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:36:35,356 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:35,596 - (192.168.50.3:45000) Building message with hash -8033665413506649257
2024-03-05 23:36:36,773 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:36:36,775 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:36:36,775 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:36:36,775 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:36:36,775 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:37,504 - Error getting GPU usage: Not Supported
2024-03-05 23:36:37,595 - (192.168.50.3:45000) Building message with hash -3437043053815814733
2024-03-05 23:36:38,367 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:36:38,367 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:36:38,367 - (192.168.50.3:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.4:45000'] with ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:36:38,368 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:36:38,368 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:36:38,369 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 2: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:36:38,370 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:36:38,372 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:36:38,372 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:36:38,372 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:36:38,372 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:38,373 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:36:38,374 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 2: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:36:39,600 - (192.168.50.3:45000) Building message with hash 8924284575624957615
2024-03-05 23:36:41,390 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:36:41,391 - (192.168.50.3:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.4:45000']", ['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 1
2024-03-05 23:36:41,391 - (192.168.50.3:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.4:45000'] with ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:36:41,391 - (192.168.50.3:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-03-05 23:36:41,392 - (192.168.50.3:45000) Dynamic aggregation function is enabled for round 2. Randomly select an aggregation function for the next round.
2024-03-05 23:36:41,392 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:36:41,392 - [Krum] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:36:41,392 - [Median] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:36:41,393 - [TrimmedMean] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:36:41,393 - get_aggregated_models current aggregator is: <fedstellar.learning.aggregators.trimmedmean.TrimmedMean object at 0x7f66b86aaa90>
2024-03-05 23:36:41,393 - get_aggregated_models target_aggregation is: <fedstellar.learning.aggregators.median.Median object at 0x7f66f4116f50>
2024-03-05 23:36:41,393 - (192.168.50.3:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:36:41,394 - (192.168.50.3:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:36:41,394 - (192.168.50.3:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:36:41,394 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:36:41,394 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:36:41,394 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:41,395 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:36:41,395 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:36:41,395 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:41,395 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:36:41,396 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:36:41,396 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:41,396 - (192.168.50.3:45000) Round 2 of 10 finished.
2024-03-05 23:36:41,396 - (192.168.50.3:45000) clear | Acquiring __agg_lock.
2024-03-05 23:36:41,396 - (192.168.50.3:45000) clear | Releasing __finish_aggregation_lock.
2024-03-05 23:36:41,397 - (192.168.50.3:45000) clear | Releasing __agg_lock.
2024-03-05 23:36:41,397 - (192.168.50.3:45000) Round 3 of 10 started.
2024-03-05 23:36:41,398 - 192.168.50.3:45000 Train set: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:36:41,398 - 192.168.50.3:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.4:45000'] | Undirected neighbors: []
2024-03-05 23:36:41,398 - [NODE.__train_step] Role.AGGREGATOR process...
2024-03-05 23:36:41,399 - (192.168.50.3:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:36:41,399 - (192.168.50.3:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:36:41,399 - (192.168.50.3:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:36:41,400 - (192.168.50.3:45000) Evaluating...
2024-03-05 23:36:41,400 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:36:41,605 - (192.168.50.3:45000) Building message with hash 4620108582837077267
2024-03-05 23:36:43,610 - (192.168.50.3:45000) Building message with hash -8273431722138282246
2024-03-05 23:36:45,616 - (192.168.50.3:45000) Building message with hash -5441826486268394602
2024-03-05 23:36:46,127 - (192.168.50.3:45000) Finished evaluating.
2024-03-05 23:36:46,127 - (192.168.50.3:45000) Training...
2024-03-05 23:36:46,127 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:36:47,548 - Error getting GPU usage: Not Supported
2024-03-05 23:36:47,623 - (192.168.50.3:45000) Building message with hash -29701724682058670
2024-03-05 23:36:49,629 - (192.168.50.3:45000) Building message with hash 3631521147835876038
2024-03-05 23:36:51,634 - (192.168.50.3:45000) Building message with hash 7537697054403103480
2024-03-05 23:36:53,641 - (192.168.50.3:45000) Building message with hash 5822738360527620548
2024-03-05 23:36:55,646 - (192.168.50.3:45000) Building message with hash 7511562289625115601
2024-03-05 23:36:57,582 - Error getting GPU usage: Not Supported
2024-03-05 23:36:57,652 - (192.168.50.3:45000) Building message with hash -2131759558402793162
2024-03-05 23:36:59,662 - (192.168.50.3:45000) Building message with hash -4283862326004036332
2024-03-05 23:37:01,670 - (192.168.50.3:45000) Building message with hash -1215951024379306137
2024-03-05 23:37:03,676 - (192.168.50.3:45000) Building message with hash 8153279720906652272
2024-03-05 23:37:05,681 - (192.168.50.3:45000) Building message with hash 3731697381790258422
2024-03-05 23:37:07,622 - Error getting GPU usage: Not Supported
2024-03-05 23:37:07,693 - (192.168.50.3:45000) Building message with hash 5855883501549090584
2024-03-05 23:37:09,702 - (192.168.50.3:45000) Building message with hash 3944397435598753855
2024-03-05 23:37:11,711 - (192.168.50.3:45000) Building message with hash 4551214830142731195
2024-03-05 23:37:13,717 - (192.168.50.3:45000) Building message with hash 8762086018571267020
2024-03-05 23:37:15,724 - (192.168.50.3:45000) Building message with hash -3346166079220704928
2024-03-05 23:37:17,663 - Error getting GPU usage: Not Supported
2024-03-05 23:37:17,730 - (192.168.50.3:45000) Building message with hash 6108245233752583574
2024-03-05 23:37:19,521 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:37:19,522 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:37:19,523 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:37:19,523 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:37:19,524 - (192.168.50.3:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:37:19,524 - (192.168.50.3:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.2:45000']
2024-03-05 23:37:19,524 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:19,525 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000']
2024-03-05 23:37:19,525 - (192.168.50.3:45000) Building message with hash -926996679523964739
2024-03-05 23:37:19,525 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: -926996679523964739
cmd: "models_aggregated"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:37:19,736 - (192.168.50.3:45000) Building message with hash -8049719832254605176
2024-03-05 23:37:21,229 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:37:21,231 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000']) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000']
2024-03-05 23:37:21,231 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:37:21,232 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:37:21,232 - (192.168.50.3:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:37:21,232 - (192.168.50.3:45000) add_model (aggregator) | Model added (2/3) from ['192.168.50.4:45000']
2024-03-05 23:37:21,232 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:21,233 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:37:21,233 - (192.168.50.3:45000) Building message with hash 3639091705905598061
2024-03-05 23:37:21,233 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 3639091705905598061
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:37:21,610 - (192.168.50.3:45000) Finished training.
2024-03-05 23:37:21,610 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000']) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:37:21,611 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:37:21,611 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:37:21,611 - (192.168.50.3:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:37:21,611 - (192.168.50.3:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.3:45000']
2024-03-05 23:37:21,612 - (192.168.50.3:45000) add_model (aggregator) | All models were added. Finishing aggregation.
2024-03-05 23:37:21,612 - (192.168.50.3:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-03-05 23:37:21,612 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:21,613 - (192.168.50.3:45000) Building message with hash 5711697960272566334
2024-03-05 23:37:21,613 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 5711697960272566334
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.4:45000"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:37:21,615 - (192.168.50.3:45000) __gossip_model_aggregation
2024-03-05 23:37:21,616 - (192.168.50.3:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:37:21,616 - (192.168.50.3:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:37:21,616 - (192.168.50.3:45000) Waiting aggregation and gossiping model (difusion).
2024-03-05 23:37:21,617 - (192.168.50.3:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:37:21,617 - (192.168.50.3:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-03-05 23:37:21,617 - (192.168.50.3:45000) wait_and_get_aggregation | Starting aggregation.
2024-03-05 23:37:21,617 - (192.168.50.3:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-03-05 23:37:21,618 - (192.168.50.3:45000) wait_and_get_aggregation | Aggregating models.
2024-03-05 23:37:21,618 - (192.168.50.3:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'])
2024-03-05 23:37:21,618 - [Median.aggregate] Aggregating models: num=3
2024-03-05 23:37:21,637 - (192.168.50.3:45000) __wait_aggregated_model | Aggregation done for round 3, including parameters in local model.
2024-03-05 23:37:21,638 - (192.168.50.3:45000) __wait_aggregated_model | Broadcasting aggregation done for round 3
2024-03-05 23:37:21,639 - (192.168.50.3:45000) Building message with hash -7997168444920010707
2024-03-05 23:37:21,639 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: -7997168444920010707
cmd: "models_ready"
args: "3"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:37:21,642 - (192.168.50.3:45000) __gossip_model_difusion
2024-03-05 23:37:21,643 - (192.168.50.3:45000) __gossip_model_difusion | Waiting model aggregation.
2024-03-05 23:37:21,643 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:37:21,643 - (192.168.50.3:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:37:21,643 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:37:21,644 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:37:21,645 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 3: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:37:21,654 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:37:21,655 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 3: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:37:21,742 - (192.168.50.3:45000) Building message with hash 8686439629423192739
2024-03-05 23:37:22,567 - (192.168.50.3:45000) Models ready in a late round. Ignored. 0 != 3 / 2
2024-03-05 23:37:22,571 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:37:22,572 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']) | contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:37:22,572 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:37:22,573 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:37:22,573 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:23,746 - (192.168.50.3:45000) Building message with hash -385959518212092332
2024-03-05 23:37:24,407 - (192.168.50.3:45000) Models ready in a late round. Ignored. 0 != 3 / 2
2024-03-05 23:37:24,417 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:37:24,418 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']) | contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:37:24,418 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:37:24,418 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:37:24,418 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:24,684 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:37:24,684 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:37:24,684 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:37:24,685 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:37:24,686 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 3: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:37:24,690 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:37:24,691 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 3: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:37:25,600 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:37:25,601 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']) | contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:37:25,601 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:37:25,601 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:37:25,601 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:25,750 - (192.168.50.3:45000) Building message with hash -5489909573875794076
2024-03-05 23:37:27,438 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:37:27,439 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']) | contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:37:27,439 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:37:27,439 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:37:27,439 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:27,696 - Error getting GPU usage: Not Supported
2024-03-05 23:37:27,709 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:37:27,709 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:37:27,709 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:37:27,710 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:37:27,711 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 3: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:37:27,715 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:37:27,716 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 3: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:37:27,754 - (192.168.50.3:45000) Building message with hash 791564399527801967
2024-03-05 23:37:28,623 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:37:28,624 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']) | contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:37:28,624 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:37:28,625 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:37:28,625 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:29,759 - (192.168.50.3:45000) Building message with hash 1371103763802255031
2024-03-05 23:37:30,460 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:37:30,461 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']) | contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:37:30,462 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:37:30,462 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:37:30,462 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:30,731 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:37:30,731 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:37:30,731 - (192.168.50.3:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.4:45000'] with ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:37:30,732 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:37:30,732 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:37:30,733 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 3: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:37:30,738 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:37:30,739 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 3: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:37:31,646 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:37:31,648 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']) | contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:37:31,648 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:37:31,648 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:37:31,648 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:31,763 - (192.168.50.3:45000) Building message with hash -8716421314864274232
2024-03-05 23:37:33,483 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:37:33,484 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']) | contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:37:33,485 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:37:33,485 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:37:33,485 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:33,755 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:37:33,755 - (192.168.50.3:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.4:45000']", ['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 1
2024-03-05 23:37:33,755 - (192.168.50.3:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.4:45000'] with ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:37:33,755 - (192.168.50.3:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-03-05 23:37:33,756 - (192.168.50.3:45000) Dynamic aggregation function is enabled for round 3. Randomly select an aggregation function for the next round.
2024-03-05 23:37:33,756 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:37:33,756 - [Krum] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:37:33,756 - [Median] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:37:33,757 - [TrimmedMean] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:37:33,757 - get_aggregated_models current aggregator is: <fedstellar.learning.aggregators.median.Median object at 0x7f66f4116f50>
2024-03-05 23:37:33,757 - get_aggregated_models target_aggregation is: <fedstellar.learning.aggregators.trimmedmean.TrimmedMean object at 0x7f66986aca90>
2024-03-05 23:37:33,757 - (192.168.50.3:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:37:33,757 - (192.168.50.3:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:37:33,758 - (192.168.50.3:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:37:33,758 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:37:33,758 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:37:33,758 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:33,758 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:37:33,758 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:37:33,759 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:33,759 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:37:33,759 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:37:33,759 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:33,759 - (192.168.50.3:45000) Round 3 of 10 finished.
2024-03-05 23:37:33,759 - (192.168.50.3:45000) clear | Acquiring __agg_lock.
2024-03-05 23:37:33,760 - (192.168.50.3:45000) clear | Releasing __finish_aggregation_lock.
2024-03-05 23:37:33,760 - (192.168.50.3:45000) clear | Releasing __agg_lock.
2024-03-05 23:37:33,760 - (192.168.50.3:45000) Round 4 of 10 started.
2024-03-05 23:37:33,760 - 192.168.50.3:45000 Train set: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:37:33,761 - 192.168.50.3:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.4:45000'] | Undirected neighbors: []
2024-03-05 23:37:33,761 - [NODE.__train_step] Role.AGGREGATOR process...
2024-03-05 23:37:33,761 - (192.168.50.3:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:37:33,761 - (192.168.50.3:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:37:33,761 - (192.168.50.3:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:37:33,762 - (192.168.50.3:45000) Evaluating...
2024-03-05 23:37:33,762 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:37:33,768 - (192.168.50.3:45000) Building message with hash 8424621703553471722
2024-03-05 23:37:35,773 - (192.168.50.3:45000) Building message with hash 5811865504374353888
2024-03-05 23:37:37,723 - Error getting GPU usage: Not Supported
2024-03-05 23:37:37,784 - (192.168.50.3:45000) Building message with hash 8139422412560286494
2024-03-05 23:37:38,424 - (192.168.50.3:45000) Finished evaluating.
2024-03-05 23:37:38,424 - (192.168.50.3:45000) Training...
2024-03-05 23:37:38,424 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:37:39,789 - (192.168.50.3:45000) Building message with hash -4837112849208233186
2024-03-05 23:37:41,795 - (192.168.50.3:45000) Building message with hash 7725495910317304442
2024-03-05 23:37:43,800 - (192.168.50.3:45000) Building message with hash -9085056178408623499
2024-03-05 23:37:45,805 - (192.168.50.3:45000) Building message with hash -5609293068213379501
2024-03-05 23:37:47,771 - Error getting GPU usage: Not Supported
2024-03-05 23:37:47,811 - (192.168.50.3:45000) Building message with hash 8566753416649970317
2024-03-05 23:37:49,816 - (192.168.50.3:45000) Building message with hash -6331643495425033211
2024-03-05 23:37:51,822 - (192.168.50.3:45000) Building message with hash 5752478077194562671
2024-03-05 23:37:53,827 - (192.168.50.3:45000) Building message with hash 6534772842458608627
2024-03-05 23:37:55,833 - (192.168.50.3:45000) Building message with hash -7181061509811522024
2024-03-05 23:37:57,804 - Error getting GPU usage: Not Supported
2024-03-05 23:37:57,840 - (192.168.50.3:45000) Building message with hash -2202939015435242426
2024-03-05 23:37:59,845 - (192.168.50.3:45000) Building message with hash 294361814687165688
2024-03-05 23:38:01,851 - (192.168.50.3:45000) Building message with hash 5130574425993438381
2024-03-05 23:38:03,857 - (192.168.50.3:45000) Building message with hash -3480499848934700044
2024-03-05 23:38:05,862 - (192.168.50.3:45000) Building message with hash -3611960101883604780
2024-03-05 23:38:07,835 - Error getting GPU usage: Not Supported
2024-03-05 23:38:07,865 - (192.168.50.3:45000) Building message with hash -4496019726417921467
2024-03-05 23:38:09,875 - (192.168.50.3:45000) Building message with hash -9186510851425852111
2024-03-05 23:38:11,880 - (192.168.50.3:45000) Building message with hash -8000847484433658380
2024-03-05 23:38:13,886 - (192.168.50.3:45000) Building message with hash 8096956846876530094
2024-03-05 23:38:15,071 - (192.168.50.3:45000) Finished training.
2024-03-05 23:38:15,071 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:38:15,072 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:38:15,072 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:38:15,072 - (192.168.50.3:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:38:15,072 - (192.168.50.3:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.3:45000']
2024-03-05 23:38:15,072 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:15,073 - (192.168.50.3:45000) Building message with hash -2785945766284901787
2024-03-05 23:38:15,073 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: -2785945766284901787
cmd: "models_aggregated"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:15,080 - (192.168.50.3:45000) __gossip_model_aggregation
2024-03-05 23:38:15,080 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:38:15,081 - (192.168.50.3:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:38:15,081 - reputation_calculation untrusted_nodes at round 4: ['192.168.50.3:45000']
2024-03-05 23:38:15,081 - reputation_calculation untrusted_node at round 4: 192.168.50.3:45000
2024-03-05 23:38:15,081 - reputation_calculation self.get_name() at round 4: 192.168.50.3:45000
2024-03-05 23:38:15,082 - reputation_calculation untrusted_nodes at round 4: ['192.168.50.3:45000']
2024-03-05 23:38:15,082 - reputation_calculation untrusted_node at round 4: 192.168.50.3:45000
2024-03-05 23:38:15,082 - reputation_calculation self.get_name() at round 4: 192.168.50.3:45000
2024-03-05 23:38:15,082 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:38:15,083 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.3:45000'] and weight: 18000
2024-03-05 23:38:15,084 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 4: contributors=['192.168.50.3:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:38:15,101 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000'] and weight: 18000
2024-03-05 23:38:15,102 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 4: contributors=['192.168.50.3:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:38:15,891 - (192.168.50.3:45000) Building message with hash -4123073075065377200
2024-03-05 23:38:16,777 - (192.168.50.3:45000) Models ready in a late round. Ignored. 0 != 4 / 3
2024-03-05 23:38:16,789 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:38:16,790 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.3:45000']) | contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.3:45000']
2024-03-05 23:38:16,790 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:38:16,791 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:38:16,791 - (192.168.50.3:45000) add_model (aggregator) | The number of contributors is equal to the number of nodes in the train set. --> Full aggregation.
2024-03-05 23:38:16,791 - (192.168.50.3:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:16,791 - (192.168.50.3:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-03-05 23:38:16,791 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:16,791 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:16,791 - (192.168.50.3:45000) Building message with hash 6032458220321885179
2024-03-05 23:38:16,792 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 6032458220321885179
cmd: "models_aggregated"
args: "192.168.50.3:45000"
args: "192.168.50.2:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:17,868 - Error getting GPU usage: Not Supported
2024-03-05 23:38:17,895 - (192.168.50.3:45000) Building message with hash -5666464914654701834
2024-03-05 23:38:18,180 - (192.168.50.3:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:38:18,180 - (192.168.50.3:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:38:18,181 - (192.168.50.3:45000) Waiting aggregation and gossiping model (difusion).
2024-03-05 23:38:18,181 - (192.168.50.3:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:38:18,181 - (192.168.50.3:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-03-05 23:38:18,181 - (192.168.50.3:45000) wait_and_get_aggregation | Starting aggregation.
2024-03-05 23:38:18,181 - (192.168.50.3:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-03-05 23:38:18,182 - (192.168.50.3:45000) wait_and_get_aggregation | Aggregating models.
2024-03-05 23:38:18,182 - (192.168.50.3:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.3:45000 192.168.50.2:45000 192.168.50.4:45000'])
2024-03-05 23:38:18,182 - [TrimmedMean.aggregate] Aggregating models: num=1
2024-03-05 23:38:18,186 - (192.168.50.3:45000) __wait_aggregated_model | Aggregation done for round 4, including parameters in local model.
2024-03-05 23:38:18,187 - (192.168.50.3:45000) __wait_aggregated_model | Broadcasting aggregation done for round 4
2024-03-05 23:38:18,187 - (192.168.50.3:45000) Building message with hash -5039139479260669441
2024-03-05 23:38:18,187 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: -5039139479260669441
cmd: "models_ready"
args: "4"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:18,189 - (192.168.50.3:45000) __gossip_model_difusion
2024-03-05 23:38:18,190 - (192.168.50.3:45000) __gossip_model_difusion | Waiting model aggregation.
2024-03-05 23:38:18,190 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:38:18,190 - (192.168.50.3:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:38:18,190 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:18,191 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:38:18,192 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:38:18,196 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:38:18,197 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:38:18,545 - (192.168.50.3:45000) Models ready in a late round. Ignored. 0 != 4 / 3
2024-03-05 23:38:18,553 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:38:18,554 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.2:45000 192.168.50.4:45000']) | contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:18,554 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:38:18,555 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:38:18,555 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:19,817 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:38:19,819 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.2:45000 192.168.50.4:45000']) | contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:19,819 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:38:19,819 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:38:19,819 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:19,899 - (192.168.50.3:45000) Building message with hash 2707661241645156084
2024-03-05 23:38:21,214 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:38:21,214 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:38:21,214 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:21,214 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:38:21,215 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:38:21,220 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:38:21,221 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:38:21,570 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:38:21,571 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.2:45000 192.168.50.4:45000']) | contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:21,571 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:38:21,572 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:38:21,572 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:21,905 - (192.168.50.3:45000) Building message with hash -8772159955348929215
2024-03-05 23:38:22,841 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:38:22,843 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.2:45000 192.168.50.4:45000']) | contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:22,843 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:38:22,843 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:38:22,844 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:23,912 - (192.168.50.3:45000) Building message with hash -4768782896112717638
2024-03-05 23:38:24,236 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:38:24,237 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:38:24,237 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:24,238 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:38:24,239 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:38:24,243 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:38:24,244 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:38:24,600 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:38:24,601 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.2:45000 192.168.50.4:45000']) | contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:24,601 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:38:24,601 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:38:24,601 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:25,865 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:38:25,867 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.2:45000 192.168.50.4:45000']) | contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:25,867 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:38:25,867 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:38:25,867 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:25,916 - (192.168.50.3:45000) Building message with hash 6774029682099373800
2024-03-05 23:38:27,262 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:38:27,262 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:38:27,262 - (192.168.50.3:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.4:45000'] with ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:27,263 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:27,263 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:38:27,264 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:38:27,269 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:38:27,269 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:38:27,623 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:38:27,624 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.2:45000 192.168.50.4:45000']) | contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:27,625 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:38:27,625 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:38:27,625 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:27,910 - Error getting GPU usage: Not Supported
2024-03-05 23:38:27,920 - (192.168.50.3:45000) Building message with hash 2814006200700917174
2024-03-05 23:38:29,924 - (192.168.50.3:45000) Building message with hash 3457108667716419333
2024-03-05 23:38:30,286 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:38:30,286 - (192.168.50.3:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.4:45000']", ['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 1
2024-03-05 23:38:30,286 - (192.168.50.3:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.4:45000'] with ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:30,287 - (192.168.50.3:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-03-05 23:38:30,287 - (192.168.50.3:45000) Dynamic aggregation function is enabled for round 4. Randomly select an aggregation function for the next round.
2024-03-05 23:38:30,287 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:38:30,287 - [Krum] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:38:30,288 - [Median] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:38:30,288 - [TrimmedMean] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:38:30,288 - get_aggregated_models current aggregator is: <fedstellar.learning.aggregators.trimmedmean.TrimmedMean object at 0x7f66986aca90>
2024-03-05 23:38:30,288 - get_aggregated_models target_aggregation is: <fedstellar.learning.aggregators.median.Median object at 0x7f66b8345a90>
2024-03-05 23:38:30,288 - (192.168.50.3:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:38:30,289 - (192.168.50.3:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:38:30,289 - (192.168.50.3:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:38:30,289 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:38:30,289 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:38:30,289 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:30,289 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:38:30,290 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:38:30,290 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:30,290 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:38:30,290 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:38:30,290 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:30,291 - (192.168.50.3:45000) Round 4 of 10 finished.
2024-03-05 23:38:30,291 - (192.168.50.3:45000) clear | Acquiring __agg_lock.
2024-03-05 23:38:30,291 - (192.168.50.3:45000) clear | Releasing __finish_aggregation_lock.
2024-03-05 23:38:30,291 - (192.168.50.3:45000) clear | Releasing __agg_lock.
2024-03-05 23:38:30,291 - (192.168.50.3:45000) Round 5 of 10 started.
2024-03-05 23:38:30,292 - 192.168.50.3:45000 Train set: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:38:30,292 - 192.168.50.3:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.4:45000'] | Undirected neighbors: []
2024-03-05 23:38:30,292 - [NODE.__train_step] Role.AGGREGATOR process...
2024-03-05 23:38:30,292 - (192.168.50.3:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:38:30,292 - (192.168.50.3:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:38:30,293 - (192.168.50.3:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:38:30,293 - (192.168.50.3:45000) Evaluating...
2024-03-05 23:38:30,293 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:38:31,930 - (192.168.50.3:45000) Building message with hash 6746850365570881099
2024-03-05 23:38:33,936 - (192.168.50.3:45000) Building message with hash -2922597905880504528
2024-03-05 23:38:35,052 - (192.168.50.3:45000) Finished evaluating.
2024-03-05 23:38:35,053 - (192.168.50.3:45000) Training...
2024-03-05 23:38:35,053 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:38:35,942 - (192.168.50.3:45000) Building message with hash -6686673176972066453
2024-03-05 23:38:37,940 - Error getting GPU usage: Not Supported
2024-03-05 23:38:37,948 - (192.168.50.3:45000) Building message with hash -3278517910521813928
2024-03-05 23:38:39,953 - (192.168.50.3:45000) Building message with hash 3910188720529427558
2024-03-05 23:38:41,960 - (192.168.50.3:45000) Building message with hash 9087927877054740111
2024-03-05 23:38:43,965 - (192.168.50.3:45000) Building message with hash 1526222186300215964
2024-03-05 23:38:45,971 - (192.168.50.3:45000) Building message with hash 1461162231151059086
2024-03-05 23:38:47,976 - (192.168.50.3:45000) Building message with hash -5953122916298080667
2024-03-05 23:38:47,979 - Error getting GPU usage: Not Supported
2024-03-05 23:38:49,983 - (192.168.50.3:45000) Building message with hash -7390054258671802383
2024-03-05 23:38:51,989 - (192.168.50.3:45000) Building message with hash -3130994567021257092
2024-03-05 23:38:53,995 - (192.168.50.3:45000) Building message with hash -4301934889501734623
2024-03-05 23:38:56,002 - (192.168.50.3:45000) Building message with hash 5903631054477052282
2024-03-05 23:38:58,010 - (192.168.50.3:45000) Building message with hash 4932922568851829792
2024-03-05 23:38:58,015 - Error getting GPU usage: Not Supported
2024-03-05 23:39:00,017 - (192.168.50.3:45000) Building message with hash 5928856317955894161
2024-03-05 23:39:02,023 - (192.168.50.3:45000) Building message with hash -3799705095050263692
2024-03-05 23:39:04,028 - (192.168.50.3:45000) Building message with hash 7416269923255026945
2024-03-05 23:39:06,034 - (192.168.50.3:45000) Building message with hash 9115789017860475831
2024-03-05 23:39:08,040 - (192.168.50.3:45000) Building message with hash -8298306740665109531
2024-03-05 23:39:08,071 - Error getting GPU usage: Not Supported
2024-03-05 23:39:08,171 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:39:08,174 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:39:08,175 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:39:08,175 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:39:08,176 - (192.168.50.3:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:39:08,176 - (192.168.50.3:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.4:45000']
2024-03-05 23:39:08,176 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:08,177 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.4:45000']
2024-03-05 23:39:08,177 - (192.168.50.3:45000) Building message with hash 9045690255097582860
2024-03-05 23:39:08,178 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 9045690255097582860
cmd: "models_aggregated"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:39:09,279 - (192.168.50.3:45000) Finished training.
2024-03-05 23:39:09,280 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000']) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000']
2024-03-05 23:39:09,280 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:39:09,280 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:39:09,281 - (192.168.50.3:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:39:09,281 - (192.168.50.3:45000) add_model (aggregator) | Model added (2/3) from ['192.168.50.3:45000']
2024-03-05 23:39:09,281 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:09,281 - (192.168.50.3:45000) Building message with hash -1892858452155760429
2024-03-05 23:39:09,281 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: -1892858452155760429
cmd: "models_aggregated"
args: "192.168.50.4:45000"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:39:09,283 - (192.168.50.3:45000) __gossip_model_aggregation
2024-03-05 23:39:09,283 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:39:09,284 - (192.168.50.3:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:39:09,284 - reputation_calculation untrusted_nodes at round 5: ['192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:39:09,284 - reputation_calculation untrusted_node at round 5: 192.168.50.4:45000
2024-03-05 23:39:09,284 - reputation_calculation self.get_name() at round 5: 192.168.50.3:45000
2024-03-05 23:39:09,287 - reputation_calculation cossim at round 5: 192.168.50.4:45000: 0.974759042263031
2024-03-05 23:39:09,403 - [Learner.validate_neighbour]: Computed neighbor loss over 666 data samples
2024-03-05 23:39:09,403 - reputation_calculation avg_loss at round 5 192.168.50.4:45000: 0.061520527327610625
2024-03-05 23:39:09,403 - reputation_calculation untrusted_node at round 5: 192.168.50.3:45000
2024-03-05 23:39:09,404 - reputation_calculation self.get_name() at round 5: 192.168.50.3:45000
2024-03-05 23:39:09,404 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.2:45000']
2024-03-05 23:39:09,404 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000'] and weight: 18000
2024-03-05 23:39:09,405 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 5: contributors=['192.168.50.3:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:39:09,465 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:39:09,466 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.3:45000']) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:39:09,467 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:39:09,467 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:39:09,467 - (192.168.50.3:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:39:09,467 - (192.168.50.3:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.2:45000']
2024-03-05 23:39:09,467 - (192.168.50.3:45000) add_model (aggregator) | All models were added. Finishing aggregation.
2024-03-05 23:39:09,468 - (192.168.50.3:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-03-05 23:39:09,468 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:09,468 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:39:09,468 - (192.168.50.3:45000) Building message with hash 9202710427054662468
2024-03-05 23:39:09,468 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 9202710427054662468
cmd: "models_aggregated"
args: "192.168.50.4:45000"
args: "192.168.50.3:45000"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:39:10,046 - (192.168.50.3:45000) Building message with hash -1332950809781914623
2024-03-05 23:39:11,229 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:39:11,230 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:39:11,230 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:39:11,231 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:39:11,231 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:12,051 - (192.168.50.3:45000) Building message with hash -4918349947661191481
2024-03-05 23:39:12,548 - (192.168.50.3:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:39:12,548 - (192.168.50.3:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:39:12,549 - (192.168.50.3:45000) Waiting aggregation and gossiping model (difusion).
2024-03-05 23:39:12,549 - (192.168.50.3:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:39:12,549 - (192.168.50.3:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-03-05 23:39:12,550 - (192.168.50.3:45000) wait_and_get_aggregation | Starting aggregation.
2024-03-05 23:39:12,550 - (192.168.50.3:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-03-05 23:39:12,550 - (192.168.50.3:45000) wait_and_get_aggregation | Aggregating models.
2024-03-05 23:39:12,550 - (192.168.50.3:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'])
2024-03-05 23:39:12,551 - [Median.aggregate] Aggregating models: num=3
2024-03-05 23:39:12,555 - (192.168.50.3:45000) __wait_aggregated_model | Aggregation done for round 5, including parameters in local model.
2024-03-05 23:39:12,556 - (192.168.50.3:45000) __wait_aggregated_model | Broadcasting aggregation done for round 5
2024-03-05 23:39:12,556 - (192.168.50.3:45000) Building message with hash -1771302201402396025
2024-03-05 23:39:12,556 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: -1771302201402396025
cmd: "models_ready"
args: "5"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:39:12,559 - (192.168.50.3:45000) __gossip_model_difusion
2024-03-05 23:39:12,559 - (192.168.50.3:45000) __gossip_model_difusion | Waiting model aggregation.
2024-03-05 23:39:12,559 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:39:12,559 - (192.168.50.3:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:39:12,560 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:39:12,560 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:39:12,561 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 5: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:39:12,565 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:39:12,566 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 5: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:39:12,614 - (192.168.50.3:45000) Models ready in a late round. Ignored. 0 != 5 / 4
2024-03-05 23:39:12,623 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:39:12,625 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:39:12,625 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:39:12,625 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:39:12,626 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:14,055 - (192.168.50.3:45000) Building message with hash 565268883592027952
2024-03-05 23:39:14,252 - (192.168.50.3:45000) Models ready in a late round. Ignored. 0 != 5 / 4
2024-03-05 23:39:14,262 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:39:14,263 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:39:14,263 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:39:14,264 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:39:14,264 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:15,585 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:39:15,585 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:39:15,586 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:39:15,586 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:39:15,587 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 5: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:39:15,591 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:39:15,592 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 5: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:39:15,641 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:39:15,642 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:39:15,642 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:39:15,643 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:39:15,643 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:16,059 - (192.168.50.3:45000) Building message with hash -1988304525824092916
2024-03-05 23:39:17,280 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:39:17,281 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:39:17,282 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:39:17,282 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:39:17,282 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:18,063 - (192.168.50.3:45000) Building message with hash 6260743107603145583
2024-03-05 23:39:18,104 - Error getting GPU usage: Not Supported
2024-03-05 23:39:18,608 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:39:18,608 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:39:18,608 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:39:18,609 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:39:18,610 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 5: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:39:18,614 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:39:18,615 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 5: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:39:18,669 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:39:18,670 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:39:18,670 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:39:18,671 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:39:18,671 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:20,067 - (192.168.50.3:45000) Building message with hash 1275154873625470558
2024-03-05 23:39:20,305 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:39:20,306 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:39:20,306 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:39:20,307 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:39:20,307 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:21,631 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:39:21,632 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:39:21,632 - (192.168.50.3:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.4:45000'] with ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:39:21,633 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:39:21,633 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:39:21,634 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 5: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:39:21,639 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:39:21,640 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 5: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:39:21,688 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:39:21,689 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:39:21,689 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:39:21,690 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:39:21,690 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:22,071 - (192.168.50.3:45000) Building message with hash -8691474829046366162
2024-03-05 23:39:23,334 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:39:23,335 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:39:23,336 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:39:23,336 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:39:23,336 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:24,075 - (192.168.50.3:45000) Building message with hash 207796936076161262
2024-03-05 23:39:24,657 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:39:24,658 - (192.168.50.3:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.4:45000']", ['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 1
2024-03-05 23:39:24,658 - (192.168.50.3:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.4:45000'] with ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:39:24,658 - (192.168.50.3:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-03-05 23:39:24,659 - (192.168.50.3:45000) Dynamic aggregation function is enabled for round 5. Randomly select an aggregation function for the next round.
2024-03-05 23:39:24,659 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:39:24,659 - [Krum] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:39:24,659 - [Median] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:39:24,660 - [TrimmedMean] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:39:24,660 - get_aggregated_models current aggregator is: <fedstellar.learning.aggregators.median.Median object at 0x7f66b8345a90>
2024-03-05 23:39:24,660 - get_aggregated_models target_aggregation is: <fedstellar.learning.aggregators.median.Median object at 0x7f6698542ed0>
2024-03-05 23:39:24,660 - (192.168.50.3:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:39:24,660 - (192.168.50.3:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:39:24,661 - (192.168.50.3:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:39:24,661 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:39:24,661 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:39:24,661 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:24,661 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:39:24,662 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:39:24,662 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:24,662 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:39:24,662 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:39:24,662 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:24,663 - (192.168.50.3:45000) Round 5 of 10 finished.
2024-03-05 23:39:24,663 - (192.168.50.3:45000) clear | Acquiring __agg_lock.
2024-03-05 23:39:24,663 - (192.168.50.3:45000) clear | Releasing __finish_aggregation_lock.
2024-03-05 23:39:24,663 - (192.168.50.3:45000) clear | Releasing __agg_lock.
2024-03-05 23:39:24,663 - (192.168.50.3:45000) Round 6 of 10 started.
2024-03-05 23:39:24,664 - 192.168.50.3:45000 Train set: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:39:24,664 - 192.168.50.3:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.4:45000'] | Undirected neighbors: []
2024-03-05 23:39:24,664 - [NODE.__train_step] Role.AGGREGATOR process...
2024-03-05 23:39:24,664 - (192.168.50.3:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:39:24,665 - (192.168.50.3:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:39:24,665 - (192.168.50.3:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:39:24,665 - (192.168.50.3:45000) Evaluating...
2024-03-05 23:39:24,665 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:39:26,079 - (192.168.50.3:45000) Building message with hash -6491927023006379098
2024-03-05 23:39:28,084 - (192.168.50.3:45000) Building message with hash -8548892213844884162
2024-03-05 23:39:28,130 - Error getting GPU usage: Not Supported
2024-03-05 23:39:29,131 - (192.168.50.3:45000) Finished evaluating.
2024-03-05 23:39:29,132 - (192.168.50.3:45000) Training...
2024-03-05 23:39:29,132 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:39:30,093 - (192.168.50.3:45000) Building message with hash -866977159097210867
2024-03-05 23:39:32,098 - (192.168.50.3:45000) Building message with hash -1346451940253470483
2024-03-05 23:39:34,105 - (192.168.50.3:45000) Building message with hash 4631953125323274357
2024-03-05 23:39:36,111 - (192.168.50.3:45000) Building message with hash -4573346830636270130
2024-03-05 23:39:38,116 - (192.168.50.3:45000) Building message with hash 6867160938187682724
2024-03-05 23:39:38,163 - Error getting GPU usage: Not Supported
2024-03-05 23:39:40,123 - (192.168.50.3:45000) Building message with hash -865942799955592030
2024-03-05 23:39:42,128 - (192.168.50.3:45000) Building message with hash 8251589522002213332
2024-03-05 23:39:44,134 - (192.168.50.3:45000) Building message with hash -761254709614025984
2024-03-05 23:39:46,139 - (192.168.50.3:45000) Building message with hash 3292382006827297598
2024-03-05 23:39:48,144 - (192.168.50.3:45000) Building message with hash -1649807242395759896
2024-03-05 23:39:48,242 - Error getting GPU usage: Not Supported
2024-03-05 23:39:50,150 - (192.168.50.3:45000) Building message with hash 6396637512161186875
2024-03-05 23:39:52,156 - (192.168.50.3:45000) Building message with hash -8375939743958402515
2024-03-05 23:39:54,161 - (192.168.50.3:45000) Building message with hash 8137173618348535239
2024-03-05 23:39:56,167 - (192.168.50.3:45000) Building message with hash 1568005291974445209
2024-03-05 23:39:58,173 - (192.168.50.3:45000) Building message with hash -899881114881058609
2024-03-05 23:39:58,277 - Error getting GPU usage: Not Supported
2024-03-05 23:40:00,178 - (192.168.50.3:45000) Building message with hash 3897933856529598638
2024-03-05 23:40:02,184 - (192.168.50.3:45000) Building message with hash -5559870025042869965
2024-03-05 23:40:03,211 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:40:03,213 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:40:03,213 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:03,213 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:40:03,214 - (192.168.50.3:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:40:03,214 - (192.168.50.3:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.2:45000']
2024-03-05 23:40:03,214 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:03,214 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000']
2024-03-05 23:40:03,215 - (192.168.50.3:45000) Building message with hash 3950499109024282432
2024-03-05 23:40:03,215 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 3950499109024282432
cmd: "models_aggregated"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:40:03,232 - (192.168.50.3:45000) Finished training.
2024-03-05 23:40:03,233 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000']) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000']
2024-03-05 23:40:03,233 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:03,234 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:40:03,234 - (192.168.50.3:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:40:03,234 - (192.168.50.3:45000) add_model (aggregator) | Model added (2/3) from ['192.168.50.3:45000']
2024-03-05 23:40:03,234 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:03,234 - (192.168.50.3:45000) Building message with hash 1212872743757586432
2024-03-05 23:40:03,235 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 1212872743757586432
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:40:03,236 - (192.168.50.3:45000) __gossip_model_aggregation
2024-03-05 23:40:03,236 - (192.168.50.3:45000 Gossip | ['192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:40:03,237 - (192.168.50.3:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:40:03,237 - reputation_calculation untrusted_nodes at round 6: ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:40:03,237 - reputation_calculation untrusted_node at round 6: 192.168.50.2:45000
2024-03-05 23:40:03,237 - reputation_calculation self.get_name() at round 6: 192.168.50.3:45000
2024-03-05 23:40:03,239 - reputation_calculation cossim at round 6: 192.168.50.2:45000: 0.974064826965332
2024-03-05 23:40:03,356 - [Learner.validate_neighbour]: Computed neighbor loss over 666 data samples
2024-03-05 23:40:03,357 - reputation_calculation avg_loss at round 6 192.168.50.2:45000: 0.050962990981393626
2024-03-05 23:40:03,357 - reputation_calculation untrusted_node at round 6: 192.168.50.3:45000
2024-03-05 23:40:03,357 - reputation_calculation self.get_name() at round 6: 192.168.50.3:45000
2024-03-05 23:40:03,358 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.4:45000']
2024-03-05 23:40:03,358 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.3:45000'] and weight: 18000
2024-03-05 23:40:03,359 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 6: contributors=['192.168.50.3:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:40:04,189 - (192.168.50.3:45000) Building message with hash 9125355102874017029
2024-03-05 23:40:04,512 - (192.168.50.3:45000) Models ready in a late round. Ignored. 0 != 6 / 5
2024-03-05 23:40:04,517 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:40:04,519 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:40:04,519 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:04,519 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:40:04,519 - (192.168.50.3:45000) add_model (aggregator) | The number of contributors is equal to the number of nodes in the train set. --> Full aggregation.
2024-03-05 23:40:04,519 - (192.168.50.3:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:40:04,520 - (192.168.50.3:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-03-05 23:40:04,520 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:04,520 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:40:04,520 - (192.168.50.3:45000) Building message with hash 8612807065547965814
2024-03-05 23:40:04,520 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 8612807065547965814
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:40:06,193 - (192.168.50.3:45000) Building message with hash -2631938227241514712
2024-03-05 23:40:06,247 - (192.168.50.3:45000) Models ready in a late round. Ignored. 0 != 6 / 5
2024-03-05 23:40:06,251 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:40:06,253 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.3:45000 192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:40:06,253 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:06,253 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:40:06,253 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:06,501 - (192.168.50.3:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:40:06,502 - (192.168.50.3:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:40:06,502 - (192.168.50.3:45000) Waiting aggregation and gossiping model (difusion).
2024-03-05 23:40:06,502 - (192.168.50.3:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:40:06,502 - (192.168.50.3:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-03-05 23:40:06,503 - (192.168.50.3:45000) wait_and_get_aggregation | Starting aggregation.
2024-03-05 23:40:06,503 - (192.168.50.3:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-03-05 23:40:06,503 - (192.168.50.3:45000) wait_and_get_aggregation | Aggregating models.
2024-03-05 23:40:06,503 - (192.168.50.3:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.2:45000 192.168.50.3:45000 192.168.50.4:45000'])
2024-03-05 23:40:06,504 - [Median.aggregate] Aggregating models: num=1
2024-03-05 23:40:06,506 - (192.168.50.3:45000) __wait_aggregated_model | Aggregation done for round 6, including parameters in local model.
2024-03-05 23:40:06,507 - (192.168.50.3:45000) __wait_aggregated_model | Broadcasting aggregation done for round 6
2024-03-05 23:40:06,507 - (192.168.50.3:45000) Building message with hash 3852653057028428470
2024-03-05 23:40:06,507 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 3852653057028428470
cmd: "models_ready"
args: "6"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:40:06,510 - (192.168.50.3:45000) __gossip_model_difusion
2024-03-05 23:40:06,510 - (192.168.50.3:45000) __gossip_model_difusion | Waiting model aggregation.
2024-03-05 23:40:06,510 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:40:06,511 - (192.168.50.3:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:40:06,511 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:40:06,511 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:40:06,512 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 6: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:40:06,516 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:40:06,517 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 6: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:40:07,551 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:40:07,553 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.3:45000 192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:40:07,553 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:07,553 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:40:07,553 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:08,196 - (192.168.50.3:45000) Building message with hash -6242016275132492220
2024-03-05 23:40:08,307 - Error getting GPU usage: Not Supported
2024-03-05 23:40:09,271 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:40:09,273 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.3:45000 192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:40:09,273 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:09,273 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:40:09,273 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:09,531 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:40:09,532 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:40:09,532 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:40:09,532 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:40:09,534 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 6: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:40:09,538 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:40:09,539 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 6: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:40:10,202 - (192.168.50.3:45000) Building message with hash 5240339531289987051
2024-03-05 23:40:10,580 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:40:10,581 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.3:45000 192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:40:10,581 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:10,581 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:40:10,581 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:12,206 - (192.168.50.3:45000) Building message with hash 6797960779581725717
2024-03-05 23:40:12,298 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:40:12,299 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.3:45000 192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:40:12,299 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:12,299 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:40:12,299 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:12,555 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:40:12,556 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:40:12,556 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:40:12,556 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:40:12,558 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 6: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:40:12,563 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:40:12,564 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 6: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:40:13,602 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:40:13,604 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.3:45000 192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:40:13,604 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:13,604 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:40:13,604 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:14,210 - (192.168.50.3:45000) Building message with hash -1792869193063338887
2024-03-05 23:40:15,320 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:40:15,321 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.3:45000 192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:40:15,322 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:15,322 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:40:15,322 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:15,581 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:40:15,581 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:40:15,582 - (192.168.50.3:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.4:45000'] with ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:40:15,582 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:40:15,583 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:40:15,584 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 6: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:40:15,588 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:40:15,589 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 6: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:40:16,215 - (192.168.50.3:45000) Building message with hash 5541762643776507076
2024-03-05 23:40:18,220 - (192.168.50.3:45000) Building message with hash 1522555797293625709
2024-03-05 23:40:18,337 - Error getting GPU usage: Not Supported
2024-03-05 23:40:18,606 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:40:18,606 - (192.168.50.3:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.4:45000']", ['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 1
2024-03-05 23:40:18,606 - (192.168.50.3:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.4:45000'] with ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:40:18,607 - (192.168.50.3:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-03-05 23:40:18,607 - (192.168.50.3:45000) Dynamic aggregation function is enabled for round 6. Randomly select an aggregation function for the next round.
2024-03-05 23:40:18,607 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:40:18,607 - [Krum] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:40:18,607 - [Median] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:40:18,608 - [TrimmedMean] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:40:18,608 - get_aggregated_models current aggregator is: <fedstellar.learning.aggregators.median.Median object at 0x7f6698542ed0>
2024-03-05 23:40:18,608 - get_aggregated_models target_aggregation is: <fedstellar.learning.aggregators.trimmedmean.TrimmedMean object at 0x7f66dc502250>
2024-03-05 23:40:18,608 - (192.168.50.3:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:40:18,608 - (192.168.50.3:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:40:18,609 - (192.168.50.3:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:40:18,609 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:40:18,609 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:40:18,609 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:18,609 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:40:18,610 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:40:18,610 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:18,610 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:40:18,610 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:40:18,610 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:18,610 - (192.168.50.3:45000) Round 6 of 10 finished.
2024-03-05 23:40:18,611 - (192.168.50.3:45000) clear | Acquiring __agg_lock.
2024-03-05 23:40:18,611 - (192.168.50.3:45000) clear | Releasing __finish_aggregation_lock.
2024-03-05 23:40:18,611 - (192.168.50.3:45000) clear | Releasing __agg_lock.
2024-03-05 23:40:18,611 - (192.168.50.3:45000) Round 7 of 10 started.
2024-03-05 23:40:18,611 - 192.168.50.3:45000 Train set: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:40:18,612 - 192.168.50.3:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.4:45000'] | Undirected neighbors: []
2024-03-05 23:40:18,612 - [NODE.__train_step] Role.AGGREGATOR process...
2024-03-05 23:40:18,612 - (192.168.50.3:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:40:18,612 - (192.168.50.3:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:40:18,612 - (192.168.50.3:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:40:18,613 - (192.168.50.3:45000) Evaluating...
2024-03-05 23:40:18,613 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:40:20,225 - (192.168.50.3:45000) Building message with hash -966767375325026527
2024-03-05 23:40:22,230 - (192.168.50.3:45000) Building message with hash -4826740280887210481
2024-03-05 23:40:23,315 - (192.168.50.3:45000) Finished evaluating.
2024-03-05 23:40:23,316 - (192.168.50.3:45000) Training...
2024-03-05 23:40:23,316 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:40:24,234 - (192.168.50.3:45000) Building message with hash 3835619953488134185
2024-03-05 23:40:26,240 - (192.168.50.3:45000) Building message with hash 5071165452298939910
2024-03-05 23:40:28,247 - (192.168.50.3:45000) Building message with hash 4949547263776524551
2024-03-05 23:40:28,386 - Error getting GPU usage: Not Supported
2024-03-05 23:40:30,255 - (192.168.50.3:45000) Building message with hash 2135058364019386686
2024-03-05 23:40:32,260 - (192.168.50.3:45000) Building message with hash -436459176985872532
2024-03-05 23:40:34,266 - (192.168.50.3:45000) Building message with hash -1517375226647274603
2024-03-05 23:40:36,272 - (192.168.50.3:45000) Building message with hash -3134884702868753650
2024-03-05 23:40:38,278 - (192.168.50.3:45000) Building message with hash -1875979865809387370
2024-03-05 23:40:38,421 - Error getting GPU usage: Not Supported
2024-03-05 23:40:40,286 - (192.168.50.3:45000) Building message with hash -2456594753705821055
2024-03-05 23:40:42,292 - (192.168.50.3:45000) Building message with hash -1597377538545369125
2024-03-05 23:40:44,300 - (192.168.50.3:45000) Building message with hash -2348747983890914220
2024-03-05 23:40:46,306 - (192.168.50.3:45000) Building message with hash -1043994150900784462
2024-03-05 23:40:48,311 - (192.168.50.3:45000) Building message with hash -7321010351731821699
2024-03-05 23:40:48,444 - Error getting GPU usage: Not Supported
2024-03-05 23:40:50,317 - (192.168.50.3:45000) Building message with hash -1911208583942789877
2024-03-05 23:40:52,323 - (192.168.50.3:45000) Building message with hash 5368541291111778016
2024-03-05 23:40:54,328 - (192.168.50.3:45000) Building message with hash 641172925407957932
2024-03-05 23:40:55,799 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:40:55,801 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:40:55,802 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:55,802 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:40:55,802 - (192.168.50.3:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:40:55,803 - (192.168.50.3:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.4:45000']
2024-03-05 23:40:55,803 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:55,803 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.4:45000']
2024-03-05 23:40:55,804 - (192.168.50.3:45000) Building message with hash -6915243586359939705
2024-03-05 23:40:55,804 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: -6915243586359939705
cmd: "models_aggregated"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:40:56,333 - (192.168.50.3:45000) Building message with hash 1627316972264219304
2024-03-05 23:40:57,138 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:40:57,140 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000']) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000']
2024-03-05 23:40:57,140 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:57,140 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:40:57,141 - (192.168.50.3:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:40:57,141 - (192.168.50.3:45000) add_model (aggregator) | Model added (2/3) from ['192.168.50.2:45000']
2024-03-05 23:40:57,141 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:57,141 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:40:57,142 - (192.168.50.3:45000) Building message with hash 3451577652692779567
2024-03-05 23:40:57,142 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 3451577652692779567
cmd: "models_aggregated"
args: "192.168.50.4:45000"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:40:57,353 - (192.168.50.3:45000) Finished training.
2024-03-05 23:40:57,353 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.2:45000']) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:40:57,354 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:57,354 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:40:57,354 - (192.168.50.3:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:40:57,354 - (192.168.50.3:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.3:45000']
2024-03-05 23:40:57,354 - (192.168.50.3:45000) add_model (aggregator) | All models were added. Finishing aggregation.
2024-03-05 23:40:57,354 - (192.168.50.3:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-03-05 23:40:57,355 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:57,355 - (192.168.50.3:45000) Building message with hash -3624534609839880804
2024-03-05 23:40:57,355 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: -3624534609839880804
cmd: "models_aggregated"
args: "192.168.50.4:45000"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:40:57,357 - (192.168.50.3:45000) __gossip_model_aggregation
2024-03-05 23:40:57,357 - (192.168.50.3:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:40:57,357 - (192.168.50.3:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:40:57,357 - (192.168.50.3:45000) Waiting aggregation and gossiping model (difusion).
2024-03-05 23:40:57,357 - (192.168.50.3:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:40:57,358 - (192.168.50.3:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-03-05 23:40:57,358 - (192.168.50.3:45000) wait_and_get_aggregation | Starting aggregation.
2024-03-05 23:40:57,358 - (192.168.50.3:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-03-05 23:40:57,358 - (192.168.50.3:45000) wait_and_get_aggregation | Aggregating models.
2024-03-05 23:40:57,358 - (192.168.50.3:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'])
2024-03-05 23:40:57,359 - [TrimmedMean.aggregate] Aggregating models: num=3
2024-03-05 23:40:57,371 - (192.168.50.3:45000) __wait_aggregated_model | Aggregation done for round 7, including parameters in local model.
2024-03-05 23:40:57,372 - (192.168.50.3:45000) __wait_aggregated_model | Broadcasting aggregation done for round 7
2024-03-05 23:40:57,372 - (192.168.50.3:45000) Building message with hash 3041051229616616536
2024-03-05 23:40:57,373 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 3041051229616616536
cmd: "models_ready"
args: "7"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:40:57,375 - (192.168.50.3:45000) __gossip_model_difusion
2024-03-05 23:40:57,375 - (192.168.50.3:45000) __gossip_model_difusion | Waiting model aggregation.
2024-03-05 23:40:57,375 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:40:57,375 - (192.168.50.3:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:40:57,376 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:40:57,376 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:40:57,377 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 7: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:40:57,383 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:40:57,384 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 7: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:40:58,338 - (192.168.50.3:45000) Building message with hash -5912129896185782815
2024-03-05 23:40:58,480 - Error getting GPU usage: Not Supported
2024-03-05 23:40:58,856 - (192.168.50.3:45000) Models ready in a late round. Ignored. 0 != 7 / 6
2024-03-05 23:40:58,866 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:40:58,868 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:40:58,868 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:58,868 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:40:58,868 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:00,286 - (192.168.50.3:45000) Models ready in a late round. Ignored. 0 != 7 / 6
2024-03-05 23:41:00,293 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:41:00,294 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:00,295 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:00,295 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:00,295 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:00,343 - (192.168.50.3:45000) Building message with hash -5153868128142950818
2024-03-05 23:41:00,409 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:41:00,409 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:41:00,409 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:41:00,410 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:41:00,411 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 7: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:00,416 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:41:00,418 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 7: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:01,889 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:41:01,890 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:01,891 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:01,891 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:01,891 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:02,347 - (192.168.50.3:45000) Building message with hash -7697844221542734216
2024-03-05 23:41:03,322 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:41:03,323 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:03,324 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:03,324 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:03,324 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:03,439 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:41:03,440 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:41:03,440 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:41:03,441 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:41:03,442 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 7: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:03,446 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:41:03,447 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 7: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:04,352 - (192.168.50.3:45000) Building message with hash -2361913594626844778
2024-03-05 23:41:04,913 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:41:04,914 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:04,915 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:04,915 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:04,915 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:06,345 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:41:06,346 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:06,347 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:06,347 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:06,347 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:06,356 - (192.168.50.3:45000) Building message with hash 7728239259816628306
2024-03-05 23:41:06,462 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:41:06,463 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:41:06,463 - (192.168.50.3:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.4:45000'] with ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:41:06,463 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:41:06,464 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:41:06,465 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 7: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:06,469 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:41:06,470 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 7: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:07,937 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:41:07,938 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:07,938 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:07,938 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:07,939 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:08,359 - (192.168.50.3:45000) Building message with hash -5175981850227327893
2024-03-05 23:41:08,523 - Error getting GPU usage: Not Supported
2024-03-05 23:41:09,368 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:41:09,369 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:09,369 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:09,369 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:09,370 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:09,486 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:41:09,486 - (192.168.50.3:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.4:45000']", ['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 1
2024-03-05 23:41:09,487 - (192.168.50.3:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.4:45000'] with ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:41:09,487 - (192.168.50.3:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-03-05 23:41:09,487 - (192.168.50.3:45000) Dynamic aggregation function is enabled for round 7. Randomly select an aggregation function for the next round.
2024-03-05 23:41:09,487 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:41:09,488 - [Krum] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:41:09,488 - [Median] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:41:09,488 - [TrimmedMean] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:41:09,489 - get_aggregated_models current aggregator is: <fedstellar.learning.aggregators.trimmedmean.TrimmedMean object at 0x7f66dc502250>
2024-03-05 23:41:09,489 - get_aggregated_models target_aggregation is: <fedstellar.learning.aggregators.fedavg.FedAvg object at 0x7f6698316990>
2024-03-05 23:41:09,489 - (192.168.50.3:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:41:09,489 - (192.168.50.3:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:41:09,490 - (192.168.50.3:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:41:09,490 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:41:09,490 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:41:09,490 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:09,490 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:41:09,491 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:41:09,491 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:09,491 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:41:09,491 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:41:09,492 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:09,492 - (192.168.50.3:45000) Round 7 of 10 finished.
2024-03-05 23:41:09,492 - (192.168.50.3:45000) clear | Acquiring __agg_lock.
2024-03-05 23:41:09,492 - (192.168.50.3:45000) clear | Releasing __finish_aggregation_lock.
2024-03-05 23:41:09,492 - (192.168.50.3:45000) clear | Releasing __agg_lock.
2024-03-05 23:41:09,493 - (192.168.50.3:45000) Round 8 of 10 started.
2024-03-05 23:41:09,493 - 192.168.50.3:45000 Train set: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:41:09,493 - 192.168.50.3:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.4:45000'] | Undirected neighbors: []
2024-03-05 23:41:09,494 - [NODE.__train_step] Role.AGGREGATOR process...
2024-03-05 23:41:09,494 - (192.168.50.3:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:41:09,494 - (192.168.50.3:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:41:09,495 - (192.168.50.3:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:41:09,495 - (192.168.50.3:45000) Evaluating...
2024-03-05 23:41:09,495 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:41:10,363 - (192.168.50.3:45000) Building message with hash 654254022318524840
2024-03-05 23:41:12,368 - (192.168.50.3:45000) Building message with hash 535170913454643079
2024-03-05 23:41:14,166 - (192.168.50.3:45000) Finished evaluating.
2024-03-05 23:41:14,166 - (192.168.50.3:45000) Training...
2024-03-05 23:41:14,167 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:41:14,373 - (192.168.50.3:45000) Building message with hash 6165801091121204002
2024-03-05 23:41:16,416 - (192.168.50.3:45000) Building message with hash -5957812304740310696
2024-03-05 23:41:18,425 - (192.168.50.3:45000) Building message with hash 3810217847916213989
2024-03-05 23:41:18,551 - Error getting GPU usage: Not Supported
2024-03-05 23:41:20,433 - (192.168.50.3:45000) Building message with hash -6143170234289613065
2024-03-05 23:41:22,439 - (192.168.50.3:45000) Building message with hash 7399138241431549508
2024-03-05 23:41:24,445 - (192.168.50.3:45000) Building message with hash 2753966498951244179
2024-03-05 23:41:26,452 - (192.168.50.3:45000) Building message with hash 6664914036652578616
2024-03-05 23:41:28,458 - (192.168.50.3:45000) Building message with hash 3326216331511665705
2024-03-05 23:41:28,585 - Error getting GPU usage: Not Supported
2024-03-05 23:41:30,464 - (192.168.50.3:45000) Building message with hash -3341792786182147960
2024-03-05 23:41:32,470 - (192.168.50.3:45000) Building message with hash 1206690962794224802
2024-03-05 23:41:34,477 - (192.168.50.3:45000) Building message with hash 5830870816136308219
2024-03-05 23:41:36,484 - (192.168.50.3:45000) Building message with hash 41610922271492554
2024-03-05 23:41:38,489 - (192.168.50.3:45000) Building message with hash -4261692327982273632
2024-03-05 23:41:38,615 - Error getting GPU usage: Not Supported
2024-03-05 23:41:40,496 - (192.168.50.3:45000) Building message with hash -7385080937085255087
2024-03-05 23:41:42,502 - (192.168.50.3:45000) Building message with hash -3331638527196243712
2024-03-05 23:41:44,507 - (192.168.50.3:45000) Building message with hash 819895038792286967
2024-03-05 23:41:46,513 - (192.168.50.3:45000) Building message with hash 7658539239505057806
2024-03-05 23:41:48,519 - (192.168.50.3:45000) Building message with hash -6252499525540183436
2024-03-05 23:41:48,662 - Error getting GPU usage: Not Supported
2024-03-05 23:41:49,399 - (192.168.50.3:45000) Finished training.
2024-03-05 23:41:49,400 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:41:49,400 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:49,400 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:41:49,401 - (192.168.50.3:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:41:49,401 - (192.168.50.3:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.3:45000']
2024-03-05 23:41:49,401 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:49,401 - (192.168.50.3:45000) Building message with hash 4826649654820550576
2024-03-05 23:41:49,402 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 4826649654820550576
cmd: "models_aggregated"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:41:49,404 - (192.168.50.3:45000) __gossip_model_aggregation
2024-03-05 23:41:49,404 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:41:49,404 - (192.168.50.3:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:41:49,405 - reputation_calculation untrusted_nodes at round 8: ['192.168.50.3:45000']
2024-03-05 23:41:49,405 - reputation_calculation untrusted_node at round 8: 192.168.50.3:45000
2024-03-05 23:41:49,405 - reputation_calculation self.get_name() at round 8: 192.168.50.3:45000
2024-03-05 23:41:49,406 - reputation_calculation untrusted_nodes at round 8: ['192.168.50.3:45000']
2024-03-05 23:41:49,406 - reputation_calculation untrusted_node at round 8: 192.168.50.3:45000
2024-03-05 23:41:49,406 - reputation_calculation self.get_name() at round 8: 192.168.50.3:45000
2024-03-05 23:41:49,406 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:41:49,406 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000'] and weight: 18000
2024-03-05 23:41:49,408 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 8: contributors=['192.168.50.3:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:41:49,419 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.3:45000'] and weight: 18000
2024-03-05 23:41:49,420 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 8: contributors=['192.168.50.3:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:41:50,524 - (192.168.50.3:45000) Building message with hash 3131099576706207531
2024-03-05 23:41:51,424 - (192.168.50.3:45000) Models ready in a late round. Ignored. 0 != 8 / 7
2024-03-05 23:41:51,434 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:41:51,436 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.3:45000']
2024-03-05 23:41:51,436 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:51,436 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:41:51,436 - (192.168.50.3:45000) add_model (aggregator) | The number of contributors is equal to the number of nodes in the train set. --> Full aggregation.
2024-03-05 23:41:51,436 - (192.168.50.3:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:41:51,436 - (192.168.50.3:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-03-05 23:41:51,437 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:51,437 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:41:51,437 - (192.168.50.3:45000) Building message with hash -900229535760979177
2024-03-05 23:41:51,437 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: -900229535760979177
cmd: "models_aggregated"
args: "192.168.50.3:45000"
args: "192.168.50.4:45000"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:41:52,454 - (192.168.50.3:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:41:52,455 - (192.168.50.3:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:41:52,455 - (192.168.50.3:45000) Waiting aggregation and gossiping model (difusion).
2024-03-05 23:41:52,456 - (192.168.50.3:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:41:52,456 - (192.168.50.3:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-03-05 23:41:52,456 - (192.168.50.3:45000) wait_and_get_aggregation | Starting aggregation.
2024-03-05 23:41:52,456 - (192.168.50.3:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-03-05 23:41:52,457 - (192.168.50.3:45000) wait_and_get_aggregation | Aggregating models.
2024-03-05 23:41:52,457 - (192.168.50.3:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000'])
2024-03-05 23:41:52,457 - [FedAvg.aggregate] Aggregating models: num=1
2024-03-05 23:41:52,458 - (192.168.50.3:45000) __wait_aggregated_model | Aggregation done for round 8, including parameters in local model.
2024-03-05 23:41:52,459 - (192.168.50.3:45000) __wait_aggregated_model | Broadcasting aggregation done for round 8
2024-03-05 23:41:52,459 - (192.168.50.3:45000) Building message with hash 935018079894315373
2024-03-05 23:41:52,460 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 935018079894315373
cmd: "models_ready"
args: "8"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:41:52,462 - (192.168.50.3:45000) __gossip_model_difusion
2024-03-05 23:41:52,463 - (192.168.50.3:45000) __gossip_model_difusion | Waiting model aggregation.
2024-03-05 23:41:52,463 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:41:52,463 - (192.168.50.3:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:41:52,463 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:41:52,464 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:41:52,465 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 8: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:52,468 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:41:52,469 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 8: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:52,529 - (192.168.50.3:45000) Building message with hash -4229906660055854830
2024-03-05 23:41:53,652 - (192.168.50.3:45000) Models ready in a late round. Ignored. 0 != 8 / 7
2024-03-05 23:41:53,661 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:41:53,662 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:41:53,663 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:53,663 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:53,663 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:54,461 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:41:54,462 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:41:54,462 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:54,462 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:54,462 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:54,533 - (192.168.50.3:45000) Building message with hash -6126306124080246694
2024-03-05 23:41:55,484 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:41:55,484 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:41:55,485 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:41:55,485 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:41:55,486 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 8: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:55,491 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:41:55,492 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 8: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:56,538 - (192.168.50.3:45000) Building message with hash 2738981696306304500
2024-03-05 23:41:56,685 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:41:56,686 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:41:56,686 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:56,687 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:56,687 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:57,483 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:41:57,485 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:41:57,485 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:57,485 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:57,485 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:58,508 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:41:58,509 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:41:58,509 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:41:58,509 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:41:58,510 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 8: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:58,514 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:41:58,515 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 8: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:58,544 - (192.168.50.3:45000) Building message with hash -6935852192825083913
2024-03-05 23:41:58,695 - Error getting GPU usage: Not Supported
2024-03-05 23:41:59,703 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:41:59,705 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:41:59,705 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:59,705 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:59,705 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:00,503 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:42:00,504 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:42:00,505 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:00,505 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:42:00,505 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:00,548 - (192.168.50.3:45000) Building message with hash -4968332877791157221
2024-03-05 23:42:01,530 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:42:01,531 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:42:01,531 - (192.168.50.3:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.4:45000'] with ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:42:01,531 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:42:01,532 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:42:01,533 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 8: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:42:01,537 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:42:01,538 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 8: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:42:02,552 - (192.168.50.3:45000) Building message with hash 6419239124567972619
2024-03-05 23:42:02,730 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:42:02,732 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:42:02,732 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:02,732 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:42:02,732 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:04,554 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:42:04,554 - (192.168.50.3:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.4:45000']", ['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 1
2024-03-05 23:42:04,555 - (192.168.50.3:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.4:45000'] with ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:42:04,555 - (192.168.50.3:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-03-05 23:42:04,555 - (192.168.50.3:45000) Dynamic aggregation function is enabled for round 8. Randomly select an aggregation function for the next round.
2024-03-05 23:42:04,555 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:42:04,556 - [Krum] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:42:04,556 - [Median] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:42:04,556 - (192.168.50.3:45000) Building message with hash 1816295267393202321
2024-03-05 23:42:04,556 - [TrimmedMean] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:42:04,557 - get_aggregated_models current aggregator is: <fedstellar.learning.aggregators.fedavg.FedAvg object at 0x7f6698316990>
2024-03-05 23:42:04,557 - get_aggregated_models target_aggregation is: <fedstellar.learning.aggregators.fedavg.FedAvg object at 0x7f66b8780fd0>
2024-03-05 23:42:04,557 - (192.168.50.3:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:42:04,558 - (192.168.50.3:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:42:04,558 - (192.168.50.3:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:42:04,558 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:42:04,558 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:42:04,558 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:04,558 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:42:04,559 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:42:04,559 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:04,559 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:42:04,559 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:42:04,559 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:04,560 - (192.168.50.3:45000) Round 8 of 10 finished.
2024-03-05 23:42:04,560 - (192.168.50.3:45000) clear | Acquiring __agg_lock.
2024-03-05 23:42:04,560 - (192.168.50.3:45000) clear | Releasing __finish_aggregation_lock.
2024-03-05 23:42:04,560 - (192.168.50.3:45000) clear | Releasing __agg_lock.
2024-03-05 23:42:04,560 - (192.168.50.3:45000) Round 9 of 10 started.
2024-03-05 23:42:04,561 - 192.168.50.3:45000 Train set: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:42:04,561 - 192.168.50.3:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.4:45000'] | Undirected neighbors: []
2024-03-05 23:42:04,561 - [NODE.__train_step] Role.AGGREGATOR process...
2024-03-05 23:42:04,561 - (192.168.50.3:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:42:04,561 - (192.168.50.3:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:42:04,562 - (192.168.50.3:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:42:04,562 - (192.168.50.3:45000) Evaluating...
2024-03-05 23:42:04,562 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:42:06,561 - (192.168.50.3:45000) Building message with hash 1384892372548441921
2024-03-05 23:42:08,568 - (192.168.50.3:45000) Building message with hash 2116672513793695788
2024-03-05 23:42:08,722 - Error getting GPU usage: Not Supported
2024-03-05 23:42:09,443 - (192.168.50.3:45000) Finished evaluating.
2024-03-05 23:42:09,444 - (192.168.50.3:45000) Training...
2024-03-05 23:42:09,444 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:42:10,574 - (192.168.50.3:45000) Building message with hash 4774474149705880568
2024-03-05 23:42:12,580 - (192.168.50.3:45000) Building message with hash 7892620154464237908
2024-03-05 23:42:14,587 - (192.168.50.3:45000) Building message with hash -2747628182765402327
2024-03-05 23:42:16,595 - (192.168.50.3:45000) Building message with hash 6029024875612025986
2024-03-05 23:42:18,600 - (192.168.50.3:45000) Building message with hash -7954360741543239312
2024-03-05 23:42:18,759 - Error getting GPU usage: Not Supported
2024-03-05 23:42:20,608 - (192.168.50.3:45000) Building message with hash 7059966927197957189
2024-03-05 23:42:22,613 - (192.168.50.3:45000) Building message with hash 6089341776752385476
2024-03-05 23:42:24,619 - (192.168.50.3:45000) Building message with hash 2809301395024599030
2024-03-05 23:42:26,627 - (192.168.50.3:45000) Building message with hash 8012940432528823779
2024-03-05 23:42:28,633 - (192.168.50.3:45000) Building message with hash 8786586350635102433
2024-03-05 23:42:28,806 - Error getting GPU usage: Not Supported
2024-03-05 23:42:30,638 - (192.168.50.3:45000) Building message with hash -7019018196415594604
2024-03-05 23:42:32,644 - (192.168.50.3:45000) Building message with hash 8848427182583927699
2024-03-05 23:42:34,650 - (192.168.50.3:45000) Building message with hash -5699094305065100863
2024-03-05 23:42:36,656 - (192.168.50.3:45000) Building message with hash -42226275324873811
2024-03-05 23:42:38,661 - (192.168.50.3:45000) Building message with hash 2165706754828235793
2024-03-05 23:42:38,837 - Error getting GPU usage: Not Supported
2024-03-05 23:42:40,668 - (192.168.50.3:45000) Building message with hash 6734232448637499406
2024-03-05 23:42:42,676 - (192.168.50.3:45000) Building message with hash -7014665013316591091
2024-03-05 23:42:43,719 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:42:43,722 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:42:43,722 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:43,722 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:42:43,723 - (192.168.50.3:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:42:43,723 - (192.168.50.3:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.2:45000']
2024-03-05 23:42:43,723 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:43,723 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000']
2024-03-05 23:42:43,724 - (192.168.50.3:45000) Building message with hash 8376002352229557202
2024-03-05 23:42:43,724 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 8376002352229557202
cmd: "models_aggregated"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:42:44,682 - (192.168.50.3:45000) Building message with hash 1441112386039836598
2024-03-05 23:42:44,694 - (192.168.50.3:45000) Finished training.
2024-03-05 23:42:44,694 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000']) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000']
2024-03-05 23:42:44,694 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:44,695 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:42:44,695 - (192.168.50.3:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:42:44,695 - (192.168.50.3:45000) add_model (aggregator) | Model added (2/3) from ['192.168.50.3:45000']
2024-03-05 23:42:44,695 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:44,695 - (192.168.50.3:45000) Building message with hash 1264997251516064389
2024-03-05 23:42:44,696 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 1264997251516064389
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:42:44,697 - (192.168.50.3:45000) __gossip_model_aggregation
2024-03-05 23:42:44,698 - (192.168.50.3:45000 Gossip | ['192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:42:44,698 - (192.168.50.3:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:42:44,698 - reputation_calculation untrusted_nodes at round 9: ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:42:44,698 - reputation_calculation untrusted_node at round 9: 192.168.50.2:45000
2024-03-05 23:42:44,699 - reputation_calculation self.get_name() at round 9: 192.168.50.3:45000
2024-03-05 23:42:44,700 - reputation_calculation cossim at round 9: 192.168.50.2:45000: 0.9802274703979492
2024-03-05 23:42:44,824 - [Learner.validate_neighbour]: Computed neighbor loss over 666 data samples
2024-03-05 23:42:44,824 - reputation_calculation avg_loss at round 9 192.168.50.2:45000: 0.02641009678094027
2024-03-05 23:42:44,825 - reputation_calculation untrusted_node at round 9: 192.168.50.3:45000
2024-03-05 23:42:44,825 - reputation_calculation self.get_name() at round 9: 192.168.50.3:45000
2024-03-05 23:42:44,825 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.4:45000']
2024-03-05 23:42:44,825 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.3:45000'] and weight: 18000
2024-03-05 23:42:44,827 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 9: contributors=['192.168.50.3:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:42:45,493 - (192.168.50.3:45000) Models ready in a late round. Ignored. 0 != 9 / 8
2024-03-05 23:42:45,504 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:42:45,505 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:42:45,506 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:45,506 - (192.168.50.3:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:42:45,506 - (192.168.50.3:45000) add_model (aggregator) | The number of contributors is equal to the number of nodes in the train set. --> Full aggregation.
2024-03-05 23:42:45,506 - (192.168.50.3:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:42:45,506 - (192.168.50.3:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-03-05 23:42:45,507 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:45,507 - (192.168.50.3:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:42:45,507 - (192.168.50.3:45000) Building message with hash 4235842816469724871
2024-03-05 23:42:45,507 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 4235842816469724871
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:42:46,686 - (192.168.50.3:45000) Building message with hash 6481186525172396149
2024-03-05 23:42:46,775 - (192.168.50.3:45000) Models ready in a late round. Ignored. 0 != 9 / 8
2024-03-05 23:42:46,784 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:42:46,786 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.3:45000 192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:42:46,786 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:46,786 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:42:46,786 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:47,975 - (192.168.50.3:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:42:47,975 - (192.168.50.3:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:42:47,976 - (192.168.50.3:45000) Waiting aggregation and gossiping model (difusion).
2024-03-05 23:42:47,976 - (192.168.50.3:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:42:47,976 - (192.168.50.3:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-03-05 23:42:47,977 - (192.168.50.3:45000) wait_and_get_aggregation | Starting aggregation.
2024-03-05 23:42:47,977 - (192.168.50.3:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-03-05 23:42:47,977 - (192.168.50.3:45000) wait_and_get_aggregation | Aggregating models.
2024-03-05 23:42:47,977 - (192.168.50.3:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.2:45000 192.168.50.3:45000 192.168.50.4:45000'])
2024-03-05 23:42:47,978 - [FedAvg.aggregate] Aggregating models: num=1
2024-03-05 23:42:47,979 - (192.168.50.3:45000) __wait_aggregated_model | Aggregation done for round 9, including parameters in local model.
2024-03-05 23:42:47,979 - (192.168.50.3:45000) __wait_aggregated_model | Broadcasting aggregation done for round 9
2024-03-05 23:42:47,980 - (192.168.50.3:45000) Building message with hash 6812501359667753061
2024-03-05 23:42:47,980 - (192.168.50.3:45000) Broadcasting
source: "192.168.50.3:45000"
ttl: 10
hash: 6812501359667753061
cmd: "models_ready"
args: "9"
--> to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:42:47,982 - (192.168.50.3:45000) __gossip_model_difusion
2024-03-05 23:42:47,983 - (192.168.50.3:45000) __gossip_model_difusion | Waiting model aggregation.
2024-03-05 23:42:47,983 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:42:47,983 - (192.168.50.3:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:42:47,983 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:42:47,983 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:42:47,984 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 9: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:42:47,988 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:42:47,989 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 9: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:42:48,527 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:42:48,528 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.3:45000 192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:42:48,529 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:48,529 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:42:48,529 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:48,691 - (192.168.50.3:45000) Building message with hash 5786417412227800336
2024-03-05 23:42:48,867 - Error getting GPU usage: Not Supported
2024-03-05 23:42:49,806 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:42:49,808 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.3:45000 192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:42:49,808 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:49,808 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:42:49,808 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:50,695 - (192.168.50.3:45000) Building message with hash -842488227213289655
2024-03-05 23:42:51,003 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:42:51,004 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:42:51,004 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:42:51,005 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:42:51,006 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 9: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:42:51,010 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:42:51,011 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 9: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:42:51,554 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:42:51,556 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.3:45000 192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:42:51,556 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:51,556 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:42:51,557 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:52,699 - (192.168.50.3:45000) Building message with hash 2273266292297393597
2024-03-05 23:42:52,825 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:42:52,826 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.3:45000 192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:42:52,826 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:52,827 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:42:52,827 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:54,026 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:42:54,026 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:42:54,027 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:42:54,027 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:42:54,028 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 9: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:42:54,033 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:42:54,034 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 9: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:42:54,573 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.4:45000)
2024-03-05 23:42:54,575 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.3:45000 192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:42:54,575 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:54,575 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:42:54,575 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:54,704 - (192.168.50.3:45000) Building message with hash -7390847443498899172
2024-03-05 23:42:55,850 - (192.168.50.3:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:42:55,851 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.3:45000 192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:42:55,852 - (192.168.50.3:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:55,852 - (192.168.50.3:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:42:55,852 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:56,708 - (192.168.50.3:45000) Building message with hash -5380995015669977097
2024-03-05 23:42:57,050 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:42:57,051 - (192.168.50.3:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 0
2024-03-05 23:42:57,051 - (192.168.50.3:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.4:45000'] with ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:42:57,051 - (192.168.50.3:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:42:57,052 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:42:57,053 - (192.168.50.3:45000) Sending model to 192.168.50.2:45000 with round 9: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:42:57,057 - (192.168.50.3:45000) Gossip | Gossiping model to 192.168.50.4:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:42:57,058 - (192.168.50.3:45000) Sending model to 192.168.50.4:45000 with round 9: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:42:58,900 - Error getting GPU usage: Not Supported
2024-03-05 23:42:59,180 - (192.168.50.3:45000) Building message with hash 5226421664890731073
2024-03-05 23:43:00,074 - (192.168.50.3:45000 Gossip | ['192.168.50.2:45000', '192.168.50.4:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:43:00,075 - (192.168.50.3:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.4:45000']", ['192.168.50.2:45000', '192.168.50.4:45000'], ['192.168.50.2:45000', '192.168.50.4:45000']] | j: 1
2024-03-05 23:43:00,075 - (192.168.50.3:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.4:45000'] with ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:43:00,075 - (192.168.50.3:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-03-05 23:43:00,076 - (192.168.50.3:45000) Dynamic aggregation function is enabled for round 9. Randomly select an aggregation function for the next round.
2024-03-05 23:43:00,076 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:43:00,076 - [Krum] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:43:00,076 - [Median] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:43:00,077 - [TrimmedMean] My config is <fedstellar.config.config.Config object at 0x7f67008f6c10>
2024-03-05 23:43:00,077 - get_aggregated_models current aggregator is: <fedstellar.learning.aggregators.fedavg.FedAvg object at 0x7f66b8780fd0>
2024-03-05 23:43:00,077 - get_aggregated_models target_aggregation is: <fedstellar.learning.aggregators.trimmedmean.TrimmedMean object at 0x7f66b84ab050>
2024-03-05 23:43:00,078 - (192.168.50.3:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:43:00,078 - (192.168.50.3:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:43:00,078 - (192.168.50.3:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:43:00,078 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:43:00,079 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:43:00,079 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:43:00,079 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:43:00,080 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:43:00,080 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:43:00,080 - (192.168.50.3:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | get_aggregated_models=[]
2024-03-05 23:43:00,080 - (192.168.50.3:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:43:00,081 - (192.168.50.3:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:43:00,081 - (192.168.50.3:45000) Round 9 of 10 finished.
2024-03-05 23:43:00,081 - (192.168.50.3:45000) clear | Acquiring __agg_lock.
2024-03-05 23:43:00,081 - (192.168.50.3:45000) clear | Releasing __finish_aggregation_lock.
2024-03-05 23:43:00,082 - (192.168.50.3:45000) clear | Releasing __agg_lock.
2024-03-05 23:43:00,082 - (192.168.50.3:45000) Round 10 of 10 started.
2024-03-05 23:43:00,083 - (192.168.50.3:45000) Evaluating...
2024-03-05 23:43:00,083 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:43:01,187 - (192.168.50.3:45000) Building message with hash 7239362066899351115
2024-03-05 23:43:03,194 - (192.168.50.3:45000) Building message with hash 479312284769429919
2024-03-05 23:43:05,201 - (192.168.50.3:45000) Building message with hash 993685976761527959
2024-03-05 23:43:05,752 - (192.168.50.3:45000) Finished evaluating.
2024-03-05 23:43:05,753 - (192.168.50.3:45000) Acquiring __model_initialized_lock
2024-03-05 23:43:05,753 - (192.168.50.3:45000) Federated Learning process has been completed.
2024-03-05 23:43:08,214 - (192.168.50.3:45000) Building message with hash 5009848759187738870
2024-03-05 23:43:08,935 - Error getting GPU usage: Not Supported
2024-03-05 23:43:10,219 - (192.168.50.3:45000) Building message with hash -5684652414886486700
2024-03-05 23:43:12,224 - (192.168.50.3:45000) Building message with hash 8142000688258315476
2024-03-05 23:43:14,229 - (192.168.50.3:45000) Building message with hash 3111567890935896469
2024-03-05 23:43:16,235 - (192.168.50.3:45000) Building message with hash 2385512778639892663
2024-03-05 23:43:18,241 - (192.168.50.3:45000) Building message with hash 9118850257051392957
2024-03-05 23:43:18,979 - Error getting GPU usage: Not Supported
2024-03-05 23:43:20,248 - (192.168.50.3:45000) Building message with hash -7741705778064209358
2024-03-05 23:43:22,252 - (192.168.50.3:45000) Building message with hash -117006497017515763
2024-03-05 23:43:24,258 - (192.168.50.3:45000) Building message with hash 2291885009650418195
2024-03-05 23:43:26,264 - (192.168.50.3:45000) Building message with hash 8825914537710230910
2024-03-05 23:43:28,269 - (192.168.50.3:45000) Building message with hash 9118139349936861808
2024-03-05 23:43:29,008 - Error getting GPU usage: Not Supported
2024-03-05 23:43:30,274 - (192.168.50.3:45000) Building message with hash 2967269341803935268
2024-03-05 23:43:32,279 - (192.168.50.3:45000) Building message with hash 2926225272368785462
2024-03-05 23:43:34,284 - (192.168.50.3:45000) Building message with hash 8557101683602424548
2024-03-05 23:43:36,289 - (192.168.50.3:45000) Building message with hash 4187521119168138993
2024-03-05 23:43:38,295 - (192.168.50.3:45000) Building message with hash 8296807512921416047
2024-03-05 23:43:39,066 - Error getting GPU usage: Not Supported
2024-03-05 23:43:40,300 - (192.168.50.3:45000) Building message with hash 522808590087126323
2024-03-05 23:43:42,304 - (192.168.50.3:45000) Building message with hash -8490588883282582812
2024-03-05 23:43:44,310 - (192.168.50.3:45000) Building message with hash -1347217062579496567
2024-03-05 23:43:46,314 - (192.168.50.3:45000) Building message with hash -5653494084906012850
2024-03-05 23:43:48,322 - (192.168.50.3:45000) Building message with hash 2475989356645923292
2024-03-05 23:43:49,108 - Error getting GPU usage: Not Supported
2024-03-05 23:43:50,325 - (192.168.50.3:45000) Building message with hash -8851188186713816861
2024-03-05 23:43:52,329 - (192.168.50.3:45000) Building message with hash -878626752522138461
2024-03-05 23:43:54,339 - (192.168.50.3:45000) Building message with hash 8500304809753258743
2024-03-05 23:43:56,346 - (192.168.50.3:45000) Building message with hash -1004416717542069689
2024-03-05 23:43:58,351 - (192.168.50.3:45000) Building message with hash 160342305482092481
2024-03-05 23:43:59,306 - Error getting GPU usage: Not Supported
2024-03-05 23:44:00,357 - (192.168.50.3:45000) Building message with hash -1441931632412989473
2024-03-05 23:44:02,364 - (192.168.50.3:45000) Building message with hash -6363995074724009252
2024-03-05 23:44:04,368 - (192.168.50.3:45000) Building message with hash -8927909854878171284
2024-03-05 23:44:06,374 - (192.168.50.3:45000) Building message with hash -1778600180785601201
2024-03-05 23:44:08,379 - (192.168.50.3:45000) Building message with hash 7029908617124786123
2024-03-05 23:44:09,370 - Error getting GPU usage: Not Supported
2024-03-05 23:44:10,386 - (192.168.50.3:45000) Building message with hash -5168429296082171937
2024-03-05 23:44:12,392 - (192.168.50.3:45000) Building message with hash 965569464749251967
2024-03-05 23:44:14,397 - (192.168.50.3:45000) Building message with hash -4082062823950026765
2024-03-05 23:44:16,401 - (192.168.50.3:45000) Building message with hash 2428941882082527666
2024-03-05 23:44:18,407 - (192.168.50.3:45000) Building message with hash 1027896004967441046
2024-03-05 23:44:19,392 - Error getting GPU usage: Not Supported
2024-03-05 23:44:20,411 - (192.168.50.3:45000) Building message with hash -8353087547395615899
2024-03-05 23:44:22,416 - (192.168.50.3:45000) Building message with hash 8258244607573196482
2024-03-05 23:44:24,422 - (192.168.50.3:45000) Building message with hash 51326917680951115
2024-03-05 23:44:26,430 - (192.168.50.3:45000) Building message with hash 1734751432959373164
2024-03-05 23:44:28,434 - (192.168.50.3:45000) Building message with hash -8807296554660865615
2024-03-05 23:44:29,426 - Error getting GPU usage: Not Supported
2024-03-05 23:44:30,439 - (192.168.50.3:45000) Building message with hash 1106451958358352317
2024-03-05 23:44:32,445 - (192.168.50.3:45000) Building message with hash 7653051875120244100
2024-03-05 23:44:34,449 - (192.168.50.3:45000) Building message with hash -2962026871989080475
2024-03-05 23:44:36,454 - (192.168.50.3:45000) Building message with hash -8551012589550448141
2024-03-05 23:44:38,461 - (192.168.50.3:45000) Building message with hash -5172338843509121112
2024-03-05 23:44:39,448 - Error getting GPU usage: Not Supported
2024-03-05 23:44:40,465 - (192.168.50.3:45000) Building message with hash -7718544639262911878
2024-03-05 23:44:42,471 - (192.168.50.3:45000) Building message with hash -3793283540952636381
2024-03-05 23:44:44,476 - (192.168.50.3:45000) Building message with hash -5948450654557005617
2024-03-05 23:44:46,482 - (192.168.50.3:45000) Building message with hash -7641418117340406873
2024-03-05 23:44:48,487 - (192.168.50.3:45000) Building message with hash -2051777354817441765
2024-03-05 23:44:49,502 - Error getting GPU usage: Not Supported
2024-03-05 23:44:50,491 - (192.168.50.3:45000) Building message with hash 4826425007988212325
2024-03-05 23:44:52,496 - (192.168.50.3:45000) Building message with hash -6207936311715619036
2024-03-05 23:44:54,502 - (192.168.50.3:45000) Building message with hash -8056575680721841104
2024-03-05 23:44:56,506 - (192.168.50.3:45000) Building message with hash 6529220522436062294
2024-03-05 23:44:58,511 - (192.168.50.3:45000) Building message with hash -4999242273508203015
2024-03-05 23:44:59,532 - Error getting GPU usage: Not Supported
2024-03-05 23:45:00,516 - (192.168.50.3:45000) Building message with hash -6476980109731405570
2024-03-05 23:45:02,522 - (192.168.50.3:45000) Building message with hash -2854605278661240593
2024-03-05 23:45:04,527 - (192.168.50.3:45000) Building message with hash 5641849287091198322
2024-03-05 23:45:06,533 - (192.168.50.3:45000) Building message with hash 6381191804102163768
2024-03-05 23:45:08,539 - (192.168.50.3:45000) Building message with hash 1592848553407525566
2024-03-05 23:45:09,564 - Error getting GPU usage: Not Supported
2024-03-05 23:45:10,546 - (192.168.50.3:45000) Building message with hash -1672505869246116260
2024-03-05 23:45:12,552 - (192.168.50.3:45000) Building message with hash 7424272362006129878
2024-03-05 23:45:14,556 - (192.168.50.3:45000) Building message with hash -148036020237605504
2024-03-05 23:45:16,561 - (192.168.50.3:45000) Building message with hash -7558399658448498169
2024-03-05 23:45:18,571 - (192.168.50.3:45000) Building message with hash 7908950216279715432
2024-03-05 23:45:19,587 - Error getting GPU usage: Not Supported
2024-03-05 23:45:20,576 - (192.168.50.3:45000) Building message with hash 194280620426829090
2024-03-05 23:45:22,582 - (192.168.50.3:45000) Building message with hash -4045108365595881534
2024-03-05 23:45:24,586 - (192.168.50.3:45000) Building message with hash 7655499364043394172
2024-03-05 23:45:26,591 - (192.168.50.3:45000) Building message with hash -1534107841991278505
2024-03-05 23:45:28,596 - (192.168.50.3:45000) Building message with hash -2080236871965892078
2024-03-05 23:45:29,647 - Error getting GPU usage: Not Supported
2024-03-05 23:45:30,600 - (192.168.50.3:45000) Building message with hash -7420954194476415091
2024-03-05 23:45:32,607 - (192.168.50.3:45000) Building message with hash -7200915910533005356
2024-03-05 23:45:34,613 - (192.168.50.3:45000) Building message with hash -3308041440675875191
2024-03-05 23:45:36,618 - (192.168.50.3:45000) Building message with hash -541328505065619529
2024-03-05 23:45:38,623 - (192.168.50.3:45000) Building message with hash -2471030765362726943
2024-03-05 23:45:40,082 - Error getting GPU usage: Not Supported
2024-03-05 23:45:40,627 - (192.168.50.3:45000) Building message with hash -4304933770478876886
2024-03-05 23:45:42,632 - (192.168.50.3:45000) Building message with hash 7583509101737941085
2024-03-05 23:45:44,636 - (192.168.50.3:45000) Building message with hash 7724830907157183486
2024-03-05 23:45:46,640 - (192.168.50.3:45000) Building message with hash 4200667605038333906
2024-03-05 23:45:48,646 - (192.168.50.3:45000) Building message with hash 7399080312126166639
2024-03-05 23:45:50,113 - Error getting GPU usage: Not Supported
2024-03-05 23:45:50,651 - (192.168.50.3:45000) Building message with hash -6744710086354642348
2024-03-05 23:45:52,657 - (192.168.50.3:45000) Building message with hash 5585337419741871547
2024-03-05 23:45:54,661 - (192.168.50.3:45000) Building message with hash -7434443638469866485
2024-03-05 23:45:56,666 - (192.168.50.3:45000) Building message with hash 6477862392026888412
2024-03-05 23:45:58,670 - (192.168.50.3:45000) Building message with hash 8726768362250160476
2024-03-05 23:46:00,149 - Error getting GPU usage: Not Supported
2024-03-05 23:46:00,675 - (192.168.50.3:45000) Building message with hash 1443234272310844034
2024-03-05 23:46:02,680 - (192.168.50.3:45000) Building message with hash 2548032960264912456
2024-03-05 23:46:04,685 - (192.168.50.3:45000) Building message with hash -5087971071525203890
2024-03-05 23:46:06,690 - (192.168.50.3:45000) Building message with hash 2029799732191424333
2024-03-05 23:46:08,694 - (192.168.50.3:45000) Building message with hash 6233167900230270587
2024-03-05 23:46:10,200 - Error getting GPU usage: Not Supported
2024-03-05 23:46:11,899 - (192.168.50.3:45000) Building message with hash 4233371514059530565
2024-03-05 23:46:13,903 - (192.168.50.3:45000) Building message with hash -1802636699512495630
2024-03-05 23:46:15,908 - (192.168.50.3:45000) Building message with hash -466303127825220668
2024-03-05 23:46:17,913 - (192.168.50.3:45000) Building message with hash -2367148279036300595
2024-03-05 23:46:19,918 - (192.168.50.3:45000) Building message with hash -6624290519831919542
2024-03-05 23:46:20,225 - Error getting GPU usage: Not Supported
2024-03-05 23:46:21,923 - (192.168.50.3:45000) Building message with hash -2524128575530451176
2024-03-05 23:46:23,928 - (192.168.50.3:45000) Building message with hash -4617065608565446157
2024-03-05 23:46:25,932 - (192.168.50.3:45000) Building message with hash -3475109595852674935
2024-03-05 23:46:27,937 - (192.168.50.3:45000) Building message with hash -1616487130398757698
2024-03-05 23:46:29,941 - (192.168.50.3:45000) Building message with hash -8361908629058210430
2024-03-05 23:46:30,247 - Error getting GPU usage: Not Supported
2024-03-05 23:46:31,947 - (192.168.50.3:45000) Building message with hash -335227900036114930
2024-03-05 23:46:33,951 - (192.168.50.3:45000) Building message with hash -793695831645078050
2024-03-05 23:46:35,955 - (192.168.50.3:45000) Building message with hash -6394288803693008658
2024-03-05 23:46:37,960 - (192.168.50.3:45000) Building message with hash 4737535317368200947
2024-03-05 23:46:39,965 - (192.168.50.3:45000) Building message with hash 7156338078078274561
2024-03-05 23:46:40,273 - Error getting GPU usage: Not Supported
2024-03-05 23:46:41,971 - (192.168.50.3:45000) Building message with hash -1916373445253811590
2024-03-05 23:46:43,976 - (192.168.50.3:45000) Building message with hash 4347316355451745583
2024-03-05 23:46:45,980 - (192.168.50.3:45000) Building message with hash -6905753879076081736
2024-03-05 23:46:47,985 - (192.168.50.3:45000) Building message with hash 2776325708410867065
2024-03-05 23:46:49,989 - (192.168.50.3:45000) Building message with hash -8145885197299559914
2024-03-05 23:46:50,322 - Error getting GPU usage: Not Supported
2024-03-05 23:46:51,994 - (192.168.50.3:45000) Building message with hash 4627615312160954187
2024-03-05 23:46:53,999 - (192.168.50.3:45000) Building message with hash 8002484146972672350
2024-03-05 23:46:56,003 - (192.168.50.3:45000) Building message with hash -3513095632983837723
2024-03-05 23:46:58,008 - (192.168.50.3:45000) Building message with hash -1148434604217952368
2024-03-05 23:47:00,012 - (192.168.50.3:45000) Building message with hash 2599721682985855521
2024-03-05 23:47:00,352 - Error getting GPU usage: Not Supported
2024-03-05 23:47:02,017 - (192.168.50.3:45000) Building message with hash 7093291892790532924
2024-03-05 23:47:04,022 - (192.168.50.3:45000) Building message with hash 6481663612109920504
2024-03-05 23:47:06,026 - (192.168.50.3:45000) Building message with hash -8883343714607285276
2024-03-05 23:47:08,032 - (192.168.50.3:45000) Building message with hash -1523070447556919448
2024-03-05 23:47:10,037 - (192.168.50.3:45000) Building message with hash -2210086352061316613
2024-03-05 23:47:10,373 - Error getting GPU usage: Not Supported
2024-03-05 23:47:12,041 - (192.168.50.3:45000) Building message with hash -1178915116385733915
2024-03-05 23:47:14,045 - (192.168.50.3:45000) Building message with hash 8461221523615784519
2024-03-05 23:47:16,050 - (192.168.50.3:45000) Building message with hash -8872294502234510642
2024-03-05 23:47:18,055 - (192.168.50.3:45000) Building message with hash -7839575348653065512
2024-03-05 23:47:20,059 - (192.168.50.3:45000) Building message with hash -3327888080741487947
2024-03-05 23:47:20,404 - Error getting GPU usage: Not Supported
2024-03-05 23:47:22,063 - (192.168.50.3:45000) Building message with hash -1356624056425852367
2024-03-05 23:47:24,067 - (192.168.50.3:45000) Building message with hash -4338542809305692051
2024-03-05 23:47:26,073 - (192.168.50.3:45000) Building message with hash -4176165882591765401
2024-03-05 23:47:28,079 - (192.168.50.3:45000) Building message with hash -5189314251780656088
2024-03-05 23:47:30,084 - (192.168.50.3:45000) Building message with hash -5876614255550695369
2024-03-05 23:47:30,462 - Error getting GPU usage: Not Supported
2024-03-05 23:47:32,089 - (192.168.50.3:45000) Building message with hash -5299815249720463559
2024-03-05 23:47:34,094 - (192.168.50.3:45000) Building message with hash -4558326057290133640
2024-03-05 23:47:36,100 - (192.168.50.3:45000) Building message with hash -8154633293571834801
2024-03-05 23:47:38,106 - (192.168.50.3:45000) Building message with hash 2760041259239895220
2024-03-05 23:47:40,110 - (192.168.50.3:45000) Building message with hash -8533155805389244323
2024-03-05 23:47:40,489 - Error getting GPU usage: Not Supported
2024-03-05 23:47:42,116 - (192.168.50.3:45000) Building message with hash 1981337928225627159
2024-03-05 23:47:44,122 - (192.168.50.3:45000) Building message with hash -2631710870517799854
2024-03-05 23:47:46,126 - (192.168.50.3:45000) Building message with hash 4783272106709838852
2024-03-05 23:47:48,131 - (192.168.50.3:45000) Building message with hash -6502482621747554381
2024-03-05 23:47:50,137 - (192.168.50.3:45000) Building message with hash -7585667453718757389
2024-03-05 23:47:50,512 - Error getting GPU usage: Not Supported
2024-03-05 23:47:52,142 - (192.168.50.3:45000) Building message with hash 8424387412943337527
2024-03-05 23:47:54,147 - (192.168.50.3:45000) Building message with hash 4740653193153339898
2024-03-05 23:47:56,151 - (192.168.50.3:45000) Building message with hash -914503724594365890
2024-03-05 23:47:58,156 - (192.168.50.3:45000) Building message with hash -6251805235873864152
2024-03-05 23:48:00,162 - (192.168.50.3:45000) Building message with hash -8197683686408355644
2024-03-05 23:48:00,564 - Error getting GPU usage: Not Supported
2024-03-05 23:48:02,167 - (192.168.50.3:45000) Building message with hash -2523251118529201587
