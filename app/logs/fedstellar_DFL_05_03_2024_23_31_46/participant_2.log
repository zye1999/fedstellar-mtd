2024-03-05 23:32:16,301 - 
╔══════════════════════════╗
║  Node information        ║
║  ----------------        ║
║  ID 2                    ║
║  IP: 192.168.50.4:45000  ║
║  Role: aggregator        ║
╚══════════════════════════╝
2024-03-05 23:32:16,370 - (192.168.50.4:45000) Starting reporter thread
2024-03-05 23:32:16,370 - 
╔═════════════════════════════╗
║  Mobility information       ║
║  --------------------       ║
║  Mobility: False            ║
║  Mobility type: both        ║
║  Radius federation: 1000.0  ║
║  Scheme mobility: random    ║
║  Each 1 rounds              ║
╚═════════════════════════════╝
2024-03-05 23:32:16,371 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:32:16,371 - [Krum] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:32:16,371 - [Median] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:32:16,371 - [TrimmedMean] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:32:16,372 - 
╔═══════════════════════════════════════╗
║  Defense information                  ║
║  -------------------                  ║
║  Reputation system: True              ║
║  Dynamic topology: False              ║
║  Dynamic aggregation: True            ║
║  Dynamic aggregation mode: Proactive  ║
║  Target aggregation: Krum             ║
╚═══════════════════════════════════════╝
2024-03-05 23:32:16,387 - [Learner] Fixing randomness with seed 42
2024-03-05 23:32:16,584 - 
╔══════════════════════════════════╗
║  Logging information             ║
║  -------------------             ║
║  Logging type: FedstellarLogger  ║
╚══════════════════════════════════╝
2024-03-05 23:32:16,585 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:32:16,585 - 
╔═════════════════════════════════╗
║  Additional information         ║
║  ----------------------         ║
║  Dataset: MNIST                 ║
║  IID: True                      ║
║  Model: MNISTModelMLP           ║
║  Aggregation algorithm: FedAvg  ║
║  Node behavior: benign          ║
╚═════════════════════════════════╝
2024-03-05 23:32:16,586 - (192.168.50.4:45000) Starting gRPC thread at 192.168.50.4:45000...
2024-03-05 23:32:16,588 - (192.168.50.4:45000) gRPC started.
2024-03-05 23:32:16,588 - (192.168.50.4:45000) Starting heartbeater thread
2024-03-05 23:32:16,588 - (192.168.50.4:45000) Building message with hash 8865751974107627141
2024-03-05 23:32:16,588 - (192.168.50.4:45000) Starting gossiper thread
2024-03-05 23:32:18,589 - (192.168.50.4:45000) Building message with hash 3342036637184153796
2024-03-05 23:32:20,590 - (192.168.50.4:45000) Building message with hash -7625757954035700539
2024-03-05 23:32:22,592 - (192.168.50.4:45000) Building message with hash 5719803195701883654
2024-03-05 23:32:24,593 - (192.168.50.4:45000) Building message with hash -1568629207994729838
2024-03-05 23:32:26,589 - (192.168.50.4:45000) connecting to 192.168.50.2:45000...
2024-03-05 23:32:26,590 - (192.168.50.4:45000) Attempting to add DIRECT connection 192.168.50.2:45000 (duplicated=False)
2024-03-05 23:32:26,590 - (192.168.50.4:45000) Adding direct connected neighbor 192.168.50.2:45000
2024-03-05 23:32:26,594 - (192.168.50.4:45000) Building message with hash 1939539938858822945
2024-03-05 23:32:27,721 - Error getting GPU usage: No data
2024-03-05 23:32:28,595 - (192.168.50.4:45000) Building message with hash -1271445304789708484
2024-03-05 23:32:28,598 - (192.168.50.4:45000) connecting to 192.168.50.3:45000...
2024-03-05 23:32:28,598 - (192.168.50.4:45000) Attempting to add DIRECT connection 192.168.50.3:45000 (duplicated=False)
2024-03-05 23:32:28,599 - (192.168.50.4:45000) Adding direct connected neighbor 192.168.50.3:45000
2024-03-05 23:32:30,598 - (192.168.50.4:45000) Building message with hash -4753013410416435930
2024-03-05 23:32:30,601 - (192.168.50.4:45000) Waiting for gRPC to terminate...
2024-03-05 23:32:32,603 - (192.168.50.4:45000) Building message with hash 6471476328838527196
2024-03-05 23:32:34,608 - (192.168.50.4:45000) Building message with hash 8232538603685214939
2024-03-05 23:32:36,613 - (192.168.50.4:45000) Building message with hash -6170524537522552228
2024-03-05 23:32:37,752 - Error getting GPU usage: Unknown Error
2024-03-05 23:32:38,617 - (192.168.50.4:45000) Building message with hash 719888216287372695
2024-03-05 23:32:40,621 - (192.168.50.4:45000) Building message with hash 1202017792032026057
2024-03-05 23:32:42,627 - (192.168.50.4:45000) Building message with hash 6606016473224662122
2024-03-05 23:32:44,631 - (192.168.50.4:45000) Building message with hash 2282550276137893438
2024-03-05 23:32:46,636 - (192.168.50.4:45000) Building message with hash 496086703180092904
2024-03-05 23:32:47,767 - Error getting GPU usage: Unknown Error
2024-03-05 23:32:48,641 - (192.168.50.4:45000) Building message with hash 6847971572263648321
2024-03-05 23:32:50,645 - (192.168.50.4:45000) Building message with hash 1778890895142321763
2024-03-05 23:32:52,650 - (192.168.50.4:45000) Building message with hash -8344589389861063149
2024-03-05 23:32:54,654 - (192.168.50.4:45000) Building message with hash 6441511370244235458
2024-03-05 23:32:56,659 - (192.168.50.4:45000) Building message with hash -3242715714797619690
2024-03-05 23:32:57,821 - Error getting GPU usage: Unknown Error
2024-03-05 23:32:58,321 - (192.168.50.4:45000) Starting learning thread
2024-03-05 23:32:58,322 - (192.168.50.4:45000) Starting Federated Learning process...
2024-03-05 23:32:58,322 - (192.168.50.4:45000) Initial DIRECT neighbors: ['192.168.50.2:45000', '192.168.50.3:45000'] | Initial UNDIRECT participants: []
2024-03-05 23:32:58,322 - (192.168.50.4:45000) Waiting initialization.
2024-03-05 23:32:58,332 - (192.168.50.4:45000) add_model (gRPC) | Initializing model (executed by 192.168.50.2:45000) | contributors=[]
2024-03-05 23:32:58,333 - (192.168.50.4:45000) Gossiping model initialization.
2024-03-05 23:32:58,334 - (192.168.50.4:45000) __gossip_model_difusion
2024-03-05 23:32:58,334 - (192.168.50.4:45000) __gossip_model_difusion | Waiting model initialization.
2024-03-05 23:32:58,335 - (192.168.50.4:45000 Gossip | ['192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:32:58,335 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:32:58,335 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000']
2024-03-05 23:32:58,335 - (192.168.50.4:45000) add_model (gRPC) | Model Weights Initialized
2024-03-05 23:32:58,336 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: [] and weight: 1
2024-03-05 23:32:58,336 - (192.168.50.4:45000) Building message with hash 1727554854213199230
2024-03-05 23:32:58,337 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 0: contributors=[], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:32:58,338 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 1727554854213199230
cmd: "model_initialized"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:32:58,664 - (192.168.50.4:45000) Building message with hash 4279883117837970599
2024-03-05 23:33:00,669 - (192.168.50.4:45000) Building message with hash -4699713781210892233
2024-03-05 23:33:01,422 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:33:01,423 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:33:02,673 - (192.168.50.4:45000) Building message with hash -5597933803416434651
2024-03-05 23:33:04,679 - (192.168.50.4:45000) Building message with hash 5275978017593040528
2024-03-05 23:33:06,683 - (192.168.50.4:45000) Building message with hash 1642147280074605399
2024-03-05 23:33:07,847 - Error getting GPU usage: Unknown Error
2024-03-05 23:33:08,688 - (192.168.50.4:45000) Building message with hash 739453760029595520
2024-03-05 23:33:10,692 - (192.168.50.4:45000) Building message with hash 4080950146136805449
2024-03-05 23:33:12,697 - (192.168.50.4:45000) Building message with hash 133667918472037262
2024-03-05 23:33:14,701 - (192.168.50.4:45000) Building message with hash -3239422515886823049
2024-03-05 23:33:16,706 - (192.168.50.4:45000) Building message with hash -6755386689453102957
2024-03-05 23:33:17,862 - Error getting GPU usage: Unknown Error
2024-03-05 23:33:18,322 - (192.168.50.4:45000) Round 0 of 10 started.
2024-03-05 23:33:18,323 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:33:18,447 - 192.168.50.4:45000 Train set: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:33:18,447 - 192.168.50.4:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.3:45000'] | Undirected neighbors: []
2024-03-05 23:33:18,448 - [NODE.__train_step] Role.AGGREGATOR process...
2024-03-05 23:33:18,448 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:33:18,448 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:33:18,449 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:33:18,449 - (192.168.50.4:45000) Evaluating...
2024-03-05 23:33:18,449 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:33:20,002 - (192.168.50.4:45000) Building message with hash -5944138580238930886
2024-03-05 23:33:22,010 - (192.168.50.4:45000) Building message with hash -2079930827411464719
2024-03-05 23:33:24,018 - (192.168.50.4:45000) Building message with hash 5210316184997984114
2024-03-05 23:33:26,024 - (192.168.50.4:45000) Building message with hash -3278697374335234044
2024-03-05 23:33:27,899 - Error getting GPU usage: Not Supported
2024-03-05 23:33:28,031 - (192.168.50.4:45000) Building message with hash 5046238373662611200
2024-03-05 23:33:30,038 - (192.168.50.4:45000) Building message with hash 8657644120541497435
2024-03-05 23:33:31,977 - (192.168.50.4:45000) Finished evaluating.
2024-03-05 23:33:31,977 - (192.168.50.4:45000) Training...
2024-03-05 23:33:31,977 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:33:32,048 - (192.168.50.4:45000) Building message with hash -5943925936192312410
2024-03-05 23:33:34,540 - (192.168.50.4:45000) Building message with hash -5185406699824618789
2024-03-05 23:33:36,549 - (192.168.50.4:45000) Building message with hash -4223759512882262889
2024-03-05 23:33:39,643 - (192.168.50.4:45000) Building message with hash -5387694431013164712
2024-03-05 23:33:39,727 - Error getting GPU usage: Not Supported
2024-03-05 23:33:41,662 - (192.168.50.4:45000) Building message with hash -1498030469673598508
2024-03-05 23:33:49,765 - Error getting GPU usage: Not Supported
2024-03-05 23:33:50,451 - (192.168.50.4:45000) Building message with hash 1641812208527100247
2024-03-05 23:33:52,457 - (192.168.50.4:45000) Building message with hash 5744587465462860446
2024-03-05 23:33:54,462 - (192.168.50.4:45000) Building message with hash 8281642183298486896
2024-03-05 23:33:56,470 - (192.168.50.4:45000) Building message with hash 7087799759516625370
2024-03-05 23:33:58,475 - (192.168.50.4:45000) Building message with hash 4145250114453175544
2024-03-05 23:34:00,142 - Error getting GPU usage: Not Supported
2024-03-05 23:34:03,747 - (192.168.50.4:45000) Building message with hash 610058867830160281
2024-03-05 23:34:05,752 - (192.168.50.4:45000) Building message with hash -3107047164265124576
2024-03-05 23:34:07,756 - (192.168.50.4:45000) Building message with hash -1777928820389968900
2024-03-05 23:34:09,760 - (192.168.50.4:45000) Building message with hash -7368878656808772533
2024-03-05 23:34:10,195 - Error getting GPU usage: Not Supported
2024-03-05 23:34:11,766 - (192.168.50.4:45000) Building message with hash -5646741366559084736
2024-03-05 23:34:13,771 - (192.168.50.4:45000) Building message with hash -1857639112689042972
2024-03-05 23:34:15,778 - (192.168.50.4:45000) Building message with hash 1683686985931359752
2024-03-05 23:34:17,783 - (192.168.50.4:45000) Building message with hash 1000263534256288721
2024-03-05 23:34:19,788 - (192.168.50.4:45000) Building message with hash -3501632491603054369
2024-03-05 23:34:20,231 - Error getting GPU usage: Not Supported
2024-03-05 23:34:21,793 - (192.168.50.4:45000) Building message with hash -3233106134485434520
2024-03-05 23:34:23,798 - (192.168.50.4:45000) Building message with hash 6417228139993659596
2024-03-05 23:34:25,804 - (192.168.50.4:45000) Building message with hash -836652014799314168
2024-03-05 23:34:27,809 - (192.168.50.4:45000) Building message with hash -3679653672518826433
2024-03-05 23:34:29,815 - (192.168.50.4:45000) Building message with hash -6639640146839062017
2024-03-05 23:34:30,296 - Error getting GPU usage: Not Supported
2024-03-05 23:34:31,821 - (192.168.50.4:45000) Building message with hash 2099024172826666228
2024-03-05 23:34:33,827 - (192.168.50.4:45000) Building message with hash -7714898180605354468
2024-03-05 23:34:35,833 - (192.168.50.4:45000) Building message with hash 784558327765451097
2024-03-05 23:34:37,838 - (192.168.50.4:45000) Building message with hash 6256840269119156099
2024-03-05 23:34:39,752 - (192.168.50.4:45000) add_model (gRPC) | Initializing model (executed by 192.168.50.2:45000) | contributors=['192.168.50.2:45000']
2024-03-05 23:34:39,755 - (192.168.50.4:45000) add_model (gRPC) | Model Weights Initialized
2024-03-05 23:34:39,755 - (192.168.50.4:45000) Building message with hash 7110035362907099775
2024-03-05 23:34:39,756 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 7110035362907099775
cmd: "model_initialized"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:34:39,802 - Something went wrong with pytorch lightning. one of the variables needed for gradient computation has been modified by an inplace operation: [torch.cuda.FloatTensor [128, 10]], which is output 0 of AsStridedBackward0, is at version 1287; expected version 1286 instead. Hint: enable anomaly detection to find the operation that failed to compute its gradient, with torch.autograd.set_detect_anomaly(True).
2024-03-05 23:34:39,807 - Traceback (most recent call last):
  File "/fedstellar/fedstellar/../fedstellar/learning/pytorch/lightninglearner.py", line 152, in fit
    self.__trainer.fit(self.model, self.data)
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/trainer/trainer.py", line 544, in fit
    call._call_and_handle_interrupt(
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/trainer/call.py", line 44, in _call_and_handle_interrupt
    return trainer_fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/trainer/trainer.py", line 580, in _fit_impl
    self._run(model, ckpt_path=ckpt_path)
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/trainer/trainer.py", line 989, in _run
    results = self._run_stage()
              ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/trainer/trainer.py", line 1035, in _run_stage
    self.fit_loop.run()
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/loops/fit_loop.py", line 202, in run
    self.advance()
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/loops/fit_loop.py", line 359, in advance
    self.epoch_loop.run(self._data_fetcher)
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/loops/training_epoch_loop.py", line 136, in run
    self.advance(data_fetcher)
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/loops/training_epoch_loop.py", line 240, in advance
    batch_output = self.automatic_optimization.run(trainer.optimizers[0], batch_idx, kwargs)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/loops/optimization/automatic.py", line 187, in run
    self._optimizer_step(batch_idx, closure)
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/loops/optimization/automatic.py", line 265, in _optimizer_step
    call._call_lightning_module_hook(
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/trainer/call.py", line 157, in _call_lightning_module_hook
    output = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/core/module.py", line 1291, in optimizer_step
    optimizer.step(closure=optimizer_closure)
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/core/optimizer.py", line 151, in step
    step_output = self._strategy.optimizer_step(self._optimizer, closure, **kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/strategies/strategy.py", line 230, in optimizer_step
    return self.precision_plugin.optimizer_step(optimizer, model=model, closure=closure, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/plugins/precision/precision.py", line 117, in optimizer_step
    return optimizer.step(closure=closure, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/torch/optim/optimizer.py", line 373, in wrapper
    out = func(*args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/torch/optim/optimizer.py", line 76, in _use_grad
    ret = func(self, *args, **kwargs)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/torch/optim/adam.py", line 143, in step
    loss = closure()
           ^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/plugins/precision/precision.py", line 104, in _wrap_closure
    closure_result = closure()
                     ^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/loops/optimization/automatic.py", line 140, in __call__
    self._result = self.closure(*args, **kwargs)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/torch/utils/_contextlib.py", line 115, in decorate_context
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/loops/optimization/automatic.py", line 135, in closure
    self._backward_fn(step_output.closure_loss)
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/loops/optimization/automatic.py", line 236, in backward_fn
    call._call_strategy_hook(self.trainer, "backward", loss, optimizer)
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/trainer/call.py", line 309, in _call_strategy_hook
    output = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/strategies/strategy.py", line 204, in backward
    self.precision_plugin.backward(closure_loss, self.lightning_module, optimizer, *args, **kwargs)
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/plugins/precision/precision.py", line 69, in backward
    model.backward(tensor, *args, **kwargs)
  File "/usr/local/lib/python3.11/dist-packages/lightning/pytorch/core/module.py", line 1078, in backward
    loss.backward(*args, **kwargs)
  File "/usr/local/lib/python3.11/dist-packages/torch/_tensor.py", line 492, in backward
    torch.autograd.backward(
  File "/usr/local/lib/python3.11/dist-packages/torch/autograd/__init__.py", line 251, in backward
    Variable._execution_engine.run_backward(  # Calls into the C++ engine to run the backward pass
RuntimeError: one of the variables needed for gradient computation has been modified by an inplace operation: [torch.cuda.FloatTensor [128, 10]], which is output 0 of AsStridedBackward0, is at version 1287; expected version 1286 instead. Hint: enable anomaly detection to find the operation that failed to compute its gradient, with torch.autograd.set_detect_anomaly(True).

2024-03-05 23:34:39,808 - (192.168.50.4:45000) Finished training.
2024-03-05 23:34:39,808 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:34:39,808 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:34:39,809 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:34:39,809 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:34:39,809 - (192.168.50.4:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.4:45000']
2024-03-05 23:34:39,809 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:34:39,810 - (192.168.50.4:45000) Building message with hash 2344116308648776246
2024-03-05 23:34:39,810 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 2344116308648776246
cmd: "models_aggregated"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:34:39,815 - (192.168.50.4:45000) __gossip_model_aggregation
2024-03-05 23:34:39,815 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:34:39,815 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:34:39,815 - (192.168.50.4:45000) Aggregated models at round 0: ['192.168.50.2:45000']
2024-03-05 23:34:39,816 - (192.168.50.4:45000) Aggregated models at round 0: ['192.168.50.2:45000']
2024-03-05 23:34:39,816 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:34:39,816 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-03-05 23:34:39,817 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 0: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:34:39,825 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-03-05 23:34:39,826 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 0: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:34:39,845 - (192.168.50.4:45000) Building message with hash 5023879824453432460
2024-03-05 23:34:40,326 - Error getting GPU usage: Not Supported
2024-03-05 23:34:41,850 - (192.168.50.4:45000) Building message with hash 5158568847244639971
2024-03-05 23:34:42,802 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:34:42,805 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000']) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000']
2024-03-05 23:34:42,805 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:34:42,805 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:34:42,805 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:34:42,806 - (192.168.50.4:45000) add_model (aggregator) | Model added (2/3) from ['192.168.50.2:45000']
2024-03-05 23:34:42,806 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:34:42,806 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:34:42,806 - (192.168.50.4:45000) Building message with hash 3319540202937931220
2024-03-05 23:34:42,807 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 3319540202937931220
cmd: "models_aggregated"
args: "192.168.50.4:45000"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:34:42,856 - (192.168.50.4:45000 Gossip | ['192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:34:42,856 - (192.168.50.4:45000) Gossip | last_x_status: [[('192.168.50.2:45000', ['192.168.50.2:45000']), ('192.168.50.3:45000', ['192.168.50.2:45000'])]] | j: 0
2024-03-05 23:34:42,856 - (192.168.50.4:45000) Aggregated models at round 0: ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:34:42,857 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000']
2024-03-05 23:34:42,857 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-03-05 23:34:42,858 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 0: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:34:43,855 - (192.168.50.4:45000) Building message with hash -3306424438483173425
2024-03-05 23:34:45,860 - (192.168.50.4:45000) Building message with hash -4120834120615736109
2024-03-05 23:34:45,861 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:34:45,863 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.2:45000']) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:34:45,863 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:34:45,863 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:34:45,864 - (192.168.50.4:45000) BETA add_model (aggregator) | Some contributors are in the aggregated models.
2024-03-05 23:34:45,864 - (192.168.50.4:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.4:45000', '192.168.50.2:45000'])
2024-03-05 23:34:45,864 - (192.168.50.4:45000) BETA add_model (aggregator) | nodes_not_in_aggregated_models=[]
2024-03-05 23:34:45,864 - (192.168.50.4:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.4:45000', '192.168.50.2:45000'])
2024-03-05 23:34:45,864 - (192.168.50.4:45000) BETA add_model (aggregator) | Model added (2/3) from ['192.168.50.2:45000']
2024-03-05 23:34:45,865 - (192.168.50.4:45000) BETA add_model (aggregator) | self.aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:34:45,865 - (192.168.50.4:45000) BETA add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:34:45,865 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:34:45,865 - (192.168.50.4:45000) Building message with hash -2341701648063730229
2024-03-05 23:34:45,865 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -2341701648063730229
cmd: "models_aggregated"
args: "192.168.50.4:45000"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:34:45,879 - (192.168.50.4:45000 Gossip | ['192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:34:45,880 - (192.168.50.4:45000) Gossip | last_x_status: [[('192.168.50.2:45000', ['192.168.50.2:45000']), ('192.168.50.3:45000', ['192.168.50.2:45000'])], [('192.168.50.3:45000', ['192.168.50.4:45000', '192.168.50.2:45000'])]] | j: 0
2024-03-05 23:34:45,880 - (192.168.50.4:45000) Aggregated models at round 0: ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:34:45,880 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000']
2024-03-05 23:34:45,880 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-03-05 23:34:45,881 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 0: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:34:47,867 - (192.168.50.4:45000) Building message with hash 3246976825892654324
2024-03-05 23:34:48,903 - (192.168.50.4:45000 Gossip | ['192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:34:49,423 - (192.168.50.4:45000) Gossip | last_x_status: [[('192.168.50.2:45000', ['192.168.50.2:45000']), ('192.168.50.3:45000', ['192.168.50.2:45000'])], [('192.168.50.3:45000', ['192.168.50.4:45000', '192.168.50.2:45000'])], [('192.168.50.3:45000', ['192.168.50.4:45000', '192.168.50.2:45000'])]] | j: 0
2024-03-05 23:34:49,423 - (192.168.50.4:45000) Aggregated models at round 0: ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:34:49,423 - (192.168.50.4:45000) Gossip | Comparing [('192.168.50.3:45000', ['192.168.50.4:45000', '192.168.50.2:45000'])] with [('192.168.50.3:45000', ['192.168.50.4:45000', '192.168.50.2:45000'])]
2024-03-05 23:34:49,424 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000']
2024-03-05 23:34:49,424 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-03-05 23:34:49,425 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 0: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:34:49,447 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:34:49,449 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.2:45000']) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:34:49,449 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:34:49,449 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:34:49,449 - (192.168.50.4:45000) BETA add_model (aggregator) | Some contributors are in the aggregated models.
2024-03-05 23:34:49,450 - (192.168.50.4:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.4:45000', '192.168.50.2:45000'])
2024-03-05 23:34:49,450 - (192.168.50.4:45000) BETA add_model (aggregator) | nodes_not_in_aggregated_models=[]
2024-03-05 23:34:49,450 - (192.168.50.4:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.4:45000', '192.168.50.2:45000'])
2024-03-05 23:34:49,450 - (192.168.50.4:45000) BETA add_model (aggregator) | Model added (2/3) from ['192.168.50.2:45000']
2024-03-05 23:34:49,451 - (192.168.50.4:45000) BETA add_model (aggregator) | self.aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:34:49,451 - (192.168.50.4:45000) BETA add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:34:49,451 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:34:49,451 - (192.168.50.4:45000) Building message with hash 7802070672631198666
2024-03-05 23:34:49,452 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 7802070672631198666
cmd: "models_aggregated"
args: "192.168.50.4:45000"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:34:49,668 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:34:49,669 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000', '192.168.50.2:45000']) | contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:34:49,669 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:34:49,669 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:34:49,670 - (192.168.50.4:45000) add_model (aggregator) | The number of contributors is equal to the number of nodes in the train set. --> Full aggregation.
2024-03-05 23:34:49,670 - (192.168.50.4:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:34:49,670 - (192.168.50.4:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-03-05 23:34:49,670 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:34:49,670 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:34:49,670 - (192.168.50.4:45000) Building message with hash 1896968440225346703
2024-03-05 23:34:49,670 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 1896968440225346703
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.4:45000"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:34:49,871 - (192.168.50.4:45000) Building message with hash -7518673447021180004
2024-03-05 23:34:50,353 - Error getting GPU usage: Not Supported
2024-03-05 23:34:51,876 - (192.168.50.4:45000) Building message with hash 5369547902310443733
2024-03-05 23:34:52,697 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:34:52,698 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.4:45000 192.168.50.3:45000']) | contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:34:52,698 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:34:52,699 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:34:52,699 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:34:52,979 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:34:52,980 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:34:52,980 - (192.168.50.4:45000) Waiting aggregation and gossiping model (difusion).
2024-03-05 23:34:52,981 - (192.168.50.4:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:34:52,981 - (192.168.50.4:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-03-05 23:34:52,981 - (192.168.50.4:45000) wait_and_get_aggregation | Starting aggregation.
2024-03-05 23:34:52,981 - (192.168.50.4:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-03-05 23:34:52,981 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models.
2024-03-05 23:34:52,982 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.2:45000 192.168.50.4:45000 192.168.50.3:45000'])
2024-03-05 23:34:52,984 - [FedAvg.aggregate] Aggregating models: num=1
2024-03-05 23:34:52,985 - (192.168.50.4:45000) __wait_aggregated_model | Aggregation done for round 0, including parameters in local model.
2024-03-05 23:34:52,985 - (192.168.50.4:45000) __wait_aggregated_model | Broadcasting aggregation done for round 0
2024-03-05 23:34:52,985 - (192.168.50.4:45000) Building message with hash 5067095758570349008
2024-03-05 23:34:52,986 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 5067095758570349008
cmd: "models_ready"
args: "0"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:34:52,987 - (192.168.50.4:45000) __gossip_model_difusion
2024-03-05 23:34:52,987 - (192.168.50.4:45000) __gossip_model_difusion | Waiting model aggregation.
2024-03-05 23:34:52,988 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:34:52,988 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:34:52,988 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000']
2024-03-05 23:34:52,988 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:34:52,989 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 0: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:34:53,880 - (192.168.50.4:45000) Building message with hash -6019095178820009209
2024-03-05 23:34:55,884 - (192.168.50.4:45000) Building message with hash 7353667681891596421
2024-03-05 23:34:56,000 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:34:56,000 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:34:56,001 - (192.168.50.4:45000) Round 0 of 10 finished.
2024-03-05 23:34:56,001 - (192.168.50.4:45000) clear | Acquiring __agg_lock.
2024-03-05 23:34:56,001 - (192.168.50.4:45000) clear | Releasing __finish_aggregation_lock.
2024-03-05 23:34:56,001 - (192.168.50.4:45000) clear | Releasing __agg_lock.
2024-03-05 23:34:56,002 - (192.168.50.4:45000) Round 1 of 10 started.
2024-03-05 23:34:56,002 - 192.168.50.4:45000 Train set: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:34:56,003 - 192.168.50.4:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.3:45000'] | Undirected neighbors: []
2024-03-05 23:34:56,003 - [NODE.__train_step] Role.AGGREGATOR process...
2024-03-05 23:34:56,003 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:34:56,003 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:34:56,004 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:34:56,004 - (192.168.50.4:45000) Evaluating...
2024-03-05 23:34:56,004 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:34:57,921 - (192.168.50.4:45000) Building message with hash -2654548170977382776
2024-03-05 23:35:00,387 - Error getting GPU usage: Not Supported
2024-03-05 23:35:06,328 - (192.168.50.4:45000) Building message with hash -8513328734499147173
2024-03-05 23:35:08,333 - (192.168.50.4:45000) Building message with hash 5311470505333014720
2024-03-05 23:35:09,767 - (192.168.50.4:45000) Finished evaluating.
2024-03-05 23:35:09,767 - (192.168.50.4:45000) Training...
2024-03-05 23:35:09,767 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:35:10,337 - (192.168.50.4:45000) Building message with hash -3314234014688050520
2024-03-05 23:35:10,459 - Error getting GPU usage: Not Supported
2024-03-05 23:35:12,342 - (192.168.50.4:45000) Building message with hash -2198935517866816840
2024-03-05 23:35:14,349 - (192.168.50.4:45000) Building message with hash 4780651228902014100
2024-03-05 23:35:16,354 - (192.168.50.4:45000) Building message with hash -4331751686221716033
2024-03-05 23:35:18,361 - (192.168.50.4:45000) Building message with hash -3098361693887749866
2024-03-05 23:35:20,367 - (192.168.50.4:45000) Building message with hash 1650401055300661690
2024-03-05 23:35:20,494 - Error getting GPU usage: Not Supported
2024-03-05 23:35:22,670 - (192.168.50.4:45000) Building message with hash -119319054450335867
2024-03-05 23:35:24,675 - (192.168.50.4:45000) Building message with hash -3292534968165757589
2024-03-05 23:35:26,681 - (192.168.50.4:45000) Building message with hash -3037689453877676933
2024-03-05 23:35:28,687 - (192.168.50.4:45000) Building message with hash 1752053367531895474
2024-03-05 23:35:30,530 - Error getting GPU usage: Not Supported
2024-03-05 23:35:30,693 - (192.168.50.4:45000) Building message with hash 2935281615106020742
2024-03-05 23:35:32,699 - (192.168.50.4:45000) Building message with hash 1608171741152120101
2024-03-05 23:35:34,704 - (192.168.50.4:45000) Building message with hash 5848136730301873706
2024-03-05 23:35:36,709 - (192.168.50.4:45000) Building message with hash -4207843180104541750
2024-03-05 23:35:38,715 - (192.168.50.4:45000) Building message with hash 723850498039600973
2024-03-05 23:35:40,554 - Error getting GPU usage: Not Supported
2024-03-05 23:35:40,720 - (192.168.50.4:45000) Building message with hash -5204936575925423344
2024-03-05 23:35:42,727 - (192.168.50.4:45000) Building message with hash 4541321674580345542
2024-03-05 23:35:43,223 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:35:43,226 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:35:43,226 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:35:43,226 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:35:43,227 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:35:43,227 - (192.168.50.4:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.2:45000']
2024-03-05 23:35:43,227 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:35:43,227 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000']
2024-03-05 23:35:43,228 - (192.168.50.4:45000) Building message with hash -8258290344958798938
2024-03-05 23:35:43,228 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -8258290344958798938
cmd: "models_aggregated"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:35:43,950 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:35:43,952 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000']) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000']
2024-03-05 23:35:43,952 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:35:43,952 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:35:43,953 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:35:43,953 - (192.168.50.4:45000) add_model (aggregator) | Model added (2/3) from ['192.168.50.3:45000']
2024-03-05 23:35:43,953 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:35:43,953 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:35:43,956 - (192.168.50.4:45000) Building message with hash -1109258352729665522
2024-03-05 23:35:43,957 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -1109258352729665522
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:35:43,958 - (192.168.50.4:45000) Finished training.
2024-03-05 23:35:43,958 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000']) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:35:43,958 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:35:43,958 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:35:43,958 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:35:43,959 - (192.168.50.4:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.4:45000']
2024-03-05 23:35:43,959 - (192.168.50.4:45000) add_model (aggregator) | All models were added. Finishing aggregation.
2024-03-05 23:35:43,959 - (192.168.50.4:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-03-05 23:35:43,959 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:35:43,959 - (192.168.50.4:45000) Building message with hash 5482854355088092050
2024-03-05 23:35:43,960 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 5482854355088092050
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:35:43,961 - (192.168.50.4:45000) __gossip_model_aggregation
2024-03-05 23:35:43,961 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:35:43,961 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:35:43,961 - (192.168.50.4:45000) Waiting aggregation and gossiping model (difusion).
2024-03-05 23:35:43,961 - (192.168.50.4:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:35:43,961 - (192.168.50.4:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-03-05 23:35:43,962 - (192.168.50.4:45000) wait_and_get_aggregation | Starting aggregation.
2024-03-05 23:35:43,962 - (192.168.50.4:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-03-05 23:35:43,962 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models.
2024-03-05 23:35:43,962 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'])
2024-03-05 23:35:43,962 - [FedAvg.aggregate] Aggregating models: num=3
2024-03-05 23:35:43,964 - (192.168.50.4:45000) __wait_aggregated_model | Aggregation done for round 1, including parameters in local model.
2024-03-05 23:35:43,964 - (192.168.50.4:45000) __wait_aggregated_model | Broadcasting aggregation done for round 1
2024-03-05 23:35:43,965 - (192.168.50.4:45000) Building message with hash 2694005624434025721
2024-03-05 23:35:43,965 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 2694005624434025721
cmd: "models_ready"
args: "1"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:35:43,966 - (192.168.50.4:45000) __gossip_model_difusion
2024-03-05 23:35:43,966 - (192.168.50.4:45000) __gossip_model_difusion | Waiting model aggregation.
2024-03-05 23:35:43,966 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:35:43,967 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:35:43,967 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:35:43,967 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:35:43,968 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 1: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:35:43,974 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:35:43,974 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 1: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:35:44,732 - (192.168.50.4:45000) Building message with hash 2849678916279924924
2024-03-05 23:35:46,737 - (192.168.50.4:45000) Building message with hash 4007136005123548837
2024-03-05 23:35:46,994 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:35:46,994 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:35:46,995 - (192.168.50.4:45000) Dynamic aggregation function is enabled for round 1. Randomly select an aggregation function for the next round.
2024-03-05 23:35:46,995 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:35:46,995 - [Krum] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:35:46,995 - [Median] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:35:46,996 - [TrimmedMean] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:35:46,996 - get_aggregated_models current aggregator is: <fedstellar.learning.aggregators.fedavg.FedAvg object at 0x7f33cbca6d10>
2024-03-05 23:35:46,996 - get_aggregated_models target_aggregation is: <fedstellar.learning.aggregators.trimmedmean.TrimmedMean object at 0x7f339051f290>
2024-03-05 23:35:46,996 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:35:46,997 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:35:46,997 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:35:46,997 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:35:46,997 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:35:46,997 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:35:46,998 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:35:46,998 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:35:46,998 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:35:46,998 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:35:46,998 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:35:46,999 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:35:46,999 - (192.168.50.4:45000) Round 1 of 10 finished.
2024-03-05 23:35:46,999 - (192.168.50.4:45000) clear | Acquiring __agg_lock.
2024-03-05 23:35:46,999 - (192.168.50.4:45000) clear | Releasing __finish_aggregation_lock.
2024-03-05 23:35:46,999 - (192.168.50.4:45000) clear | Releasing __agg_lock.
2024-03-05 23:35:47,001 - (192.168.50.4:45000) Round 2 of 10 started.
2024-03-05 23:35:47,002 - 192.168.50.4:45000 Train set: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:35:47,002 - 192.168.50.4:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.3:45000'] | Undirected neighbors: []
2024-03-05 23:35:47,002 - [NODE.__train_step] Role.AGGREGATOR process...
2024-03-05 23:35:47,002 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:35:47,003 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:35:47,003 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:35:47,003 - (192.168.50.4:45000) Evaluating...
2024-03-05 23:35:47,003 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:35:48,741 - (192.168.50.4:45000) Building message with hash -4287009146297917531
2024-03-05 23:35:50,616 - Error getting GPU usage: Not Supported
2024-03-05 23:35:50,748 - (192.168.50.4:45000) Building message with hash 1824786955129235504
2024-03-05 23:35:51,326 - (192.168.50.4:45000) Finished evaluating.
2024-03-05 23:35:51,326 - (192.168.50.4:45000) Training...
2024-03-05 23:35:51,326 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:35:52,754 - (192.168.50.4:45000) Building message with hash 7559999809181321773
2024-03-05 23:35:54,760 - (192.168.50.4:45000) Building message with hash 8084493770191357228
2024-03-05 23:35:56,766 - (192.168.50.4:45000) Building message with hash 826263645736714065
2024-03-05 23:35:58,771 - (192.168.50.4:45000) Building message with hash -4348014291605466475
2024-03-05 23:36:00,661 - Error getting GPU usage: Not Supported
2024-03-05 23:36:00,777 - (192.168.50.4:45000) Building message with hash 6540733644066877023
2024-03-05 23:36:02,783 - (192.168.50.4:45000) Building message with hash 818456127553878381
2024-03-05 23:36:04,790 - (192.168.50.4:45000) Building message with hash 8370388761758714131
2024-03-05 23:36:06,796 - (192.168.50.4:45000) Building message with hash -6975038601071127063
2024-03-05 23:36:08,801 - (192.168.50.4:45000) Building message with hash -8222885921225701865
2024-03-05 23:36:10,698 - Error getting GPU usage: Not Supported
2024-03-05 23:36:10,807 - (192.168.50.4:45000) Building message with hash -3031025181834411631
2024-03-05 23:36:12,815 - (192.168.50.4:45000) Building message with hash -2412066870017066258
2024-03-05 23:36:14,822 - (192.168.50.4:45000) Building message with hash 9177183995788169684
2024-03-05 23:36:16,828 - (192.168.50.4:45000) Building message with hash 5503319269893678660
2024-03-05 23:36:18,834 - (192.168.50.4:45000) Building message with hash -8769126812881480368
2024-03-05 23:36:20,735 - Error getting GPU usage: Not Supported
2024-03-05 23:36:20,841 - (192.168.50.4:45000) Building message with hash -4557610499464177145
2024-03-05 23:36:22,848 - (192.168.50.4:45000) Building message with hash 2287691205530222264
2024-03-05 23:36:24,854 - (192.168.50.4:45000) Building message with hash -1766465993071037469
2024-03-05 23:36:26,223 - (192.168.50.4:45000) Finished training.
2024-03-05 23:36:26,223 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:36:26,224 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:36:26,224 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:36:26,224 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:36:26,224 - (192.168.50.4:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.4:45000']
2024-03-05 23:36:26,225 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:26,225 - (192.168.50.4:45000) Building message with hash -7912456428859765023
2024-03-05 23:36:26,225 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -7912456428859765023
cmd: "models_aggregated"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:36:26,228 - (192.168.50.4:45000) __gossip_model_aggregation
2024-03-05 23:36:26,228 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:36:26,228 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:36:26,228 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:36:26,229 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-03-05 23:36:26,230 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 2: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:36:26,240 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-03-05 23:36:26,241 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 2: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:36:26,859 - (192.168.50.4:45000) Building message with hash -2935783591208345531
2024-03-05 23:36:27,681 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 2 / 1
2024-03-05 23:36:27,686 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:36:27,687 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000']
2024-03-05 23:36:27,687 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:36:27,687 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:36:27,688 - (192.168.50.4:45000) add_model (aggregator) | The number of contributors is equal to the number of nodes in the train set. --> Full aggregation.
2024-03-05 23:36:27,688 - (192.168.50.4:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:36:27,688 - (192.168.50.4:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-03-05 23:36:27,688 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:27,688 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:36:27,688 - (192.168.50.4:45000) Building message with hash 6140767303818672330
2024-03-05 23:36:27,689 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 6140767303818672330
cmd: "models_aggregated"
args: "192.168.50.4:45000"
args: "192.168.50.3:45000"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:36:28,864 - (192.168.50.4:45000) Building message with hash 2977203253553309240
2024-03-05 23:36:29,273 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:36:29,273 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:36:29,274 - (192.168.50.4:45000) Waiting aggregation and gossiping model (difusion).
2024-03-05 23:36:29,274 - (192.168.50.4:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:36:29,274 - (192.168.50.4:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-03-05 23:36:29,274 - (192.168.50.4:45000) wait_and_get_aggregation | Starting aggregation.
2024-03-05 23:36:29,275 - (192.168.50.4:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-03-05 23:36:29,275 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models.
2024-03-05 23:36:29,275 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000'])
2024-03-05 23:36:29,275 - [TrimmedMean.aggregate] Aggregating models: num=1
2024-03-05 23:36:29,279 - (192.168.50.4:45000) __wait_aggregated_model | Aggregation done for round 2, including parameters in local model.
2024-03-05 23:36:29,280 - (192.168.50.4:45000) __wait_aggregated_model | Broadcasting aggregation done for round 2
2024-03-05 23:36:29,280 - (192.168.50.4:45000) Building message with hash 7411221552844439266
2024-03-05 23:36:29,280 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 7411221552844439266
cmd: "models_ready"
args: "2"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:36:29,283 - (192.168.50.4:45000) __gossip_model_difusion
2024-03-05 23:36:29,283 - (192.168.50.4:45000) __gossip_model_difusion | Waiting model aggregation.
2024-03-05 23:36:29,283 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:36:29,283 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:36:29,283 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:36:29,284 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:36:29,285 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 2: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:36:29,290 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:36:29,291 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 2: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:36:29,292 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 2 / 1
2024-03-05 23:36:29,302 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:36:29,303 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:36:29,303 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:36:29,303 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:36:29,304 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:30,721 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:36:30,724 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:36:30,724 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:36:30,724 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:36:30,725 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:30,791 - Error getting GPU usage: Not Supported
2024-03-05 23:36:30,868 - (192.168.50.4:45000) Building message with hash -1347992656354414248
2024-03-05 23:36:32,309 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:36:32,310 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:36:32,310 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:36:32,310 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:36:32,312 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 2: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:36:32,319 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:36:32,319 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:36:32,321 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 2: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:36:32,322 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:36:32,322 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:36:32,323 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:36:32,323 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:32,873 - (192.168.50.4:45000) Building message with hash -5556843590888874760
2024-03-05 23:36:33,749 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:36:33,750 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:36:33,750 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:36:33,750 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:36:33,751 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:34,878 - (192.168.50.4:45000) Building message with hash 4474959379842142902
2024-03-05 23:36:35,341 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:36:35,342 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:36:35,342 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:36:35,343 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:36:35,344 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 2: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:36:35,347 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:36:35,349 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:36:35,349 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:36:35,349 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:36:35,350 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:36:35,350 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:35,351 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 2: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:36:36,768 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:36:36,769 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:36:36,770 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:36:36,770 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:36:36,770 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:36,883 - (192.168.50.4:45000) Building message with hash -3262160398238916025
2024-03-05 23:36:38,365 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:36:38,366 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:36:38,366 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:36:38,366 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:36:38,367 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:36:38,368 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 2: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:36:38,373 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:36:38,374 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 2: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:36:38,376 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:36:38,377 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:36:38,378 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:36:38,378 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:36:38,378 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:38,882 - (192.168.50.4:45000) Building message with hash -2134734401407292097
2024-03-05 23:36:40,815 - Error getting GPU usage: Not Supported
2024-03-05 23:36:40,886 - (192.168.50.4:45000) Building message with hash 4903873314920931736
2024-03-05 23:36:41,391 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:36:41,391 - (192.168.50.4:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.3:45000']", ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 1
2024-03-05 23:36:41,392 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:36:41,392 - (192.168.50.4:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-03-05 23:36:41,392 - (192.168.50.4:45000) Dynamic aggregation function is enabled for round 2. Randomly select an aggregation function for the next round.
2024-03-05 23:36:41,393 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:36:41,393 - [Krum] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:36:41,393 - [Median] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:36:41,393 - [TrimmedMean] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:36:41,394 - get_aggregated_models current aggregator is: <fedstellar.learning.aggregators.trimmedmean.TrimmedMean object at 0x7f339051f290>
2024-03-05 23:36:41,394 - get_aggregated_models target_aggregation is: <fedstellar.learning.aggregators.trimmedmean.TrimmedMean object at 0x7f33b4416110>
2024-03-05 23:36:41,394 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:36:41,394 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:36:41,394 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:36:41,395 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:36:41,395 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:36:41,395 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:41,395 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:36:41,396 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:36:41,396 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:41,396 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:36:41,396 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:36:41,396 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:36:41,397 - (192.168.50.4:45000) Round 2 of 10 finished.
2024-03-05 23:36:41,397 - (192.168.50.4:45000) clear | Acquiring __agg_lock.
2024-03-05 23:36:41,397 - (192.168.50.4:45000) clear | Releasing __finish_aggregation_lock.
2024-03-05 23:36:41,397 - (192.168.50.4:45000) clear | Releasing __agg_lock.
2024-03-05 23:36:41,398 - (192.168.50.4:45000) Round 3 of 10 started.
2024-03-05 23:36:41,398 - 192.168.50.4:45000 Train set: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:36:41,399 - 192.168.50.4:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.3:45000'] | Undirected neighbors: []
2024-03-05 23:36:41,399 - [NODE.__train_step] Role.AGGREGATOR process...
2024-03-05 23:36:41,399 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:36:41,399 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:36:41,400 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:36:41,400 - (192.168.50.4:45000) Evaluating...
2024-03-05 23:36:41,400 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:36:42,890 - (192.168.50.4:45000) Building message with hash -5992360659315041394
2024-03-05 23:36:44,896 - (192.168.50.4:45000) Building message with hash 6466773291874510904
2024-03-05 23:36:46,180 - (192.168.50.4:45000) Finished evaluating.
2024-03-05 23:36:46,180 - (192.168.50.4:45000) Training...
2024-03-05 23:36:46,180 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:36:46,902 - (192.168.50.4:45000) Building message with hash -8583109600341448456
2024-03-05 23:36:48,908 - (192.168.50.4:45000) Building message with hash -433844075331641985
2024-03-05 23:36:50,847 - Error getting GPU usage: Not Supported
2024-03-05 23:36:50,913 - (192.168.50.4:45000) Building message with hash -5339332188978917483
2024-03-05 23:36:52,920 - (192.168.50.4:45000) Building message with hash 7930039700655400651
2024-03-05 23:36:54,925 - (192.168.50.4:45000) Building message with hash -971279031142708362
2024-03-05 23:36:56,931 - (192.168.50.4:45000) Building message with hash -7703307518934197008
2024-03-05 23:36:58,937 - (192.168.50.4:45000) Building message with hash 3619735310891451240
2024-03-05 23:37:00,875 - Error getting GPU usage: Not Supported
2024-03-05 23:37:00,944 - (192.168.50.4:45000) Building message with hash 4922463140759896609
2024-03-05 23:37:02,952 - (192.168.50.4:45000) Building message with hash -4473728059694049403
2024-03-05 23:37:04,958 - (192.168.50.4:45000) Building message with hash 3014318206803449108
2024-03-05 23:37:06,963 - (192.168.50.4:45000) Building message with hash 5566396590265443007
2024-03-05 23:37:08,976 - (192.168.50.4:45000) Building message with hash 6003816899128663130
2024-03-05 23:37:10,939 - Error getting GPU usage: Not Supported
2024-03-05 23:37:10,982 - (192.168.50.4:45000) Building message with hash 5850212904330721864
2024-03-05 23:37:12,988 - (192.168.50.4:45000) Building message with hash 9185805992566363359
2024-03-05 23:37:14,996 - (192.168.50.4:45000) Building message with hash -2432983511276268551
2024-03-05 23:37:17,002 - (192.168.50.4:45000) Building message with hash -3943591457598264723
2024-03-05 23:37:19,008 - (192.168.50.4:45000) Building message with hash 7902102743927741116
2024-03-05 23:37:19,530 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:37:19,533 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:37:19,533 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:37:19,533 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:37:19,534 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:37:19,534 - (192.168.50.4:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.2:45000']
2024-03-05 23:37:19,534 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:19,535 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000']
2024-03-05 23:37:19,535 - (192.168.50.4:45000) Building message with hash 3322574888576426169
2024-03-05 23:37:19,535 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 3322574888576426169
cmd: "models_aggregated"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:37:20,968 - Error getting GPU usage: Not Supported
2024-03-05 23:37:21,019 - (192.168.50.4:45000) Building message with hash 9053935863895018416
2024-03-05 23:37:21,070 - (192.168.50.4:45000) Finished training.
2024-03-05 23:37:21,070 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000']) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000']
2024-03-05 23:37:21,071 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:37:21,071 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:37:21,071 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:37:21,071 - (192.168.50.4:45000) add_model (aggregator) | Model added (2/3) from ['192.168.50.4:45000']
2024-03-05 23:37:21,071 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:21,072 - (192.168.50.4:45000) Building message with hash 3847159804196144186
2024-03-05 23:37:21,072 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 3847159804196144186
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:37:21,074 - (192.168.50.4:45000) __gossip_model_aggregation
2024-03-05 23:37:21,074 - (192.168.50.4:45000 Gossip | ['192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:37:21,075 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:37:21,075 - reputation_calculation untrusted_nodes at round 3: ['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:37:21,075 - reputation_calculation untrusted_node at round 3: 192.168.50.2:45000
2024-03-05 23:37:21,076 - reputation_calculation self.get_name() at round 3: 192.168.50.4:45000
2024-03-05 23:37:21,079 - reputation_calculation cossim at round 3: 192.168.50.2:45000: 0.967883825302124
2024-03-05 23:37:21,224 - [Learner.validate_neighbour]: Computed neighbor loss over 666 data samples
2024-03-05 23:37:21,225 - reputation_calculation avg_loss at round 3 192.168.50.2:45000: 0.1247962558908122
2024-03-05 23:37:21,225 - reputation_calculation untrusted_node at round 3: 192.168.50.4:45000
2024-03-05 23:37:21,226 - reputation_calculation self.get_name() at round 3: 192.168.50.4:45000
2024-03-05 23:37:21,226 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000']
2024-03-05 23:37:21,226 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-03-05 23:37:21,227 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 3: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:37:21,642 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 3 / 2
2024-03-05 23:37:21,657 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:37:21,659 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:37:21,659 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:37:21,660 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:37:21,660 - (192.168.50.4:45000) add_model (aggregator) | The number of contributors is equal to the number of nodes in the train set. --> Full aggregation.
2024-03-05 23:37:21,660 - (192.168.50.4:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:37:21,660 - (192.168.50.4:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-03-05 23:37:21,660 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:21,661 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:37:21,661 - (192.168.50.4:45000) Building message with hash 1149722344471753685
2024-03-05 23:37:21,661 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 1149722344471753685
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.4:45000"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:37:22,566 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 3 / 2
2024-03-05 23:37:22,576 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:37:22,577 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.4:45000 192.168.50.3:45000']) | contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:37:22,578 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:37:22,578 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:37:22,578 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:23,024 - (192.168.50.4:45000) Building message with hash 2403969367104349925
2024-03-05 23:37:24,398 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:37:24,398 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:37:24,398 - (192.168.50.4:45000) Waiting aggregation and gossiping model (difusion).
2024-03-05 23:37:24,399 - (192.168.50.4:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:37:24,399 - (192.168.50.4:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-03-05 23:37:24,399 - (192.168.50.4:45000) wait_and_get_aggregation | Starting aggregation.
2024-03-05 23:37:24,400 - (192.168.50.4:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-03-05 23:37:24,400 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models.
2024-03-05 23:37:24,400 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.2:45000 192.168.50.4:45000 192.168.50.3:45000'])
2024-03-05 23:37:24,400 - [TrimmedMean.aggregate] Aggregating models: num=1
2024-03-05 23:37:24,404 - (192.168.50.4:45000) __wait_aggregated_model | Aggregation done for round 3, including parameters in local model.
2024-03-05 23:37:24,405 - (192.168.50.4:45000) __wait_aggregated_model | Broadcasting aggregation done for round 3
2024-03-05 23:37:24,405 - (192.168.50.4:45000) Building message with hash 3814715507465716891
2024-03-05 23:37:24,405 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 3814715507465716891
cmd: "models_ready"
args: "3"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:37:24,408 - (192.168.50.4:45000) __gossip_model_difusion
2024-03-05 23:37:24,408 - (192.168.50.4:45000) __gossip_model_difusion | Waiting model aggregation.
2024-03-05 23:37:24,408 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:37:24,409 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:37:24,409 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:37:24,409 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:37:24,410 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 3: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:37:24,414 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:37:24,415 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 3: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:37:24,693 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:37:24,695 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.4:45000 192.168.50.3:45000']) | contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:37:24,695 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:37:24,695 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:37:24,695 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:25,029 - (192.168.50.4:45000) Building message with hash -5123544794981687400
2024-03-05 23:37:25,594 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:37:25,596 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.4:45000 192.168.50.3:45000']) | contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:37:25,596 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:37:25,596 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:37:25,596 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:27,034 - (192.168.50.4:45000) Building message with hash 1582600430426710151
2024-03-05 23:37:27,429 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:37:27,429 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:37:27,430 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:37:27,430 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:37:27,431 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 3: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:37:27,435 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:37:27,436 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 3: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:37:27,717 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:37:27,719 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.4:45000 192.168.50.3:45000']) | contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:37:27,719 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:37:27,719 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:37:27,719 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:28,618 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:37:28,619 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.4:45000 192.168.50.3:45000']) | contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:37:28,619 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:37:28,620 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:37:28,620 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:29,039 - (192.168.50.4:45000) Building message with hash 3556346705724700034
2024-03-05 23:37:30,451 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:37:30,451 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:37:30,451 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:37:30,452 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:37:30,453 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 3: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:37:30,458 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:37:30,459 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 3: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:37:30,740 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:37:30,741 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.4:45000 192.168.50.3:45000']) | contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:37:30,742 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:37:30,742 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:37:30,742 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:30,999 - Error getting GPU usage: Not Supported
2024-03-05 23:37:31,043 - (192.168.50.4:45000) Building message with hash 979468850397109628
2024-03-05 23:37:31,640 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:37:31,642 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.4:45000 192.168.50.3:45000']) | contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-03-05 23:37:31,642 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:37:31,642 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:37:31,643 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:33,048 - (192.168.50.4:45000) Building message with hash -6238494191034965932
2024-03-05 23:37:33,474 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:37:33,475 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:37:33,475 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:37:33,475 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:37:33,476 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:37:33,477 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 3: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:37:33,481 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:37:33,482 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 3: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:37:35,053 - (192.168.50.4:45000) Building message with hash -3870211968508085767
2024-03-05 23:37:36,498 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:37:36,498 - (192.168.50.4:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.3:45000']", ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 1
2024-03-05 23:37:36,498 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:37:36,498 - (192.168.50.4:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-03-05 23:37:36,499 - (192.168.50.4:45000) Dynamic aggregation function is enabled for round 3. Randomly select an aggregation function for the next round.
2024-03-05 23:37:36,499 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:37:36,499 - [Krum] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:37:36,499 - [Median] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:37:36,499 - [TrimmedMean] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:37:36,500 - get_aggregated_models current aggregator is: <fedstellar.learning.aggregators.trimmedmean.TrimmedMean object at 0x7f33b4416110>
2024-03-05 23:37:36,500 - get_aggregated_models target_aggregation is: <fedstellar.learning.aggregators.trimmedmean.TrimmedMean object at 0x7f33901dab90>
2024-03-05 23:37:36,500 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:37:36,500 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:37:36,500 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:37:36,500 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:37:36,501 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:37:36,501 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:36,501 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:37:36,501 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:37:36,501 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:36,501 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:37:36,502 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:37:36,502 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:37:36,502 - (192.168.50.4:45000) Round 3 of 10 finished.
2024-03-05 23:37:36,502 - (192.168.50.4:45000) clear | Acquiring __agg_lock.
2024-03-05 23:37:36,503 - (192.168.50.4:45000) clear | Releasing __finish_aggregation_lock.
2024-03-05 23:37:36,503 - (192.168.50.4:45000) clear | Releasing __agg_lock.
2024-03-05 23:37:36,503 - (192.168.50.4:45000) Round 4 of 10 started.
2024-03-05 23:37:36,503 - 192.168.50.4:45000 Train set: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:37:36,504 - 192.168.50.4:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.3:45000'] | Undirected neighbors: []
2024-03-05 23:37:36,504 - [NODE.__train_step] Role.AGGREGATOR process...
2024-03-05 23:37:36,504 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:37:36,504 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:37:36,505 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:37:36,505 - (192.168.50.4:45000) Evaluating...
2024-03-05 23:37:36,505 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:37:37,058 - (192.168.50.4:45000) Building message with hash 4929564522193338289
2024-03-05 23:37:39,072 - (192.168.50.4:45000) Building message with hash -1651571843896165694
2024-03-05 23:37:41,079 - (192.168.50.4:45000) Building message with hash 4567218091554118029
2024-03-05 23:37:41,099 - Error getting GPU usage: Not Supported
2024-03-05 23:37:41,250 - (192.168.50.4:45000) Finished evaluating.
2024-03-05 23:37:41,250 - (192.168.50.4:45000) Training...
2024-03-05 23:37:41,250 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:37:43,088 - (192.168.50.4:45000) Building message with hash 2900551417211235573
2024-03-05 23:37:45,094 - (192.168.50.4:45000) Building message with hash 7294026089697145218
2024-03-05 23:37:47,101 - (192.168.50.4:45000) Building message with hash -3162183584038529264
2024-03-05 23:37:49,106 - (192.168.50.4:45000) Building message with hash -3389397288556031217
2024-03-05 23:37:51,111 - (192.168.50.4:45000) Building message with hash 410271359395163158
2024-03-05 23:37:51,133 - Error getting GPU usage: Not Supported
2024-03-05 23:37:53,118 - (192.168.50.4:45000) Building message with hash 6607972157179542763
2024-03-05 23:37:55,125 - (192.168.50.4:45000) Building message with hash 9035252816358681649
2024-03-05 23:37:57,131 - (192.168.50.4:45000) Building message with hash -5327505246577828660
2024-03-05 23:37:59,139 - (192.168.50.4:45000) Building message with hash -2670958659865905731
2024-03-05 23:38:01,144 - (192.168.50.4:45000) Building message with hash 675143258506185562
2024-03-05 23:38:01,159 - Error getting GPU usage: Not Supported
2024-03-05 23:38:03,151 - (192.168.50.4:45000) Building message with hash -1413953993797485662
2024-03-05 23:38:05,190 - (192.168.50.4:45000) Building message with hash 772164549142874299
2024-03-05 23:38:07,202 - (192.168.50.4:45000) Building message with hash 3871353789785491711
2024-03-05 23:38:09,205 - (192.168.50.4:45000) Building message with hash 6773335658243079003
2024-03-05 23:38:11,186 - Error getting GPU usage: Not Supported
2024-03-05 23:38:11,211 - (192.168.50.4:45000) Building message with hash 6214732597232492683
2024-03-05 23:38:13,217 - (192.168.50.4:45000) Building message with hash -1964805976232103323
2024-03-05 23:38:15,086 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:38:15,089 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:38:15,089 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:38:15,090 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:38:15,090 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:38:15,090 - (192.168.50.4:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.3:45000']
2024-03-05 23:38:15,091 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:15,091 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.3:45000']
2024-03-05 23:38:15,092 - (192.168.50.4:45000) Building message with hash 3329193235187089428
2024-03-05 23:38:15,092 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 3329193235187089428
cmd: "models_aggregated"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:38:15,223 - (192.168.50.4:45000) Building message with hash -7693144097842936126
2024-03-05 23:38:15,394 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:38:15,397 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000']) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000']
2024-03-05 23:38:15,397 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:38:15,397 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:38:15,397 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:38:15,398 - (192.168.50.4:45000) add_model (aggregator) | Model added (2/3) from ['192.168.50.2:45000']
2024-03-05 23:38:15,398 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:15,398 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:38:15,399 - (192.168.50.4:45000) Building message with hash 7789899643013427203
2024-03-05 23:38:15,399 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 7789899643013427203
cmd: "models_aggregated"
args: "192.168.50.3:45000"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:38:16,756 - (192.168.50.4:45000) Finished training.
2024-03-05 23:38:16,756 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.3:45000', '192.168.50.2:45000']) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:38:16,756 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:38:16,757 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:38:16,757 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:38:16,757 - (192.168.50.4:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.4:45000']
2024-03-05 23:38:16,757 - (192.168.50.4:45000) add_model (aggregator) | All models were added. Finishing aggregation.
2024-03-05 23:38:16,757 - (192.168.50.4:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-03-05 23:38:16,758 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:16,758 - (192.168.50.4:45000) Building message with hash 7089717375065246485
2024-03-05 23:38:16,758 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 7089717375065246485
cmd: "models_aggregated"
args: "192.168.50.3:45000"
args: "192.168.50.2:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:38:16,760 - (192.168.50.4:45000) __gossip_model_aggregation
2024-03-05 23:38:16,760 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:38:16,760 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:38:16,760 - (192.168.50.4:45000) Waiting aggregation and gossiping model (difusion).
2024-03-05 23:38:16,760 - (192.168.50.4:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:38:16,760 - (192.168.50.4:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-03-05 23:38:16,761 - (192.168.50.4:45000) wait_and_get_aggregation | Starting aggregation.
2024-03-05 23:38:16,761 - (192.168.50.4:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-03-05 23:38:16,761 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models.
2024-03-05 23:38:16,761 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'])
2024-03-05 23:38:16,762 - [TrimmedMean.aggregate] Aggregating models: num=3
2024-03-05 23:38:16,774 - (192.168.50.4:45000) __wait_aggregated_model | Aggregation done for round 4, including parameters in local model.
2024-03-05 23:38:16,775 - (192.168.50.4:45000) __wait_aggregated_model | Broadcasting aggregation done for round 4
2024-03-05 23:38:16,775 - (192.168.50.4:45000) Building message with hash 8969696215413716281
2024-03-05 23:38:16,775 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 8969696215413716281
cmd: "models_ready"
args: "4"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:38:16,778 - (192.168.50.4:45000) __gossip_model_difusion
2024-03-05 23:38:16,778 - (192.168.50.4:45000) __gossip_model_difusion | Waiting model aggregation.
2024-03-05 23:38:16,778 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:38:16,778 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:38:16,778 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:38:16,779 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:38:16,780 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:38:16,786 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:38:16,787 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:38:17,228 - (192.168.50.4:45000) Building message with hash -6323414190548923353
2024-03-05 23:38:18,189 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 4 / 3
2024-03-05 23:38:18,199 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:38:18,201 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']) | contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:18,201 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:38:18,201 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:38:18,201 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:18,544 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 4 / 3
2024-03-05 23:38:18,548 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:38:18,550 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']) | contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:18,550 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:38:18,550 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:38:18,550 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:19,233 - (192.168.50.4:45000) Building message with hash -8817227120104872448
2024-03-05 23:38:19,808 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:38:19,808 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:38:19,809 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:38:19,809 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:38:19,810 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:38:19,815 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:38:19,816 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:38:21,216 - Error getting GPU usage: Not Supported
2024-03-05 23:38:21,223 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:38:21,224 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']) | contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:21,224 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:38:21,224 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:38:21,224 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:21,239 - (192.168.50.4:45000) Building message with hash -6342767420450115160
2024-03-05 23:38:21,575 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:38:21,576 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']) | contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:21,577 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:38:21,577 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:38:21,577 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:22,832 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:38:22,833 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:38:22,833 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:38:22,834 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:38:22,835 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:38:22,839 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:38:22,840 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:38:23,242 - (192.168.50.4:45000) Building message with hash 8116043335423947217
2024-03-05 23:38:24,246 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:38:24,247 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']) | contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:24,248 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:38:24,248 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:38:24,248 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:24,595 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:38:24,596 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']) | contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:24,596 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:38:24,596 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:38:24,597 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:25,247 - (192.168.50.4:45000) Building message with hash -1338969061114322313
2024-03-05 23:38:25,857 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:38:25,857 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:38:25,857 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:38:25,858 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:38:25,858 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:38:25,859 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:38:25,863 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:38:25,864 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:38:27,251 - (192.168.50.4:45000) Building message with hash -406308551990045091
2024-03-05 23:38:27,271 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:38:27,272 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']) | contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:27,272 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:38:27,273 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:38:27,273 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:27,618 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:38:27,619 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']) | contributors=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.2:45000', '192.168.50.4:45000']
2024-03-05 23:38:27,620 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:38:27,620 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:38:27,620 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:28,879 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:38:28,880 - (192.168.50.4:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.3:45000']", ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 1
2024-03-05 23:38:28,880 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:38:28,881 - (192.168.50.4:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-03-05 23:38:28,881 - (192.168.50.4:45000) Dynamic aggregation function is enabled for round 4. Randomly select an aggregation function for the next round.
2024-03-05 23:38:28,881 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:38:28,882 - [Krum] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:38:28,882 - [Median] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:38:28,882 - [TrimmedMean] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:38:28,882 - get_aggregated_models current aggregator is: <fedstellar.learning.aggregators.trimmedmean.TrimmedMean object at 0x7f33901dab90>
2024-03-05 23:38:28,883 - get_aggregated_models target_aggregation is: <fedstellar.learning.aggregators.krum.Krum object at 0x7f33b4646210>
2024-03-05 23:38:28,883 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:38:28,883 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:38:28,883 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:38:28,884 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:38:28,884 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:38:28,884 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:28,884 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:38:28,884 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:38:28,885 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:28,885 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:38:28,885 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:38:28,885 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:38:28,885 - (192.168.50.4:45000) Round 4 of 10 finished.
2024-03-05 23:38:28,886 - (192.168.50.4:45000) clear | Acquiring __agg_lock.
2024-03-05 23:38:28,886 - (192.168.50.4:45000) clear | Releasing __finish_aggregation_lock.
2024-03-05 23:38:28,886 - (192.168.50.4:45000) clear | Releasing __agg_lock.
2024-03-05 23:38:28,886 - (192.168.50.4:45000) Round 5 of 10 started.
2024-03-05 23:38:28,887 - 192.168.50.4:45000 Train set: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:38:28,887 - 192.168.50.4:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.3:45000'] | Undirected neighbors: []
2024-03-05 23:38:28,887 - [NODE.__train_step] Role.AGGREGATOR process...
2024-03-05 23:38:28,887 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:38:28,888 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:38:28,888 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:38:28,888 - (192.168.50.4:45000) Evaluating...
2024-03-05 23:38:28,888 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:38:29,256 - (192.168.50.4:45000) Building message with hash -3766682100744008415
2024-03-05 23:38:31,260 - (192.168.50.4:45000) Building message with hash -7139634180333109198
2024-03-05 23:38:31,278 - Error getting GPU usage: Not Supported
2024-03-05 23:38:33,276 - (192.168.50.4:45000) Building message with hash -4262967449152140889
2024-03-05 23:38:33,482 - (192.168.50.4:45000) Finished evaluating.
2024-03-05 23:38:33,487 - (192.168.50.4:45000) Training...
2024-03-05 23:38:33,487 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:38:35,289 - (192.168.50.4:45000) Building message with hash -5386832201304689552
2024-03-05 23:38:37,294 - (192.168.50.4:45000) Building message with hash 3388771616134803047
2024-03-05 23:38:39,299 - (192.168.50.4:45000) Building message with hash 5353054039595418807
2024-03-05 23:38:41,304 - Error getting GPU usage: Not Supported
2024-03-05 23:38:41,305 - (192.168.50.4:45000) Building message with hash -8992464022183084050
2024-03-05 23:38:43,311 - (192.168.50.4:45000) Building message with hash 6173974414691353003
2024-03-05 23:38:45,317 - (192.168.50.4:45000) Building message with hash -5104268038668419276
2024-03-05 23:38:47,322 - (192.168.50.4:45000) Building message with hash 3162661907598814168
2024-03-05 23:38:49,328 - (192.168.50.4:45000) Building message with hash -1283222204007016558
2024-03-05 23:38:51,333 - (192.168.50.4:45000) Building message with hash 7172097924802781712
2024-03-05 23:38:51,336 - Error getting GPU usage: Not Supported
2024-03-05 23:38:53,340 - (192.168.50.4:45000) Building message with hash -6675476664070698903
2024-03-05 23:38:55,347 - (192.168.50.4:45000) Building message with hash 6757159516449121975
2024-03-05 23:38:57,353 - (192.168.50.4:45000) Building message with hash 6947171067729997250
2024-03-05 23:38:59,378 - (192.168.50.4:45000) Building message with hash 8518339740511457528
2024-03-05 23:39:01,372 - Error getting GPU usage: Not Supported
2024-03-05 23:39:01,383 - (192.168.50.4:45000) Building message with hash 8098297053247613115
2024-03-05 23:39:03,388 - (192.168.50.4:45000) Building message with hash 867486895907087170
2024-03-05 23:39:05,393 - (192.168.50.4:45000) Building message with hash 661019051927462063
2024-03-05 23:39:07,399 - (192.168.50.4:45000) Building message with hash -3083017942911278845
2024-03-05 23:39:08,160 - (192.168.50.4:45000) Finished training.
2024-03-05 23:39:08,161 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:39:08,161 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:39:08,162 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:39:08,162 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:39:08,162 - (192.168.50.4:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.4:45000']
2024-03-05 23:39:08,162 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:08,163 - (192.168.50.4:45000) Building message with hash 259320215841033368
2024-03-05 23:39:08,163 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 259320215841033368
cmd: "models_aggregated"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:39:08,165 - (192.168.50.4:45000) __gossip_model_aggregation
2024-03-05 23:39:08,165 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:39:08,165 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:39:08,166 - reputation_calculation untrusted_nodes at round 5: ['192.168.50.4:45000']
2024-03-05 23:39:08,166 - reputation_calculation untrusted_node at round 5: 192.168.50.4:45000
2024-03-05 23:39:08,166 - reputation_calculation self.get_name() at round 5: 192.168.50.4:45000
2024-03-05 23:39:08,166 - reputation_calculation untrusted_nodes at round 5: ['192.168.50.4:45000']
2024-03-05 23:39:08,167 - reputation_calculation untrusted_node at round 5: 192.168.50.4:45000
2024-03-05 23:39:08,167 - reputation_calculation self.get_name() at round 5: 192.168.50.4:45000
2024-03-05 23:39:08,167 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:39:08,167 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-03-05 23:39:08,169 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 5: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:39:08,180 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-03-05 23:39:08,181 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 5: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:39:09,407 - (192.168.50.4:45000) Building message with hash -1973632299870999642
2024-03-05 23:39:11,217 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:39:11,218 - (192.168.50.4:45000) Gossip | last_x_status: [[('192.168.50.2:45000', []), ('192.168.50.3:45000', [])]] | j: 0
2024-03-05 23:39:11,219 - reputation_calculation untrusted_nodes at round 5: ['192.168.50.4:45000']
2024-03-05 23:39:11,219 - reputation_calculation untrusted_node at round 5: 192.168.50.4:45000
2024-03-05 23:39:11,219 - reputation_calculation self.get_name() at round 5: 192.168.50.4:45000
2024-03-05 23:39:11,219 - reputation_calculation untrusted_nodes at round 5: ['192.168.50.4:45000']
2024-03-05 23:39:11,220 - reputation_calculation untrusted_node at round 5: 192.168.50.4:45000
2024-03-05 23:39:11,220 - reputation_calculation self.get_name() at round 5: 192.168.50.4:45000
2024-03-05 23:39:11,220 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:39:11,220 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-03-05 23:39:11,221 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 5: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:39:11,226 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-03-05 23:39:11,227 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 5: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:39:11,412 - (192.168.50.4:45000) Building message with hash -5583070504696460046
2024-03-05 23:39:11,428 - Error getting GPU usage: Not Supported
2024-03-05 23:39:12,558 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 5 / 4
2024-03-05 23:39:12,567 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:39:12,569 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000']
2024-03-05 23:39:12,569 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:39:12,569 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:39:12,569 - (192.168.50.4:45000) add_model (aggregator) | The number of contributors is equal to the number of nodes in the train set. --> Full aggregation.
2024-03-05 23:39:12,569 - (192.168.50.4:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:39:12,570 - (192.168.50.4:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-03-05 23:39:12,570 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:12,570 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:39:12,570 - (192.168.50.4:45000) Building message with hash 8519351046012326640
2024-03-05 23:39:12,570 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 8519351046012326640
cmd: "models_aggregated"
args: "192.168.50.4:45000"
args: "192.168.50.3:45000"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:39:12,613 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 5 / 4
2024-03-05 23:39:12,618 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:39:12,620 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:39:12,620 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:39:12,620 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:39:12,621 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:13,416 - (192.168.50.4:45000) Building message with hash -3154882206581616096
2024-03-05 23:39:14,246 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:39:14,246 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:39:14,247 - (192.168.50.4:45000) Waiting aggregation and gossiping model (difusion).
2024-03-05 23:39:14,247 - (192.168.50.4:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:39:14,247 - (192.168.50.4:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-03-05 23:39:14,248 - (192.168.50.4:45000) wait_and_get_aggregation | Starting aggregation.
2024-03-05 23:39:14,248 - (192.168.50.4:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-03-05 23:39:14,248 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models.
2024-03-05 23:39:14,248 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000'])
2024-03-05 23:39:14,249 - [Krum.aggregate] Aggregating models: num=1
2024-03-05 23:39:14,249 - (192.168.50.4:45000) __wait_aggregated_model | Aggregation done for round 5, including parameters in local model.
2024-03-05 23:39:14,250 - (192.168.50.4:45000) __wait_aggregated_model | Broadcasting aggregation done for round 5
2024-03-05 23:39:14,250 - (192.168.50.4:45000) Building message with hash 771508323908487763
2024-03-05 23:39:14,250 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 771508323908487763
cmd: "models_ready"
args: "5"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:39:14,253 - (192.168.50.4:45000) __gossip_model_difusion
2024-03-05 23:39:14,253 - (192.168.50.4:45000) __gossip_model_difusion | Waiting model aggregation.
2024-03-05 23:39:14,253 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:39:14,254 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:39:14,254 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:39:14,254 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:39:14,255 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 5: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:39:14,260 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:39:14,260 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 5: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:39:15,421 - (192.168.50.4:45000) Building message with hash -441449604621746746
2024-03-05 23:39:15,589 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:39:15,590 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:39:15,590 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:39:15,591 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:39:15,591 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:15,646 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:39:15,647 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:39:15,647 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:39:15,647 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:39:15,648 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:17,276 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:39:17,276 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:39:17,277 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:39:17,277 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:39:17,278 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 5: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:39:17,283 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:39:17,284 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 5: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:39:17,425 - (192.168.50.4:45000) Building message with hash -129722838222466187
2024-03-05 23:39:18,617 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:39:18,618 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:39:18,618 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:39:18,619 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:39:18,619 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:18,664 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:39:18,665 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:39:18,665 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:39:18,666 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:39:18,666 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:19,432 - (192.168.50.4:45000) Building message with hash -4841201677609296999
2024-03-05 23:39:20,300 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:39:20,301 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:39:20,301 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:39:20,302 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:39:20,303 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 5: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:39:20,308 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:39:20,308 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 5: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:39:21,437 - (192.168.50.4:45000) Building message with hash -8462409213186240321
2024-03-05 23:39:21,452 - Error getting GPU usage: Not Supported
2024-03-05 23:39:21,636 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:39:21,637 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:39:21,638 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:39:21,638 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:39:21,638 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:21,693 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:39:21,694 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.3:45000 192.168.50.2:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:39:21,694 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:39:21,695 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:39:21,695 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:23,324 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:39:23,325 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:39:23,325 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:39:23,326 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:39:23,326 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:39:23,327 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 5: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:39:23,331 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:39:23,332 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 5: contributors=['192.168.50.4:45000', '192.168.50.3:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:39:23,441 - (192.168.50.4:45000) Building message with hash -3886019809790797642
2024-03-05 23:39:25,448 - (192.168.50.4:45000) Building message with hash -8073608347297618907
2024-03-05 23:39:26,349 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:39:26,349 - (192.168.50.4:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.3:45000']", ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 1
2024-03-05 23:39:26,349 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:39:26,350 - (192.168.50.4:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-03-05 23:39:26,350 - (192.168.50.4:45000) Dynamic aggregation function is enabled for round 5. Randomly select an aggregation function for the next round.
2024-03-05 23:39:26,350 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:39:26,350 - [Krum] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:39:26,351 - [Median] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:39:26,351 - [TrimmedMean] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:39:26,351 - get_aggregated_models current aggregator is: <fedstellar.learning.aggregators.krum.Krum object at 0x7f33b4646210>
2024-03-05 23:39:26,351 - get_aggregated_models target_aggregation is: <fedstellar.learning.aggregators.fedavg.FedAvg object at 0x7f33b420bc90>
2024-03-05 23:39:26,352 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:39:26,352 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:39:26,352 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:39:26,352 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:39:26,353 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:39:26,353 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:26,353 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:39:26,353 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:39:26,354 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:26,354 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:39:26,354 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:39:26,354 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:39:26,355 - (192.168.50.4:45000) Round 5 of 10 finished.
2024-03-05 23:39:26,355 - (192.168.50.4:45000) clear | Acquiring __agg_lock.
2024-03-05 23:39:26,355 - (192.168.50.4:45000) clear | Releasing __finish_aggregation_lock.
2024-03-05 23:39:26,355 - (192.168.50.4:45000) clear | Releasing __agg_lock.
2024-03-05 23:39:26,356 - (192.168.50.4:45000) Round 6 of 10 started.
2024-03-05 23:39:26,356 - 192.168.50.4:45000 Train set: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:39:26,356 - 192.168.50.4:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.3:45000'] | Undirected neighbors: []
2024-03-05 23:39:26,357 - [NODE.__train_step] Role.AGGREGATOR process...
2024-03-05 23:39:26,357 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:39:26,357 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:39:26,357 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:39:26,358 - (192.168.50.4:45000) Evaluating...
2024-03-05 23:39:26,358 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:39:27,453 - (192.168.50.4:45000) Building message with hash -6566231338607836049
2024-03-05 23:39:29,460 - (192.168.50.4:45000) Building message with hash -2120163212749307914
2024-03-05 23:39:30,934 - (192.168.50.4:45000) Finished evaluating.
2024-03-05 23:39:30,934 - (192.168.50.4:45000) Training...
2024-03-05 23:39:30,934 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:39:31,467 - (192.168.50.4:45000) Building message with hash 3687342348723666223
2024-03-05 23:39:31,488 - Error getting GPU usage: Not Supported
2024-03-05 23:39:33,475 - (192.168.50.4:45000) Building message with hash -4234076100852069049
2024-03-05 23:39:35,480 - (192.168.50.4:45000) Building message with hash -7053475886641795124
2024-03-05 23:39:37,486 - (192.168.50.4:45000) Building message with hash 469943616195909913
2024-03-05 23:39:39,491 - (192.168.50.4:45000) Building message with hash -3102532551084448075
2024-03-05 23:39:41,497 - (192.168.50.4:45000) Building message with hash -1657247258772128983
2024-03-05 23:39:41,522 - Error getting GPU usage: Not Supported
2024-03-05 23:39:43,502 - (192.168.50.4:45000) Building message with hash 6565139860733068574
2024-03-05 23:39:45,507 - (192.168.50.4:45000) Building message with hash -799388763865501488
2024-03-05 23:39:47,513 - (192.168.50.4:45000) Building message with hash 8966150130231702655
2024-03-05 23:39:49,519 - (192.168.50.4:45000) Building message with hash -7502131989228720315
2024-03-05 23:39:51,525 - (192.168.50.4:45000) Building message with hash -8657161405649958374
2024-03-05 23:39:51,587 - Error getting GPU usage: Not Supported
2024-03-05 23:39:53,550 - (192.168.50.4:45000) Building message with hash 6857474670522292076
2024-03-05 23:39:55,556 - (192.168.50.4:45000) Building message with hash -9122731385684469854
2024-03-05 23:39:57,562 - (192.168.50.4:45000) Building message with hash -6167403822548533362
2024-03-05 23:39:59,567 - (192.168.50.4:45000) Building message with hash 6081797969065710709
2024-03-05 23:40:01,573 - (192.168.50.4:45000) Building message with hash 3856104529592917236
2024-03-05 23:40:01,623 - Error getting GPU usage: Not Supported
2024-03-05 23:40:03,201 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:40:03,203 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:40:03,203 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:03,204 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:40:03,204 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:40:03,204 - (192.168.50.4:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.2:45000']
2024-03-05 23:40:03,204 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:03,205 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000']
2024-03-05 23:40:03,205 - (192.168.50.4:45000) Building message with hash -1726892563724916283
2024-03-05 23:40:03,205 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -1726892563724916283
cmd: "models_aggregated"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:40:03,361 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:40:03,364 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000']) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000']
2024-03-05 23:40:03,364 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:03,364 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:40:03,365 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:40:03,365 - (192.168.50.4:45000) add_model (aggregator) | Model added (2/3) from ['192.168.50.3:45000']
2024-03-05 23:40:03,365 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:03,366 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:40:03,366 - (192.168.50.4:45000) Building message with hash 8168680579649444719
2024-03-05 23:40:03,366 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 8168680579649444719
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:40:03,580 - (192.168.50.4:45000) Building message with hash -3862495324353400836
2024-03-05 23:40:04,500 - (192.168.50.4:45000) Finished training.
2024-03-05 23:40:04,501 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000']) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:40:04,501 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:04,501 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:40:04,501 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:40:04,501 - (192.168.50.4:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.4:45000']
2024-03-05 23:40:04,502 - (192.168.50.4:45000) add_model (aggregator) | All models were added. Finishing aggregation.
2024-03-05 23:40:04,502 - (192.168.50.4:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-03-05 23:40:04,502 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:04,503 - (192.168.50.4:45000) Building message with hash 4700014842370400459
2024-03-05 23:40:04,503 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 4700014842370400459
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:40:04,505 - (192.168.50.4:45000) __gossip_model_aggregation
2024-03-05 23:40:04,505 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:40:04,505 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:40:04,506 - (192.168.50.4:45000) Waiting aggregation and gossiping model (difusion).
2024-03-05 23:40:04,506 - (192.168.50.4:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:40:04,506 - (192.168.50.4:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-03-05 23:40:04,506 - (192.168.50.4:45000) wait_and_get_aggregation | Starting aggregation.
2024-03-05 23:40:04,506 - (192.168.50.4:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-03-05 23:40:04,506 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models.
2024-03-05 23:40:04,507 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'])
2024-03-05 23:40:04,507 - [FedAvg.aggregate] Aggregating models: num=3
2024-03-05 23:40:04,509 - (192.168.50.4:45000) __wait_aggregated_model | Aggregation done for round 6, including parameters in local model.
2024-03-05 23:40:04,509 - (192.168.50.4:45000) __wait_aggregated_model | Broadcasting aggregation done for round 6
2024-03-05 23:40:04,510 - (192.168.50.4:45000) Building message with hash -3513926682743207826
2024-03-05 23:40:04,510 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -3513926682743207826
cmd: "models_ready"
args: "6"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:40:04,513 - (192.168.50.4:45000) __gossip_model_difusion
2024-03-05 23:40:04,513 - (192.168.50.4:45000) __gossip_model_difusion | Waiting model aggregation.
2024-03-05 23:40:04,514 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:40:04,514 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:40:04,514 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:40:04,514 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:40:04,515 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 6: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:40:04,523 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:40:04,524 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 6: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:40:05,585 - (192.168.50.4:45000) Building message with hash -8464403841685495954
2024-03-05 23:40:06,246 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 6 / 5
2024-03-05 23:40:06,256 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:40:06,257 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:40:06,258 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:06,258 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:40:06,258 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:06,509 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 6 / 5
2024-03-05 23:40:06,513 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:40:06,515 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:40:06,515 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:06,515 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:40:06,515 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:07,548 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:40:07,548 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:40:07,549 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:40:07,549 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:40:07,550 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 6: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:40:07,554 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:40:07,555 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 6: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:40:07,590 - (192.168.50.4:45000) Building message with hash 7543180646679553518
2024-03-05 23:40:09,276 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:40:09,277 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:40:09,278 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:09,278 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:40:09,278 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:09,535 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:40:09,537 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:40:09,537 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:09,537 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:40:09,538 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:09,594 - (192.168.50.4:45000) Building message with hash 7632326983917327636
2024-03-05 23:40:10,571 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:40:10,571 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:40:10,571 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:40:10,572 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:40:10,573 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 6: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:40:10,577 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:40:10,578 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 6: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:40:11,598 - (192.168.50.4:45000) Building message with hash 5153647211436364506
2024-03-05 23:40:11,646 - Error getting GPU usage: Not Supported
2024-03-05 23:40:12,293 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:40:12,294 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:40:12,295 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:12,295 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:40:12,295 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:12,565 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:40:12,567 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:40:12,567 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:12,567 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:40:12,567 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:13,593 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:40:13,593 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:40:13,594 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:40:13,594 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:40:13,594 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:40:13,596 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 6: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:40:13,600 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:40:13,601 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 6: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:40:13,603 - (192.168.50.4:45000) Building message with hash -1807515732204324951
2024-03-05 23:40:15,315 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:40:15,316 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:40:15,316 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:15,317 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:40:15,317 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:15,591 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:40:15,592 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:40:15,592 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:15,592 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:40:15,593 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:15,607 - (192.168.50.4:45000) Building message with hash 3329565688261871358
2024-03-05 23:40:16,617 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:40:16,617 - (192.168.50.4:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.3:45000']", ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 1
2024-03-05 23:40:16,618 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:40:16,618 - (192.168.50.4:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-03-05 23:40:16,619 - (192.168.50.4:45000) Dynamic aggregation function is enabled for round 6. Randomly select an aggregation function for the next round.
2024-03-05 23:40:16,619 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:40:16,619 - [Krum] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:40:16,619 - [Median] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:40:16,619 - [TrimmedMean] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:40:16,620 - get_aggregated_models current aggregator is: <fedstellar.learning.aggregators.fedavg.FedAvg object at 0x7f33b420bc90>
2024-03-05 23:40:16,620 - get_aggregated_models target_aggregation is: <fedstellar.learning.aggregators.krum.Krum object at 0x7f33b4624cd0>
2024-03-05 23:40:16,620 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:40:16,620 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:40:16,620 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:40:16,621 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:40:16,621 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:40:16,621 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:16,621 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:40:16,621 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:40:16,622 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:16,622 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:40:16,622 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:40:16,622 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:16,622 - (192.168.50.4:45000) Round 6 of 10 finished.
2024-03-05 23:40:16,623 - (192.168.50.4:45000) clear | Acquiring __agg_lock.
2024-03-05 23:40:16,623 - (192.168.50.4:45000) clear | Releasing __finish_aggregation_lock.
2024-03-05 23:40:16,623 - (192.168.50.4:45000) clear | Releasing __agg_lock.
2024-03-05 23:40:16,623 - (192.168.50.4:45000) Round 7 of 10 started.
2024-03-05 23:40:16,624 - 192.168.50.4:45000 Train set: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:40:16,624 - 192.168.50.4:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.3:45000'] | Undirected neighbors: []
2024-03-05 23:40:16,624 - [NODE.__train_step] Role.AGGREGATOR process...
2024-03-05 23:40:16,624 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:40:16,625 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:40:16,625 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:40:16,625 - (192.168.50.4:45000) Evaluating...
2024-03-05 23:40:16,625 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:40:17,612 - (192.168.50.4:45000) Building message with hash 4008662059688487725
2024-03-05 23:40:19,617 - (192.168.50.4:45000) Building message with hash 3282833962098265518
2024-03-05 23:40:21,301 - (192.168.50.4:45000) Finished evaluating.
2024-03-05 23:40:21,301 - (192.168.50.4:45000) Training...
2024-03-05 23:40:21,301 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:40:21,622 - (192.168.50.4:45000) Building message with hash -3495841632831563078
2024-03-05 23:40:21,669 - Error getting GPU usage: Not Supported
2024-03-05 23:40:23,627 - (192.168.50.4:45000) Building message with hash -6572968447754883998
2024-03-05 23:40:25,633 - (192.168.50.4:45000) Building message with hash 2862369475904611357
2024-03-05 23:40:27,639 - (192.168.50.4:45000) Building message with hash -7264083748396985772
2024-03-05 23:40:29,644 - (192.168.50.4:45000) Building message with hash 7734564628650656287
2024-03-05 23:40:31,650 - (192.168.50.4:45000) Building message with hash 6885460406697205217
2024-03-05 23:40:31,729 - Error getting GPU usage: Not Supported
2024-03-05 23:40:33,656 - (192.168.50.4:45000) Building message with hash 2802323027693461051
2024-03-05 23:40:35,662 - (192.168.50.4:45000) Building message with hash 8196870377793084327
2024-03-05 23:40:37,669 - (192.168.50.4:45000) Building message with hash 5365714989899053668
2024-03-05 23:40:39,677 - (192.168.50.4:45000) Building message with hash -5480125389344201318
2024-03-05 23:40:41,683 - (192.168.50.4:45000) Building message with hash -8489001193032015144
2024-03-05 23:40:41,752 - Error getting GPU usage: Not Supported
2024-03-05 23:40:43,689 - (192.168.50.4:45000) Building message with hash -195340581534556646
2024-03-05 23:40:45,694 - (192.168.50.4:45000) Building message with hash -7936099158709954269
2024-03-05 23:40:47,947 - (192.168.50.4:45000) Building message with hash -7273758090393552921
2024-03-05 23:40:49,953 - (192.168.50.4:45000) Building message with hash 105668292381236288
2024-03-05 23:40:51,784 - Error getting GPU usage: Not Supported
2024-03-05 23:40:51,960 - (192.168.50.4:45000) Building message with hash -2799282815267955778
2024-03-05 23:40:53,966 - (192.168.50.4:45000) Building message with hash -4602251652570808183
2024-03-05 23:40:55,785 - (192.168.50.4:45000) Finished training.
2024-03-05 23:40:55,786 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:40:55,786 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:55,786 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:40:55,787 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:40:55,787 - (192.168.50.4:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.4:45000']
2024-03-05 23:40:55,787 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:55,787 - (192.168.50.4:45000) Building message with hash -6010503819697038763
2024-03-05 23:40:55,787 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -6010503819697038763
cmd: "models_aggregated"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:40:55,791 - (192.168.50.4:45000) __gossip_model_aggregation
2024-03-05 23:40:55,791 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:40:55,791 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:40:55,792 - reputation_calculation untrusted_nodes at round 7: ['192.168.50.4:45000']
2024-03-05 23:40:55,792 - reputation_calculation untrusted_node at round 7: 192.168.50.4:45000
2024-03-05 23:40:55,792 - reputation_calculation self.get_name() at round 7: 192.168.50.4:45000
2024-03-05 23:40:55,793 - reputation_calculation untrusted_nodes at round 7: ['192.168.50.4:45000']
2024-03-05 23:40:55,793 - reputation_calculation untrusted_node at round 7: 192.168.50.4:45000
2024-03-05 23:40:55,793 - reputation_calculation self.get_name() at round 7: 192.168.50.4:45000
2024-03-05 23:40:55,793 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:40:55,794 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-03-05 23:40:55,795 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 7: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:40:55,809 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-03-05 23:40:55,810 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 7: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:40:55,972 - (192.168.50.4:45000) Building message with hash 4880620849545496024
2024-03-05 23:40:57,374 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 7 / 6
2024-03-05 23:40:57,378 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:40:57,380 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000']
2024-03-05 23:40:57,380 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:40:57,380 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:40:57,380 - (192.168.50.4:45000) add_model (aggregator) | The number of contributors is equal to the number of nodes in the train set. --> Full aggregation.
2024-03-05 23:40:57,381 - (192.168.50.4:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:40:57,381 - (192.168.50.4:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-03-05 23:40:57,381 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:40:57,381 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:40:57,381 - (192.168.50.4:45000) Building message with hash 3961970451943887465
2024-03-05 23:40:57,382 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 3961970451943887465
cmd: "models_aggregated"
args: "192.168.50.4:45000"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:40:57,977 - (192.168.50.4:45000) Building message with hash -6776304923426856326
2024-03-05 23:40:58,849 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:40:58,850 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:40:58,850 - (192.168.50.4:45000) Waiting aggregation and gossiping model (difusion).
2024-03-05 23:40:58,850 - (192.168.50.4:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:40:58,851 - (192.168.50.4:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-03-05 23:40:58,851 - (192.168.50.4:45000) wait_and_get_aggregation | Starting aggregation.
2024-03-05 23:40:58,851 - (192.168.50.4:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-03-05 23:40:58,851 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models.
2024-03-05 23:40:58,852 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000'])
2024-03-05 23:40:58,852 - [Krum.aggregate] Aggregating models: num=1
2024-03-05 23:40:58,853 - (192.168.50.4:45000) __wait_aggregated_model | Aggregation done for round 7, including parameters in local model.
2024-03-05 23:40:58,854 - (192.168.50.4:45000) __wait_aggregated_model | Broadcasting aggregation done for round 7
2024-03-05 23:40:58,854 - (192.168.50.4:45000) Building message with hash 5947637789870801151
2024-03-05 23:40:58,854 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 5947637789870801151
cmd: "models_ready"
args: "7"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:40:58,857 - (192.168.50.4:45000) __gossip_model_difusion
2024-03-05 23:40:58,857 - (192.168.50.4:45000) __gossip_model_difusion | Waiting model aggregation.
2024-03-05 23:40:58,857 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:40:58,858 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:40:58,858 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:40:58,858 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:40:58,859 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 7: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:40:58,864 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:40:58,865 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 7: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:40:59,981 - (192.168.50.4:45000) Building message with hash 6049489831219931001
2024-03-05 23:41:00,285 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 7 / 6
2024-03-05 23:41:00,300 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:41:00,302 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:00,302 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:00,302 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:00,302 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:00,412 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:41:00,415 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:00,415 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:00,415 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:00,416 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:01,818 - Error getting GPU usage: Not Supported
2024-03-05 23:41:01,880 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:41:01,880 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:41:01,880 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:01,881 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:41:01,882 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 7: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:01,886 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:41:01,887 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 7: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:01,986 - (192.168.50.4:45000) Building message with hash -683159964341065817
2024-03-05 23:41:03,327 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:41:03,329 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:03,329 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:03,329 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:03,329 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:03,443 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:41:03,444 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:03,445 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:03,445 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:03,445 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:03,991 - (192.168.50.4:45000) Building message with hash -8802411311700148601
2024-03-05 23:41:04,903 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:41:04,904 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:41:04,904 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:04,905 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:41:04,905 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 7: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:04,910 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:41:04,911 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 7: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:05,995 - (192.168.50.4:45000) Building message with hash -4484035702959659405
2024-03-05 23:41:06,350 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:41:06,351 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:06,351 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:06,352 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:06,352 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:06,466 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:41:06,468 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:06,468 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:06,468 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:06,468 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:07,928 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:41:07,928 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:41:07,929 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:07,929 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:07,929 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:41:07,930 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 7: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:07,934 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-03-05 23:41:07,935 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 7: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:07,999 - (192.168.50.4:45000) Building message with hash 2914474424472069335
2024-03-05 23:41:09,373 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:41:09,374 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:09,374 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:09,375 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:09,375 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:10,004 - (192.168.50.4:45000) Building message with hash 6697729966351399943
2024-03-05 23:41:10,950 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:41:10,951 - (192.168.50.4:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.3:45000']", ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 1
2024-03-05 23:41:10,951 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:10,951 - (192.168.50.4:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-03-05 23:41:10,952 - (192.168.50.4:45000) Dynamic aggregation function is enabled for round 7. Randomly select an aggregation function for the next round.
2024-03-05 23:41:10,952 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:41:10,952 - [Krum] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:41:10,952 - [Median] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:41:10,952 - [TrimmedMean] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:41:10,953 - get_aggregated_models current aggregator is: <fedstellar.learning.aggregators.krum.Krum object at 0x7f33b4624cd0>
2024-03-05 23:41:10,953 - get_aggregated_models target_aggregation is: <fedstellar.learning.aggregators.median.Median object at 0x7f33706a3e10>
2024-03-05 23:41:10,953 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:41:10,953 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:41:10,954 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:41:10,954 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:41:10,954 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:41:10,954 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:10,954 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:41:10,955 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:41:10,955 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:10,955 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:41:10,955 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:41:10,955 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:10,955 - (192.168.50.4:45000) Round 7 of 10 finished.
2024-03-05 23:41:10,956 - (192.168.50.4:45000) clear | Acquiring __agg_lock.
2024-03-05 23:41:10,956 - (192.168.50.4:45000) clear | Releasing __finish_aggregation_lock.
2024-03-05 23:41:10,956 - (192.168.50.4:45000) clear | Releasing __agg_lock.
2024-03-05 23:41:10,956 - (192.168.50.4:45000) Round 8 of 10 started.
2024-03-05 23:41:10,957 - 192.168.50.4:45000 Train set: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:41:10,957 - 192.168.50.4:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.3:45000'] | Undirected neighbors: []
2024-03-05 23:41:10,957 - [NODE.__train_step] Role.AGGREGATOR process...
2024-03-05 23:41:10,958 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:41:10,958 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:41:10,958 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:41:10,958 - (192.168.50.4:45000) Evaluating...
2024-03-05 23:41:10,958 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:41:11,876 - Error getting GPU usage: Not Supported
2024-03-05 23:41:12,008 - (192.168.50.4:45000) Building message with hash 8795251755635159816
2024-03-05 23:41:14,014 - (192.168.50.4:45000) Building message with hash 2138673291164365943
2024-03-05 23:41:15,567 - (192.168.50.4:45000) Finished evaluating.
2024-03-05 23:41:15,567 - (192.168.50.4:45000) Training...
2024-03-05 23:41:15,568 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:41:16,028 - (192.168.50.4:45000) Building message with hash 4283323751332314921
2024-03-05 23:41:18,034 - (192.168.50.4:45000) Building message with hash 5187715845466220353
2024-03-05 23:41:20,041 - (192.168.50.4:45000) Building message with hash -848342192602464683
2024-03-05 23:41:21,912 - Error getting GPU usage: Not Supported
2024-03-05 23:41:22,047 - (192.168.50.4:45000) Building message with hash 8704565856562897293
2024-03-05 23:41:24,053 - (192.168.50.4:45000) Building message with hash 4639617230311588374
2024-03-05 23:41:26,058 - (192.168.50.4:45000) Building message with hash -4747130119635518875
2024-03-05 23:41:28,063 - (192.168.50.4:45000) Building message with hash 4309216637487615468
2024-03-05 23:41:30,069 - (192.168.50.4:45000) Building message with hash -8243533164363062740
2024-03-05 23:41:31,946 - Error getting GPU usage: Not Supported
2024-03-05 23:41:32,075 - (192.168.50.4:45000) Building message with hash -4482125481666855535
2024-03-05 23:41:34,080 - (192.168.50.4:45000) Building message with hash 9149972660407535812
2024-03-05 23:41:36,085 - (192.168.50.4:45000) Building message with hash -1050633086318939603
2024-03-05 23:41:38,091 - (192.168.50.4:45000) Building message with hash -5362236757691513218
2024-03-05 23:41:40,097 - (192.168.50.4:45000) Building message with hash -7261211985008613181
2024-03-05 23:41:41,977 - Error getting GPU usage: Not Supported
2024-03-05 23:41:42,102 - (192.168.50.4:45000) Building message with hash -3451037803463239888
2024-03-05 23:41:44,109 - (192.168.50.4:45000) Building message with hash 351873772668608775
2024-03-05 23:41:46,115 - (192.168.50.4:45000) Building message with hash 3528661301924740689
2024-03-05 23:41:48,120 - (192.168.50.4:45000) Building message with hash 70104699791570323
2024-03-05 23:41:49,422 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:41:49,424 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:41:49,424 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:49,425 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:41:49,425 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:41:49,425 - (192.168.50.4:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.3:45000']
2024-03-05 23:41:49,426 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:49,426 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.3:45000']
2024-03-05 23:41:49,426 - (192.168.50.4:45000) Building message with hash 738944239094997384
2024-03-05 23:41:49,426 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 738944239094997384
cmd: "models_aggregated"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:50,127 - (192.168.50.4:45000) Building message with hash -8130894960205696019
2024-03-05 23:41:50,323 - (192.168.50.4:45000) Finished training.
2024-03-05 23:41:50,323 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.3:45000']) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000']
2024-03-05 23:41:50,323 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:50,324 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:41:50,324 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:41:50,324 - (192.168.50.4:45000) add_model (aggregator) | Model added (2/3) from ['192.168.50.4:45000']
2024-03-05 23:41:50,324 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:50,324 - (192.168.50.4:45000) Building message with hash -7110433256792375353
2024-03-05 23:41:50,325 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -7110433256792375353
cmd: "models_aggregated"
args: "192.168.50.3:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:50,326 - (192.168.50.4:45000) __gossip_model_aggregation
2024-03-05 23:41:50,327 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:41:50,327 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:41:50,327 - reputation_calculation untrusted_nodes at round 8: ['192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:41:50,327 - reputation_calculation untrusted_node at round 8: 192.168.50.3:45000
2024-03-05 23:41:50,327 - reputation_calculation self.get_name() at round 8: 192.168.50.4:45000
2024-03-05 23:41:50,329 - reputation_calculation cossim at round 8: 192.168.50.3:45000: 0.9781530499458313
2024-03-05 23:41:50,467 - [Learner.validate_neighbour]: Computed neighbor loss over 666 data samples
2024-03-05 23:41:50,467 - reputation_calculation avg_loss at round 8 192.168.50.3:45000: 0.06981598717504225
2024-03-05 23:41:50,468 - reputation_calculation untrusted_node at round 8: 192.168.50.4:45000
2024-03-05 23:41:50,468 - reputation_calculation self.get_name() at round 8: 192.168.50.4:45000
2024-03-05 23:41:50,468 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000']
2024-03-05 23:41:50,469 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-03-05 23:41:50,471 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 8: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-03-05 23:41:51,423 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 8 / 7
2024-03-05 23:41:51,428 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:41:51,429 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:41:51,429 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:51,429 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:41:51,430 - (192.168.50.4:45000) add_model (aggregator) | The number of contributors is equal to the number of nodes in the train set. --> Full aggregation.
2024-03-05 23:41:51,430 - (192.168.50.4:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:41:51,430 - (192.168.50.4:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-03-05 23:41:51,430 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:51,430 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:41:51,430 - (192.168.50.4:45000) Building message with hash -5387050215709096311
2024-03-05 23:41:51,431 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -5387050215709096311
cmd: "models_aggregated"
args: "192.168.50.3:45000"
args: "192.168.50.4:45000"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:52,029 - Error getting GPU usage: Not Supported
2024-03-05 23:41:52,139 - (192.168.50.4:45000) Building message with hash 6604527112707936972
2024-03-05 23:41:52,462 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 8 / 7
2024-03-05 23:41:52,466 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:41:52,467 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:41:52,467 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:52,468 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:52,468 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:53,643 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:41:53,644 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:41:53,644 - (192.168.50.4:45000) Waiting aggregation and gossiping model (difusion).
2024-03-05 23:41:53,644 - (192.168.50.4:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:41:53,644 - (192.168.50.4:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-03-05 23:41:53,645 - (192.168.50.4:45000) wait_and_get_aggregation | Starting aggregation.
2024-03-05 23:41:53,645 - (192.168.50.4:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-03-05 23:41:53,645 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models.
2024-03-05 23:41:53,645 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000'])
2024-03-05 23:41:53,646 - [Median.aggregate] Aggregating models: num=1
2024-03-05 23:41:53,648 - (192.168.50.4:45000) __wait_aggregated_model | Aggregation done for round 8, including parameters in local model.
2024-03-05 23:41:53,649 - (192.168.50.4:45000) __wait_aggregated_model | Broadcasting aggregation done for round 8
2024-03-05 23:41:53,649 - (192.168.50.4:45000) Building message with hash 2791563778187542986
2024-03-05 23:41:53,650 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 2791563778187542986
cmd: "models_ready"
args: "8"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:53,652 - (192.168.50.4:45000) __gossip_model_difusion
2024-03-05 23:41:53,652 - (192.168.50.4:45000) __gossip_model_difusion | Waiting model aggregation.
2024-03-05 23:41:53,653 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:41:53,653 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:41:53,653 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:53,653 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:41:53,654 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 8: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:53,658 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:41:53,659 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 8: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:54,144 - (192.168.50.4:45000) Building message with hash -4049829852191449203
2024-03-05 23:41:54,456 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:41:54,457 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:41:54,457 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:54,458 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:54,458 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:55,493 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:41:55,495 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:41:55,495 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:55,495 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:55,495 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:56,149 - (192.168.50.4:45000) Building message with hash 8706746876884987721
2024-03-05 23:41:56,675 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:41:56,675 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:41:56,676 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:41:56,676 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:41:56,677 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 8: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:56,682 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:41:56,683 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 8: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:57,478 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:41:57,479 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:41:57,480 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:57,480 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:57,480 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:58,154 - (192.168.50.4:45000) Building message with hash -2662682904619251843
2024-03-05 23:41:58,517 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:41:58,518 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:41:58,518 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:41:58,519 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:41:58,519 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:41:59,700 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:41:59,700 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:41:59,700 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:41:59,701 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:41:59,702 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 8: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:41:59,706 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:41:59,707 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 8: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:42:00,159 - (192.168.50.4:45000) Building message with hash -3941159138539742307
2024-03-05 23:42:00,508 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:42:00,509 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:42:00,510 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:00,510 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:42:00,510 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:01,535 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:42:01,536 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-03-05 23:42:01,536 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:01,536 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:42:01,537 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:02,050 - Error getting GPU usage: Not Supported
2024-03-05 23:42:02,164 - (192.168.50.4:45000) Building message with hash 886464585338531989
2024-03-05 23:42:02,722 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:42:02,722 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:42:02,723 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:42:02,723 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:42:02,723 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:42:02,724 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 8: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:42:02,728 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-03-05 23:42:02,729 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 8: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:42:04,169 - (192.168.50.4:45000) Building message with hash 6315090011061376608
2024-03-05 23:42:05,744 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:42:05,744 - (192.168.50.4:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.3:45000']", ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 1
2024-03-05 23:42:05,745 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:42:05,745 - (192.168.50.4:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-03-05 23:42:05,745 - (192.168.50.4:45000) Dynamic aggregation function is enabled for round 8. Randomly select an aggregation function for the next round.
2024-03-05 23:42:05,745 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:42:05,746 - [Krum] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:42:05,746 - [Median] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:42:05,746 - [TrimmedMean] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:42:05,746 - get_aggregated_models current aggregator is: <fedstellar.learning.aggregators.median.Median object at 0x7f33706a3e10>
2024-03-05 23:42:05,746 - get_aggregated_models target_aggregation is: <fedstellar.learning.aggregators.fedavg.FedAvg object at 0x7f33b4555190>
2024-03-05 23:42:05,747 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:42:05,747 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:42:05,747 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:42:05,747 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:42:05,747 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:42:05,748 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:05,748 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:42:05,748 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:42:05,748 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:05,748 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:42:05,748 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:42:05,749 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:05,749 - (192.168.50.4:45000) Round 8 of 10 finished.
2024-03-05 23:42:05,749 - (192.168.50.4:45000) clear | Acquiring __agg_lock.
2024-03-05 23:42:05,749 - (192.168.50.4:45000) clear | Releasing __finish_aggregation_lock.
2024-03-05 23:42:05,749 - (192.168.50.4:45000) clear | Releasing __agg_lock.
2024-03-05 23:42:05,749 - (192.168.50.4:45000) Round 9 of 10 started.
2024-03-05 23:42:05,750 - 192.168.50.4:45000 Train set: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:42:05,750 - 192.168.50.4:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.3:45000'] | Undirected neighbors: []
2024-03-05 23:42:05,750 - [NODE.__train_step] Role.AGGREGATOR process...
2024-03-05 23:42:05,750 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:42:05,750 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:42:05,751 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:42:05,751 - (192.168.50.4:45000) Evaluating...
2024-03-05 23:42:05,751 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:42:06,174 - (192.168.50.4:45000) Building message with hash -6904251447487860545
2024-03-05 23:42:08,180 - (192.168.50.4:45000) Building message with hash 5701608785667147743
2024-03-05 23:42:10,196 - (192.168.50.4:45000) Building message with hash 5575017281806592111
2024-03-05 23:42:10,503 - (192.168.50.4:45000) Finished evaluating.
2024-03-05 23:42:10,503 - (192.168.50.4:45000) Training...
2024-03-05 23:42:10,503 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:42:12,088 - Error getting GPU usage: Not Supported
2024-03-05 23:42:12,201 - (192.168.50.4:45000) Building message with hash -4260043977280916739
2024-03-05 23:42:14,206 - (192.168.50.4:45000) Building message with hash -7291168328148985261
2024-03-05 23:42:16,212 - (192.168.50.4:45000) Building message with hash 799120998000697742
2024-03-05 23:42:18,218 - (192.168.50.4:45000) Building message with hash -727086823550832177
2024-03-05 23:42:20,229 - (192.168.50.4:45000) Building message with hash 1418308416867390806
2024-03-05 23:42:22,128 - Error getting GPU usage: Not Supported
2024-03-05 23:42:22,235 - (192.168.50.4:45000) Building message with hash 3453127094776779196
2024-03-05 23:42:24,242 - (192.168.50.4:45000) Building message with hash 6771789736098279473
2024-03-05 23:42:26,247 - (192.168.50.4:45000) Building message with hash -6094392426707574188
2024-03-05 23:42:28,253 - (192.168.50.4:45000) Building message with hash -6312501247910441033
2024-03-05 23:42:30,258 - (192.168.50.4:45000) Building message with hash -2541584441647100491
2024-03-05 23:42:32,177 - Error getting GPU usage: Not Supported
2024-03-05 23:42:32,266 - (192.168.50.4:45000) Building message with hash 616776841952999063
2024-03-05 23:42:34,272 - (192.168.50.4:45000) Building message with hash 1863707070905770015
2024-03-05 23:42:36,278 - (192.168.50.4:45000) Building message with hash 7509160375918175730
2024-03-05 23:42:38,283 - (192.168.50.4:45000) Building message with hash -5338487227418418946
2024-03-05 23:42:40,289 - (192.168.50.4:45000) Building message with hash 530462926675468797
2024-03-05 23:42:42,212 - Error getting GPU usage: Not Supported
2024-03-05 23:42:42,296 - (192.168.50.4:45000) Building message with hash -6767409300178088494
2024-03-05 23:42:43,731 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:42:43,734 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:42:43,735 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:43,735 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:42:43,735 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:42:43,736 - (192.168.50.4:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.2:45000']
2024-03-05 23:42:43,736 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:43,737 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000']
2024-03-05 23:42:43,737 - (192.168.50.4:45000) Building message with hash -1247724768708199676
2024-03-05 23:42:43,738 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -1247724768708199676
cmd: "models_aggregated"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:42:44,302 - (192.168.50.4:45000) Building message with hash 8021239166763602631
2024-03-05 23:42:44,829 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:42:44,831 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000']) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000']
2024-03-05 23:42:44,831 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:44,832 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:42:44,832 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:42:44,832 - (192.168.50.4:45000) add_model (aggregator) | Model added (2/3) from ['192.168.50.3:45000']
2024-03-05 23:42:44,832 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:44,833 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:42:44,833 - (192.168.50.4:45000) Building message with hash -4309183837398386496
2024-03-05 23:42:44,833 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -4309183837398386496
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:42:45,483 - (192.168.50.4:45000) Finished training.
2024-03-05 23:42:45,483 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000']) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:42:45,484 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:45,484 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-03-05 23:42:45,484 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-03-05 23:42:45,484 - (192.168.50.4:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.4:45000']
2024-03-05 23:42:45,484 - (192.168.50.4:45000) add_model (aggregator) | All models were added. Finishing aggregation.
2024-03-05 23:42:45,485 - (192.168.50.4:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-03-05 23:42:45,485 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:45,485 - (192.168.50.4:45000) Building message with hash -8422770838661764116
2024-03-05 23:42:45,485 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -8422770838661764116
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:42:45,487 - (192.168.50.4:45000) __gossip_model_aggregation
2024-03-05 23:42:45,487 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:42:45,487 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-03-05 23:42:45,488 - (192.168.50.4:45000) Waiting aggregation and gossiping model (difusion).
2024-03-05 23:42:45,488 - (192.168.50.4:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:42:45,488 - (192.168.50.4:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-03-05 23:42:45,488 - (192.168.50.4:45000) wait_and_get_aggregation | Starting aggregation.
2024-03-05 23:42:45,488 - (192.168.50.4:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-03-05 23:42:45,488 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models.
2024-03-05 23:42:45,489 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'])
2024-03-05 23:42:45,489 - [FedAvg.aggregate] Aggregating models: num=3
2024-03-05 23:42:45,491 - (192.168.50.4:45000) __wait_aggregated_model | Aggregation done for round 9, including parameters in local model.
2024-03-05 23:42:45,491 - (192.168.50.4:45000) __wait_aggregated_model | Broadcasting aggregation done for round 9
2024-03-05 23:42:45,492 - (192.168.50.4:45000) Building message with hash 4252598132802843365
2024-03-05 23:42:45,492 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 4252598132802843365
cmd: "models_ready"
args: "9"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:42:45,494 - (192.168.50.4:45000) __gossip_model_difusion
2024-03-05 23:42:45,494 - (192.168.50.4:45000) __gossip_model_difusion | Waiting model aggregation.
2024-03-05 23:42:45,494 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:42:45,494 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-03-05 23:42:45,495 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:42:45,495 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:42:45,496 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 9: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:42:45,502 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:42:45,503 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 9: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:42:46,609 - (192.168.50.4:45000) Building message with hash -4638945780181925883
2024-03-05 23:42:46,774 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 9 / 8
2024-03-05 23:42:46,779 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:42:46,780 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:42:46,781 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:46,781 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:42:46,781 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:47,982 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 9 / 8
2024-03-05 23:42:47,991 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:42:47,992 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:42:47,992 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:47,992 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:42:47,992 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:48,523 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:42:48,524 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:42:48,524 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:42:48,524 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:42:48,525 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 9: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:42:48,530 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:42:48,530 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 9: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:42:48,614 - (192.168.50.4:45000) Building message with hash 6956260163733356039
2024-03-05 23:42:49,801 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:42:49,803 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:42:49,803 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:49,803 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:42:49,803 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:50,618 - (192.168.50.4:45000) Building message with hash -2851954134488282988
2024-03-05 23:42:51,007 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:42:51,009 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:42:51,009 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:51,009 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:42:51,010 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:51,545 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:42:51,546 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:42:51,546 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:42:51,547 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:42:51,548 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 9: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:42:51,552 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:42:51,553 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 9: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:42:52,244 - Error getting GPU usage: Not Supported
2024-03-05 23:42:52,623 - (192.168.50.4:45000) Building message with hash -9034675006238666339
2024-03-05 23:42:52,830 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:42:52,832 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:42:52,832 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:52,832 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:42:52,832 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:54,030 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:42:54,031 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:42:54,032 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:54,032 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:42:54,032 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:54,569 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:42:54,569 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-03-05 23:42:54,570 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:42:54,570 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-03-05 23:42:54,571 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:42:54,572 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 9: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:42:54,576 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-03-05 23:42:54,577 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 9: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-03-05 23:42:54,628 - (192.168.50.4:45000) Building message with hash -8766812681585500849
2024-03-05 23:42:55,856 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-03-05 23:42:55,857 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:42:55,857 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:55,857 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:42:55,858 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:56,634 - (192.168.50.4:45000) Building message with hash -2683386495168915591
2024-03-05 23:42:57,060 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-03-05 23:42:57,061 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:42:57,061 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-03-05 23:42:57,061 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-03-05 23:42:57,062 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:57,594 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-03-05 23:42:57,594 - (192.168.50.4:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.3:45000']", ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 1
2024-03-05 23:42:57,594 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-03-05 23:42:57,595 - (192.168.50.4:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-03-05 23:42:57,595 - (192.168.50.4:45000) Dynamic aggregation function is enabled for round 9. Randomly select an aggregation function for the next round.
2024-03-05 23:42:57,595 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:42:57,595 - [Krum] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:42:57,596 - [Median] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:42:57,596 - [TrimmedMean] My config is <fedstellar.config.config.Config object at 0x7f33d4309150>
2024-03-05 23:42:57,596 - get_aggregated_models current aggregator is: <fedstellar.learning.aggregators.fedavg.FedAvg object at 0x7f33b4555190>
2024-03-05 23:42:57,596 - get_aggregated_models target_aggregation is: <fedstellar.learning.aggregators.krum.Krum object at 0x7f3370566210>
2024-03-05 23:42:57,596 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-03-05 23:42:57,597 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-03-05 23:42:57,597 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-03-05 23:42:57,597 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:42:57,597 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:42:57,597 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:57,597 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:42:57,598 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:42:57,598 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:57,598 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-03-05 23:42:57,598 - (192.168.50.4:45000) add_model (aggregator) | Received a model from a previous round.
2024-03-05 23:42:57,598 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-03-05 23:42:57,598 - (192.168.50.4:45000) Round 9 of 10 finished.
2024-03-05 23:42:57,599 - (192.168.50.4:45000) clear | Acquiring __agg_lock.
2024-03-05 23:42:57,599 - (192.168.50.4:45000) clear | Releasing __finish_aggregation_lock.
2024-03-05 23:42:57,599 - (192.168.50.4:45000) clear | Releasing __agg_lock.
2024-03-05 23:42:57,599 - (192.168.50.4:45000) Round 10 of 10 started.
2024-03-05 23:42:57,599 - (192.168.50.4:45000) Evaluating...
2024-03-05 23:42:57,600 - [Learner] Creating trainer with accelerator: gpu
2024-03-05 23:42:59,180 - (192.168.50.4:45000) Building message with hash 6298252853090985093
2024-03-05 23:43:01,187 - (192.168.50.4:45000) Building message with hash -3117196601042071233
2024-03-05 23:43:02,287 - Error getting GPU usage: Not Supported
2024-03-05 23:43:03,193 - (192.168.50.4:45000) Building message with hash 8396764540945511858
2024-03-05 23:43:03,769 - (192.168.50.4:45000) Finished evaluating.
2024-03-05 23:43:03,770 - (192.168.50.4:45000) Acquiring __model_initialized_lock
2024-03-05 23:43:03,770 - (192.168.50.4:45000) Federated Learning process has been completed.
2024-03-05 23:43:05,201 - (192.168.50.4:45000) Building message with hash 659125697735387937
2024-03-05 23:43:08,214 - (192.168.50.4:45000) Building message with hash -2377461646138624086
2024-03-05 23:43:10,219 - (192.168.50.4:45000) Building message with hash 977083164517954894
2024-03-05 23:43:12,224 - (192.168.50.4:45000) Building message with hash -310403090288381494
2024-03-05 23:43:12,350 - Error getting GPU usage: Not Supported
2024-03-05 23:43:14,229 - (192.168.50.4:45000) Building message with hash -7932388655442222051
2024-03-05 23:43:16,235 - (192.168.50.4:45000) Building message with hash 3403926019350284750
2024-03-05 23:43:18,241 - (192.168.50.4:45000) Building message with hash 8813252397384436716
2024-03-05 23:43:20,247 - (192.168.50.4:45000) Building message with hash -2092089630747766203
2024-03-05 23:43:22,253 - (192.168.50.4:45000) Building message with hash -2569849756381771853
2024-03-05 23:43:22,381 - Error getting GPU usage: Not Supported
2024-03-05 23:43:24,258 - (192.168.50.4:45000) Building message with hash -5956280949315735592
2024-03-05 23:43:26,264 - (192.168.50.4:45000) Building message with hash 5662417890884881536
2024-03-05 23:43:28,269 - (192.168.50.4:45000) Building message with hash -7518396426184832998
2024-03-05 23:43:30,274 - (192.168.50.4:45000) Building message with hash 1699390616692088484
2024-03-05 23:43:32,279 - (192.168.50.4:45000) Building message with hash 7426538964663949191
2024-03-05 23:43:32,414 - Error getting GPU usage: Not Supported
2024-03-05 23:43:34,284 - (192.168.50.4:45000) Building message with hash 7583766958870701199
2024-03-05 23:43:36,289 - (192.168.50.4:45000) Building message with hash 667419212159139593
2024-03-05 23:43:38,296 - (192.168.50.4:45000) Building message with hash 8092657262612937111
2024-03-05 23:43:40,299 - (192.168.50.4:45000) Building message with hash -7325138754886943448
2024-03-05 23:43:42,304 - (192.168.50.4:45000) Building message with hash 7843852352808735634
2024-03-05 23:43:42,444 - Error getting GPU usage: Not Supported
2024-03-05 23:43:44,310 - (192.168.50.4:45000) Building message with hash -3210316639683825028
2024-03-05 23:43:46,315 - (192.168.50.4:45000) Building message with hash 478084071076942790
2024-03-05 23:43:48,321 - (192.168.50.4:45000) Building message with hash 4242613214161534937
2024-03-05 23:43:50,325 - (192.168.50.4:45000) Building message with hash 2071541896967255354
2024-03-05 23:43:52,330 - (192.168.50.4:45000) Building message with hash -3479628081861016106
2024-03-05 23:43:52,513 - Error getting GPU usage: Not Supported
2024-03-05 23:43:54,339 - (192.168.50.4:45000) Building message with hash -2119763208118030484
2024-03-05 23:43:56,346 - (192.168.50.4:45000) Building message with hash -7064976339100534575
2024-03-05 23:43:58,350 - (192.168.50.4:45000) Building message with hash -5403385982986463182
2024-03-05 23:44:00,358 - (192.168.50.4:45000) Building message with hash 8053206779752377662
2024-03-05 23:44:02,363 - (192.168.50.4:45000) Building message with hash 794783975636466710
2024-03-05 23:44:02,549 - Error getting GPU usage: Not Supported
2024-03-05 23:44:04,368 - (192.168.50.4:45000) Building message with hash -6114789863902891696
2024-03-05 23:44:06,373 - (192.168.50.4:45000) Building message with hash -3526596203001099825
2024-03-05 23:44:08,379 - (192.168.50.4:45000) Building message with hash -9131943099758576449
2024-03-05 23:44:10,386 - (192.168.50.4:45000) Building message with hash 6599435983027186924
2024-03-05 23:44:12,392 - (192.168.50.4:45000) Building message with hash -525304608958371856
2024-03-05 23:44:12,586 - Error getting GPU usage: Not Supported
2024-03-05 23:44:14,396 - (192.168.50.4:45000) Building message with hash -2626774083047611210
2024-03-05 23:44:16,401 - (192.168.50.4:45000) Building message with hash 8524023477516370809
2024-03-05 23:44:18,407 - (192.168.50.4:45000) Building message with hash -3431775821745933648
2024-03-05 23:44:20,411 - (192.168.50.4:45000) Building message with hash 6777766686210872466
2024-03-05 23:44:22,416 - (192.168.50.4:45000) Building message with hash -5554249905746173052
2024-03-05 23:44:22,617 - Error getting GPU usage: Not Supported
2024-03-05 23:44:24,422 - (192.168.50.4:45000) Building message with hash -8199578844897484984
2024-03-05 23:44:26,430 - (192.168.50.4:45000) Building message with hash -3113598470388856420
2024-03-05 23:44:28,434 - (192.168.50.4:45000) Building message with hash -4199429897071988215
2024-03-05 23:44:30,440 - (192.168.50.4:45000) Building message with hash 2900257842071416527
2024-03-05 23:44:32,444 - (192.168.50.4:45000) Building message with hash -8920596419613430147
2024-03-05 23:44:32,648 - Error getting GPU usage: Not Supported
2024-03-05 23:44:34,449 - (192.168.50.4:45000) Building message with hash -9184878024955549310
2024-03-05 23:44:36,455 - (192.168.50.4:45000) Building message with hash 7347198282516442605
2024-03-05 23:44:38,460 - (192.168.50.4:45000) Building message with hash 8536483194593477616
2024-03-05 23:44:40,465 - (192.168.50.4:45000) Building message with hash -4216338912467438173
2024-03-05 23:44:42,471 - (192.168.50.4:45000) Building message with hash -3067876072083632048
2024-03-05 23:44:42,679 - Error getting GPU usage: Not Supported
2024-03-05 23:44:44,476 - (192.168.50.4:45000) Building message with hash 2206468282641985220
2024-03-05 23:44:46,482 - (192.168.50.4:45000) Building message with hash -2024915418184162707
2024-03-05 23:44:48,487 - (192.168.50.4:45000) Building message with hash 7988785457606494949
2024-03-05 23:44:50,491 - (192.168.50.4:45000) Building message with hash 200662599776690468
2024-03-05 23:44:52,497 - (192.168.50.4:45000) Building message with hash 3224713774190287661
2024-03-05 23:44:52,705 - Error getting GPU usage: Not Supported
2024-03-05 23:44:54,502 - (192.168.50.4:45000) Building message with hash -1199971915455005978
2024-03-05 23:44:56,506 - (192.168.50.4:45000) Building message with hash -2254507024511806666
2024-03-05 23:44:58,511 - (192.168.50.4:45000) Building message with hash 3119134504102712897
2024-03-05 23:45:00,516 - (192.168.50.4:45000) Building message with hash 3275112684768490236
2024-03-05 23:45:02,523 - (192.168.50.4:45000) Building message with hash 5009254473943870105
2024-03-05 23:45:02,740 - Error getting GPU usage: Not Supported
2024-03-05 23:45:04,527 - (192.168.50.4:45000) Building message with hash -1480067627150032191
2024-03-05 23:45:06,533 - (192.168.50.4:45000) Building message with hash 8438928572417311752
2024-03-05 23:45:08,539 - (192.168.50.4:45000) Building message with hash -551703579797854384
2024-03-05 23:45:10,546 - (192.168.50.4:45000) Building message with hash -1259338742414721310
2024-03-05 23:45:12,552 - (192.168.50.4:45000) Building message with hash 704531886635487606
2024-03-05 23:45:12,777 - Error getting GPU usage: Not Supported
2024-03-05 23:45:14,557 - (192.168.50.4:45000) Building message with hash 1231480853686824331
2024-03-05 23:45:16,561 - (192.168.50.4:45000) Building message with hash 1469600352401362508
2024-03-05 23:45:18,570 - (192.168.50.4:45000) Building message with hash -810018932528994288
2024-03-05 23:45:20,576 - (192.168.50.4:45000) Building message with hash 7885359792591104820
2024-03-05 23:45:22,582 - (192.168.50.4:45000) Building message with hash 6416987816850672270
2024-03-05 23:45:22,807 - Error getting GPU usage: Not Supported
2024-03-05 23:45:24,586 - (192.168.50.4:45000) Building message with hash 6711825359886602807
2024-03-05 23:45:26,592 - (192.168.50.4:45000) Building message with hash 8317671004047034133
2024-03-05 23:45:28,596 - (192.168.50.4:45000) Building message with hash -4619650731735769976
2024-03-05 23:45:30,600 - (192.168.50.4:45000) Building message with hash -216711468145185649
2024-03-05 23:45:32,607 - (192.168.50.4:45000) Building message with hash 6849223350310284186
2024-03-05 23:45:32,830 - Error getting GPU usage: Not Supported
2024-03-05 23:45:34,613 - (192.168.50.4:45000) Building message with hash 3340043216474668261
2024-03-05 23:45:36,618 - (192.168.50.4:45000) Building message with hash -9123283912484706882
2024-03-05 23:45:39,263 - (192.168.50.4:45000) Building message with hash -8500103320771600988
2024-03-05 23:45:41,267 - (192.168.50.4:45000) Building message with hash 8036637749599958601
2024-03-05 23:45:42,861 - Error getting GPU usage: Not Supported
2024-03-05 23:45:43,272 - (192.168.50.4:45000) Building message with hash -8120676106922251867
2024-03-05 23:45:45,276 - (192.168.50.4:45000) Building message with hash 5117762263823843486
2024-03-05 23:45:47,281 - (192.168.50.4:45000) Building message with hash -9029770087908460125
2024-03-05 23:45:49,285 - (192.168.50.4:45000) Building message with hash 2531781684474175269
2024-03-05 23:45:51,290 - (192.168.50.4:45000) Building message with hash -1553613525026057913
2024-03-05 23:45:52,894 - Error getting GPU usage: Not Supported
2024-03-05 23:45:53,297 - (192.168.50.4:45000) Building message with hash 6741885668198909808
2024-03-05 23:45:55,302 - (192.168.50.4:45000) Building message with hash -6712856107738849978
2024-03-05 23:45:57,307 - (192.168.50.4:45000) Building message with hash 56180381211415656
2024-03-05 23:45:59,311 - (192.168.50.4:45000) Building message with hash -7894844894635763357
2024-03-05 23:46:01,315 - (192.168.50.4:45000) Building message with hash -4053509623613933689
2024-03-05 23:46:02,924 - Error getting GPU usage: Not Supported
2024-03-05 23:46:03,320 - (192.168.50.4:45000) Building message with hash -433270820888993695
2024-03-05 23:46:05,324 - (192.168.50.4:45000) Building message with hash -5618896466787609705
2024-03-05 23:46:07,329 - (192.168.50.4:45000) Building message with hash -6304343456057291835
2024-03-05 23:46:09,332 - (192.168.50.4:45000) Building message with hash -5239327217503790728
2024-03-05 23:46:11,337 - (192.168.50.4:45000) Building message with hash -7635917631275767598
2024-03-05 23:46:12,947 - Error getting GPU usage: Not Supported
2024-03-05 23:46:13,342 - (192.168.50.4:45000) Building message with hash 2628146126758356395
2024-03-05 23:46:15,346 - (192.168.50.4:45000) Building message with hash 7279174233545972245
2024-03-05 23:46:17,350 - (192.168.50.4:45000) Building message with hash 8567884834475807888
2024-03-05 23:46:19,356 - (192.168.50.4:45000) Building message with hash -6318292614394116670
2024-03-05 23:46:21,360 - (192.168.50.4:45000) Building message with hash -4373012964881502343
2024-03-05 23:46:22,981 - Error getting GPU usage: Not Supported
2024-03-05 23:46:23,364 - (192.168.50.4:45000) Building message with hash 5470986986504098266
2024-03-05 23:46:25,368 - (192.168.50.4:45000) Building message with hash 6321654389036919969
2024-03-05 23:46:27,373 - (192.168.50.4:45000) Building message with hash -7618251283045170319
2024-03-05 23:46:29,378 - (192.168.50.4:45000) Building message with hash -4168199469388963505
2024-03-05 23:46:31,383 - (192.168.50.4:45000) Building message with hash 6316586531783687946
2024-03-05 23:46:33,010 - Error getting GPU usage: Not Supported
2024-03-05 23:46:33,388 - (192.168.50.4:45000) Building message with hash 1667145109396832878
2024-03-05 23:46:35,392 - (192.168.50.4:45000) Building message with hash -5207921191706053838
2024-03-05 23:46:37,396 - (192.168.50.4:45000) Building message with hash -6461688489684373405
2024-03-05 23:46:39,400 - (192.168.50.4:45000) Building message with hash 3622614457396113988
2024-03-05 23:46:41,405 - (192.168.50.4:45000) Building message with hash 571271922347026726
2024-03-05 23:46:43,032 - Error getting GPU usage: Not Supported
2024-03-05 23:46:43,410 - (192.168.50.4:45000) Building message with hash 4563356908131397550
2024-03-05 23:46:45,418 - (192.168.50.4:45000) Building message with hash -1658718668024838740
2024-03-05 23:46:47,422 - (192.168.50.4:45000) Building message with hash -4604614970710814181
2024-03-05 23:46:49,427 - (192.168.50.4:45000) Building message with hash 3494834654407588692
2024-03-05 23:46:51,432 - (192.168.50.4:45000) Building message with hash 8566267102023748156
2024-03-05 23:46:53,064 - Error getting GPU usage: Not Supported
2024-03-05 23:46:53,438 - (192.168.50.4:45000) Building message with hash -3723662673172854530
2024-03-05 23:46:55,443 - (192.168.50.4:45000) Building message with hash 6701556174227477455
2024-03-05 23:46:57,448 - (192.168.50.4:45000) Building message with hash -4104208405592172244
2024-03-05 23:46:59,453 - (192.168.50.4:45000) Building message with hash -7416867007296125259
2024-03-05 23:47:01,458 - (192.168.50.4:45000) Building message with hash 4994548260984260327
2024-03-05 23:47:03,095 - Error getting GPU usage: Not Supported
2024-03-05 23:47:03,463 - (192.168.50.4:45000) Building message with hash -3963644423225069160
2024-03-05 23:47:05,467 - (192.168.50.4:45000) Building message with hash -5472581951110198689
2024-03-05 23:47:07,472 - (192.168.50.4:45000) Building message with hash -1563655386111069545
2024-03-05 23:47:09,476 - (192.168.50.4:45000) Building message with hash -5540872503473488485
2024-03-05 23:47:11,481 - (192.168.50.4:45000) Building message with hash 389866629433923581
2024-03-05 23:47:13,124 - Error getting GPU usage: Not Supported
2024-03-05 23:47:13,485 - (192.168.50.4:45000) Building message with hash 7336133706344312435
2024-03-05 23:47:15,490 - (192.168.50.4:45000) Building message with hash 4594340105613474502
2024-03-05 23:47:17,495 - (192.168.50.4:45000) Building message with hash 73521709247272431
2024-03-05 23:47:19,499 - (192.168.50.4:45000) Building message with hash -9167697548108851597
2024-03-05 23:47:21,504 - (192.168.50.4:45000) Building message with hash 4861262098730017445
2024-03-05 23:47:23,145 - Error getting GPU usage: Not Supported
2024-03-05 23:47:23,508 - (192.168.50.4:45000) Building message with hash 8850709695556680577
2024-03-05 23:47:25,512 - (192.168.50.4:45000) Building message with hash -487558323367634338
2024-03-05 23:47:27,517 - (192.168.50.4:45000) Building message with hash -1932706702233888911
2024-03-05 23:47:29,521 - (192.168.50.4:45000) Building message with hash 7038370637772300220
2024-03-05 23:47:31,526 - (192.168.50.4:45000) Building message with hash 1905005784572562387
2024-03-05 23:47:33,178 - Error getting GPU usage: Not Supported
2024-03-05 23:47:33,531 - (192.168.50.4:45000) Building message with hash 7415029588887876612
2024-03-05 23:47:35,535 - (192.168.50.4:45000) Building message with hash 3321245382898137530
2024-03-05 23:47:37,541 - (192.168.50.4:45000) Building message with hash -7499325086922971651
2024-03-05 23:47:39,545 - (192.168.50.4:45000) Building message with hash 1840915965682854858
2024-03-05 23:47:41,550 - (192.168.50.4:45000) Building message with hash 8720542277925774464
2024-03-05 23:47:43,211 - Error getting GPU usage: Not Supported
2024-03-05 23:47:43,554 - (192.168.50.4:45000) Building message with hash -8412644337428289963
2024-03-05 23:47:45,560 - (192.168.50.4:45000) Building message with hash 6829212003584823842
2024-03-05 23:47:47,565 - (192.168.50.4:45000) Building message with hash -3854086469504221754
2024-03-05 23:47:49,569 - (192.168.50.4:45000) Building message with hash -8741754031760757022
2024-03-05 23:47:51,574 - (192.168.50.4:45000) Building message with hash -4424813815363924891
2024-03-05 23:47:53,242 - Error getting GPU usage: Not Supported
2024-03-05 23:47:53,578 - (192.168.50.4:45000) Building message with hash 9154734425706964767
2024-03-05 23:47:55,583 - (192.168.50.4:45000) Building message with hash 8839404029875391571
2024-03-05 23:47:57,587 - (192.168.50.4:45000) Building message with hash 6443514704642359071
2024-03-05 23:47:59,592 - (192.168.50.4:45000) Building message with hash 3597659142458230240
2024-03-05 23:48:01,598 - (192.168.50.4:45000) Building message with hash -9212966292251561153
