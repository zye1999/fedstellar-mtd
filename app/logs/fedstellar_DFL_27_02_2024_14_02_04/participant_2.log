2024-02-27 14:02:22,785 - 
╔══════════════════════════╗
║  Node information        ║
║  ----------------        ║
║  ID 2                    ║
║  IP: 192.168.50.4:45000  ║
║  Role: aggregator        ║
╚══════════════════════════╝
2024-02-27 14:02:22,842 - (192.168.50.4:45000) Starting reporter thread
2024-02-27 14:02:22,842 - 
╔═════════════════════════════╗
║  Mobility information       ║
║  --------------------       ║
║  Mobility: False            ║
║  Mobility type: both        ║
║  Radius federation: 1000.0  ║
║  Scheme mobility: random    ║
║  Each 1 rounds              ║
╚═════════════════════════════╝
2024-02-27 14:02:22,843 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f15ae8a5110>
2024-02-27 14:02:22,843 - [Krum] My config is <fedstellar.config.config.Config object at 0x7f15ae8a5110>
2024-02-27 14:02:22,843 - [Median] My config is <fedstellar.config.config.Config object at 0x7f15ae8a5110>
2024-02-27 14:02:22,843 - [TrimmedMean] My config is <fedstellar.config.config.Config object at 0x7f15ae8a5110>
2024-02-27 14:02:22,844 - 
╔══════════════════════════════════════╗
║  Defense information                 ║
║  -------------------                 ║
║  Reputation system: True             ║
║  Dynamic topology: False             ║
║  Dynamic aggregation: True           ║
║  Target aggregation: MedianReactive  ║
╚══════════════════════════════════════╝
2024-02-27 14:02:22,857 - [Learner] Fixing randomness with seed 42
2024-02-27 14:02:22,915 - 
╔══════════════════════════════════╗
║  Logging information             ║
║  -------------------             ║
║  Logging type: FedstellarLogger  ║
╚══════════════════════════════════╝
2024-02-27 14:02:22,916 - [FedAvg] My config is <fedstellar.config.config.Config object at 0x7f15ae8a5110>
2024-02-27 14:02:22,916 - 
╔═════════════════════════════════╗
║  Additional information         ║
║  ----------------------         ║
║  Dataset: MNIST                 ║
║  IID: True                      ║
║  Model: MNISTModelMLP           ║
║  Aggregation algorithm: FedAvg  ║
║  Node behavior: malicious       ║
╚═════════════════════════════════╝
2024-02-27 14:02:22,917 - (192.168.50.4:45000) Starting gRPC thread at 192.168.50.4:45000...
2024-02-27 14:02:22,919 - (192.168.50.4:45000) gRPC started.
2024-02-27 14:02:22,919 - (192.168.50.4:45000) Starting heartbeater thread
2024-02-27 14:02:22,919 - (192.168.50.4:45000) Building message with hash -4768035761053426668
2024-02-27 14:02:22,919 - (192.168.50.4:45000) Starting gossiper thread
2024-02-27 14:02:24,920 - (192.168.50.4:45000) Building message with hash 1577278504093608527
2024-02-27 14:02:26,921 - (192.168.50.4:45000) Building message with hash 3834711433632306023
2024-02-27 14:02:28,922 - (192.168.50.4:45000) Building message with hash 2180143325702669303
2024-02-27 14:02:30,923 - (192.168.50.4:45000) Building message with hash 1384497436479390734
2024-02-27 14:02:32,920 - (192.168.50.4:45000) connecting to 192.168.50.2:45000...
2024-02-27 14:02:32,921 - (192.168.50.4:45000) Attempting to add DIRECT connection 192.168.50.2:45000 (duplicated=False)
2024-02-27 14:02:32,921 - (192.168.50.4:45000) Adding direct connected neighbor 192.168.50.2:45000
2024-02-27 14:02:32,924 - (192.168.50.4:45000) Building message with hash -383645889744004389
2024-02-27 14:02:34,926 - (192.168.50.4:45000) Building message with hash 1808936513097177796
2024-02-27 14:02:34,929 - (192.168.50.4:45000) connecting to 192.168.50.3:45000...
2024-02-27 14:02:34,930 - (192.168.50.4:45000) Attempting to add DIRECT connection 192.168.50.3:45000 (duplicated=False)
2024-02-27 14:02:34,930 - (192.168.50.4:45000) Adding direct connected neighbor 192.168.50.3:45000
2024-02-27 14:02:36,929 - (192.168.50.4:45000) Building message with hash -8718271448558089211
2024-02-27 14:02:36,933 - (192.168.50.4:45000) Waiting for gRPC to terminate...
2024-02-27 14:02:38,934 - (192.168.50.4:45000) Building message with hash 1135389763292968623
2024-02-27 14:02:40,939 - (192.168.50.4:45000) Building message with hash 898063944469343757
2024-02-27 14:02:42,943 - (192.168.50.4:45000) Building message with hash -8370678124265279788
2024-02-27 14:02:44,950 - (192.168.50.4:45000) Building message with hash -6112327849356375068
2024-02-27 14:02:46,953 - (192.168.50.4:45000) Building message with hash 7688809638815749660
2024-02-27 14:02:48,957 - (192.168.50.4:45000) Building message with hash -4834433567581771697
2024-02-27 14:02:50,962 - (192.168.50.4:45000) Building message with hash 8323692083434311261
2024-02-27 14:02:52,966 - (192.168.50.4:45000) Building message with hash 1094370937351400632
2024-02-27 14:02:54,970 - (192.168.50.4:45000) Building message with hash -2652572706999790546
2024-02-27 14:02:56,974 - (192.168.50.4:45000) Building message with hash 7831280062265605036
2024-02-27 14:02:58,979 - (192.168.50.4:45000) Building message with hash 2404966175307525112
2024-02-27 14:03:00,983 - (192.168.50.4:45000) Building message with hash 4337635100888745095
2024-02-27 14:03:02,987 - (192.168.50.4:45000) Building message with hash 505051157594141803
2024-02-27 14:03:04,170 - (192.168.50.4:45000) Starting learning thread
2024-02-27 14:03:04,171 - (192.168.50.4:45000) Starting Federated Learning process...
2024-02-27 14:03:04,171 - (192.168.50.4:45000) Initial DIRECT neighbors: ['192.168.50.2:45000', '192.168.50.3:45000'] | Initial UNDIRECT participants: []
2024-02-27 14:03:04,171 - (192.168.50.4:45000) Waiting initialization.
2024-02-27 14:03:04,182 - (192.168.50.4:45000) add_model (gRPC) | Initializing model (executed by 192.168.50.2:45000) | contributors=[]
2024-02-27 14:03:04,184 - (192.168.50.4:45000) Gossiping model initialization.
2024-02-27 14:03:04,184 - (192.168.50.4:45000) __gossip_model_difusion
2024-02-27 14:03:04,184 - (192.168.50.4:45000) __gossip_model_difusion | Waiting model initialization.
2024-02-27 14:03:04,185 - (192.168.50.4:45000 Gossip | ['192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:03:04,185 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-02-27 14:03:04,185 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000']
2024-02-27 14:03:04,185 - (192.168.50.4:45000) add_model (gRPC) | Model Weights Initialized
2024-02-27 14:03:04,186 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: [] and weight: 1
2024-02-27 14:03:04,186 - (192.168.50.4:45000) Building message with hash 3104186800080121462
2024-02-27 14:03:04,187 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 0: contributors=[], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:03:04,187 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 3104186800080121462
cmd: "model_initialized"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:03:04,992 - (192.168.50.4:45000) Building message with hash 8292358977213084135
2024-02-27 14:03:06,996 - (192.168.50.4:45000) Building message with hash -27941310230096593
2024-02-27 14:03:07,222 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:03:07,223 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-02-27 14:03:09,001 - (192.168.50.4:45000) Building message with hash 5772816438677387220
2024-02-27 14:03:11,005 - (192.168.50.4:45000) Building message with hash 8038271741706152357
2024-02-27 14:03:13,009 - (192.168.50.4:45000) Building message with hash 3965863422487520676
2024-02-27 14:03:15,013 - (192.168.50.4:45000) Building message with hash -15412746334896001
2024-02-27 14:03:17,017 - (192.168.50.4:45000) Building message with hash 3733141003159521080
2024-02-27 14:03:19,022 - (192.168.50.4:45000) Building message with hash -345123047237671839
2024-02-27 14:03:21,026 - (192.168.50.4:45000) Building message with hash 6255826999474216556
2024-02-27 14:03:23,031 - (192.168.50.4:45000) Building message with hash 4768126105749761415
2024-02-27 14:03:24,171 - (192.168.50.4:45000) Round 0 of 10 started.
2024-02-27 14:03:24,171 - [Learner] Creating trainer with accelerator: cpu
2024-02-27 14:03:24,432 - 192.168.50.4:45000 Train set: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:03:24,432 - 192.168.50.4:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.3:45000'] | Undirected neighbors: []
2024-02-27 14:03:24,432 - [NODE.__train_step] Role.AGGREGATOR process...
2024-02-27 14:03:24,433 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:03:24,433 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-02-27 14:03:24,433 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-02-27 14:03:24,433 - (192.168.50.4:45000) Evaluating...
2024-02-27 14:03:24,434 - [Learner] Creating trainer with accelerator: cpu
2024-02-27 14:03:25,036 - (192.168.50.4:45000) Building message with hash -6962470487003941724
2024-02-27 14:03:27,044 - (192.168.50.4:45000) Building message with hash -2845112951470115582
2024-02-27 14:03:28,501 - (192.168.50.4:45000) Finished evaluating.
2024-02-27 14:03:28,501 - (192.168.50.4:45000) Training...
2024-02-27 14:03:28,501 - [Learner] Creating trainer with accelerator: cpu
2024-02-27 14:03:29,052 - (192.168.50.4:45000) Building message with hash 5885369239311243566
2024-02-27 14:03:31,063 - (192.168.50.4:45000) Building message with hash 4333109558006850976
2024-02-27 14:03:33,070 - (192.168.50.4:45000) Building message with hash -4760799313398256199
2024-02-27 14:03:35,078 - (192.168.50.4:45000) Building message with hash -454243637180889801
2024-02-27 14:03:37,086 - (192.168.50.4:45000) Building message with hash 1692477816248402631
2024-02-27 14:03:39,095 - (192.168.50.4:45000) Building message with hash 7200288406032715423
2024-02-27 14:03:41,104 - (192.168.50.4:45000) Building message with hash -1274015510387181249
2024-02-27 14:03:43,112 - (192.168.50.4:45000) Building message with hash -6355926473019354317
2024-02-27 14:03:45,121 - (192.168.50.4:45000) Building message with hash 2068673631599151922
2024-02-27 14:03:47,130 - (192.168.50.4:45000) Building message with hash 3211662717045355004
2024-02-27 14:03:49,138 - (192.168.50.4:45000) Building message with hash 175062621634589229
2024-02-27 14:03:51,146 - (192.168.50.4:45000) Building message with hash 5609589554324624774
2024-02-27 14:03:53,154 - (192.168.50.4:45000) Building message with hash -3098338226687436652
2024-02-27 14:03:55,164 - (192.168.50.4:45000) Building message with hash 7950354142238483129
2024-02-27 14:03:57,172 - (192.168.50.4:45000) Building message with hash 4142063036714496396
2024-02-27 14:03:59,182 - (192.168.50.4:45000) Building message with hash 2631588778735647333
2024-02-27 14:03:59,527 - (192.168.50.4:45000) add_model (gRPC) | Initializing model (executed by 192.168.50.2:45000) | contributors=['192.168.50.2:45000']
2024-02-27 14:03:59,530 - (192.168.50.4:45000) add_model (gRPC) | Model Weights Initialized
2024-02-27 14:03:59,531 - (192.168.50.4:45000) Building message with hash -7537823525132305842
2024-02-27 14:03:59,531 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -7537823525132305842
cmd: "model_initialized"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:04:01,189 - (192.168.50.4:45000) Building message with hash -7557301616988785277
2024-02-27 14:04:02,577 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:04:02,581 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-02-27 14:04:02,581 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:04:02,581 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:04:02,582 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-02-27 14:04:02,582 - (192.168.50.4:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.2:45000']
2024-02-27 14:04:02,582 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:04:02,583 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000']
2024-02-27 14:04:02,583 - (192.168.50.4:45000) Building message with hash -297257642984507252
2024-02-27 14:04:02,583 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -297257642984507252
cmd: "models_aggregated"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:04:03,194 - (192.168.50.4:45000) Building message with hash 4699059089881963565
2024-02-27 14:04:04,948 - (192.168.50.4:45000) Finished training.
2024-02-27 14:04:04,948 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000']) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000']
2024-02-27 14:04:04,948 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:04:04,949 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:04:04,949 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-02-27 14:04:04,949 - (192.168.50.4:45000) add_model (aggregator) | Model added (2/3) from ['192.168.50.4:45000']
2024-02-27 14:04:04,949 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:04:04,950 - (192.168.50.4:45000) Building message with hash -6245129836081993095
2024-02-27 14:04:04,950 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -6245129836081993095
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:04:04,952 - (192.168.50.4:45000) __gossip_model_aggregation
2024-02-27 14:04:04,952 - (192.168.50.4:45000 Gossip | ['192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:04:04,952 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-02-27 14:04:04,952 - (192.168.50.4:45000) Aggregated models at round 0: ['192.168.50.2:45000']
2024-02-27 14:04:04,952 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000']
2024-02-27 14:04:04,953 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-02-27 14:04:04,954 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 0: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-02-27 14:04:04,998 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:04:05,000 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000']
2024-02-27 14:04:05,000 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:04:05,001 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:04:05,001 - (192.168.50.4:45000) add_model (aggregator) | The number of contributors is equal to the number of nodes in the train set. --> Full aggregation.
2024-02-27 14:04:05,001 - (192.168.50.4:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-02-27 14:04:05,001 - (192.168.50.4:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-02-27 14:04:05,001 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:04:05,002 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-02-27 14:04:05,002 - (192.168.50.4:45000) Building message with hash 9098781880192498783
2024-02-27 14:04:05,002 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 9098781880192498783
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.4:45000"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:04:05,203 - (192.168.50.4:45000) Building message with hash 3915085126972522597
2024-02-27 14:04:05,622 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:04:05,624 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000 192.168.50.4:45000 192.168.50.3:45000']) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-02-27 14:04:05,624 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:04:05,624 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:04:05,624 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:04:07,208 - (192.168.50.4:45000) Building message with hash 7911635285871304205
2024-02-27 14:04:07,970 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:04:07,971 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-02-27 14:04:07,971 - (192.168.50.4:45000) Waiting aggregation and gossiping model (difusion).
2024-02-27 14:04:07,972 - (192.168.50.4:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-02-27 14:04:07,972 - (192.168.50.4:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-02-27 14:04:07,972 - (192.168.50.4:45000) wait_and_get_aggregation | Starting aggregation.
2024-02-27 14:04:07,973 - (192.168.50.4:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-02-27 14:04:07,973 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models.
2024-02-27 14:04:07,973 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.2:45000 192.168.50.4:45000 192.168.50.3:45000'])
2024-02-27 14:04:07,974 - [FedAvg.aggregate] Aggregating models: num=1
2024-02-27 14:04:07,974 - (192.168.50.4:45000) __wait_aggregated_model | Aggregation done for round 0, including parameters in local model.
2024-02-27 14:04:07,975 - (192.168.50.4:45000) __wait_aggregated_model | Broadcasting aggregation done for round 0
2024-02-27 14:04:07,975 - (192.168.50.4:45000) Building message with hash 601431448664177144
2024-02-27 14:04:07,976 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 601431448664177144
cmd: "models_ready"
args: "0"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:04:07,977 - (192.168.50.4:45000) __gossip_model_difusion
2024-02-27 14:04:07,977 - (192.168.50.4:45000) __gossip_model_difusion | Waiting model aggregation.
2024-02-27 14:04:07,978 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:04:07,978 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-02-27 14:04:07,978 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000']
2024-02-27 14:04:07,978 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:04:07,979 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 0: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:04:09,212 - (192.168.50.4:45000) Building message with hash -6286752065724337974
2024-02-27 14:04:10,997 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:04:10,998 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-02-27 14:04:10,998 - (192.168.50.4:45000) Round 0 of 10 finished.
2024-02-27 14:04:10,998 - (192.168.50.4:45000) clear | Acquiring __agg_lock.
2024-02-27 14:04:10,998 - (192.168.50.4:45000) clear | Releasing __finish_aggregation_lock.
2024-02-27 14:04:10,998 - (192.168.50.4:45000) clear | Releasing __agg_lock.
2024-02-27 14:04:11,001 - (192.168.50.4:45000) Round 1 of 10 started.
2024-02-27 14:04:11,002 - 192.168.50.4:45000 Train set: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:04:11,002 - 192.168.50.4:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.3:45000'] | Undirected neighbors: []
2024-02-27 14:04:11,002 - [NODE.__train_step] Role.AGGREGATOR process...
2024-02-27 14:04:11,002 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:04:11,003 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-02-27 14:04:11,003 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-02-27 14:04:11,003 - (192.168.50.4:45000) Evaluating...
2024-02-27 14:04:11,004 - [Learner] Creating trainer with accelerator: cpu
2024-02-27 14:04:11,217 - (192.168.50.4:45000) Building message with hash 2808736361747954023
2024-02-27 14:04:13,222 - (192.168.50.4:45000) Building message with hash -3954243167219284011
2024-02-27 14:04:14,132 - (192.168.50.4:45000) Finished evaluating.
2024-02-27 14:04:14,132 - (192.168.50.4:45000) Training...
2024-02-27 14:04:14,132 - [Learner] Creating trainer with accelerator: cpu
2024-02-27 14:04:15,231 - (192.168.50.4:45000) Building message with hash 5156683432593432129
2024-02-27 14:04:17,238 - (192.168.50.4:45000) Building message with hash 8742977185497547880
2024-02-27 14:04:19,244 - (192.168.50.4:45000) Building message with hash -1596824436069736544
2024-02-27 14:04:21,250 - (192.168.50.4:45000) Building message with hash -6600877022923045644
2024-02-27 14:04:23,256 - (192.168.50.4:45000) Building message with hash -6974317971122018505
2024-02-27 14:04:25,264 - (192.168.50.4:45000) Building message with hash 739203175786309220
2024-02-27 14:04:27,271 - (192.168.50.4:45000) Building message with hash 6127988982653305297
2024-02-27 14:04:29,279 - (192.168.50.4:45000) Building message with hash -837021511692353564
2024-02-27 14:04:31,286 - (192.168.50.4:45000) Building message with hash 3389214044934249573
2024-02-27 14:04:33,294 - (192.168.50.4:45000) Building message with hash -7882792116932727124
2024-02-27 14:04:35,305 - (192.168.50.4:45000) Building message with hash 7286101314105881342
2024-02-27 14:04:37,311 - (192.168.50.4:45000) Building message with hash -3953458812501563296
2024-02-27 14:04:39,318 - (192.168.50.4:45000) Building message with hash 1186995536120084582
2024-02-27 14:04:41,325 - (192.168.50.4:45000) Building message with hash 801620489881221604
2024-02-27 14:04:42,559 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:04:42,562 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-02-27 14:04:42,562 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:04:42,563 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:04:42,563 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-02-27 14:04:42,564 - (192.168.50.4:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.2:45000']
2024-02-27 14:04:42,564 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:04:42,564 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000']
2024-02-27 14:04:42,565 - (192.168.50.4:45000) Building message with hash 5254563560637072347
2024-02-27 14:04:42,565 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 5254563560637072347
cmd: "models_aggregated"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:04:43,333 - (192.168.50.4:45000) Building message with hash -1727318568753572050
2024-02-27 14:04:45,339 - (192.168.50.4:45000) Building message with hash -4265513106287876836
2024-02-27 14:04:45,605 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:04:45,610 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000']) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000']
2024-02-27 14:04:45,611 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:04:45,611 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:04:45,614 - (192.168.50.4:45000) BETA add_model (aggregator) | Some contributors are in the aggregated models.
2024-02-27 14:04:45,616 - (192.168.50.4:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.2:45000'])
2024-02-27 14:04:45,617 - (192.168.50.4:45000) BETA add_model (aggregator) | nodes_not_in_aggregated_models=[]
2024-02-27 14:04:45,618 - (192.168.50.4:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.2:45000'])
2024-02-27 14:04:45,619 - (192.168.50.4:45000) BETA add_model (aggregator) | Model added (1/3) from ['192.168.50.2:45000']
2024-02-27 14:04:45,620 - (192.168.50.4:45000) BETA add_model (aggregator) | self.aggregated_models=['192.168.50.2:45000']
2024-02-27 14:04:45,621 - (192.168.50.4:45000) BETA add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:04:45,622 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000']
2024-02-27 14:04:45,623 - (192.168.50.4:45000) Building message with hash 6713185938372252881
2024-02-27 14:04:45,624 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 6713185938372252881
cmd: "models_aggregated"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:04:46,539 - (192.168.50.4:45000) Finished training.
2024-02-27 14:04:46,540 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000']) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000']
2024-02-27 14:04:46,541 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:04:46,541 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:04:46,541 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-02-27 14:04:46,542 - (192.168.50.4:45000) add_model (aggregator) | Model added (2/3) from ['192.168.50.4:45000']
2024-02-27 14:04:46,542 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:04:46,542 - (192.168.50.4:45000) Building message with hash 5078951100182545396
2024-02-27 14:04:46,542 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 5078951100182545396
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:04:46,545 - (192.168.50.4:45000) __gossip_model_aggregation
2024-02-27 14:04:46,545 - (192.168.50.4:45000 Gossip | ['192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:04:46,545 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-02-27 14:04:46,546 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000']
2024-02-27 14:04:46,546 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-02-27 14:04:46,547 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 1: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-02-27 14:04:46,555 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:04:46,556 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000']) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000']
2024-02-27 14:04:46,557 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:04:46,557 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:04:46,557 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-02-27 14:04:46,558 - (192.168.50.4:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.3:45000']
2024-02-27 14:04:46,558 - (192.168.50.4:45000) add_model (aggregator) | All models were added. Finishing aggregation.
2024-02-27 14:04:46,558 - (192.168.50.4:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-02-27 14:04:46,558 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:04:46,559 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-02-27 14:04:46,559 - (192.168.50.4:45000) Building message with hash 5945861767821296224
2024-02-27 14:04:46,559 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 5945861767821296224
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.4:45000"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:04:47,348 - (192.168.50.4:45000) Building message with hash -8877966384693231016
2024-02-27 14:04:48,737 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:04:48,739 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000']
2024-02-27 14:04:48,739 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:04:48,739 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:04:48,740 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:04:49,353 - (192.168.50.4:45000) Building message with hash 2162868006931611975
2024-02-27 14:04:49,576 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:04:49,577 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-02-27 14:04:49,577 - (192.168.50.4:45000) Waiting aggregation and gossiping model (difusion).
2024-02-27 14:04:49,577 - (192.168.50.4:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-02-27 14:04:49,578 - (192.168.50.4:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-02-27 14:04:49,578 - (192.168.50.4:45000) wait_and_get_aggregation | Starting aggregation.
2024-02-27 14:04:49,578 - (192.168.50.4:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-02-27 14:04:49,579 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models.
2024-02-27 14:04:49,579 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'])
2024-02-27 14:04:49,579 - [FedAvg.aggregate] Aggregating models: num=3
2024-02-27 14:04:49,581 - (192.168.50.4:45000) __wait_aggregated_model | Aggregation done for round 1, including parameters in local model.
2024-02-27 14:04:49,582 - (192.168.50.4:45000) __wait_aggregated_model | Broadcasting aggregation done for round 1
2024-02-27 14:04:49,582 - (192.168.50.4:45000) Building message with hash 6554284840926671030
2024-02-27 14:04:49,582 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 6554284840926671030
cmd: "models_ready"
args: "1"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:04:49,584 - (192.168.50.4:45000) __gossip_model_difusion
2024-02-27 14:04:49,584 - (192.168.50.4:45000) __gossip_model_difusion | Waiting model aggregation.
2024-02-27 14:04:49,584 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:04:49,585 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-02-27 14:04:49,585 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000']
2024-02-27 14:04:49,586 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:04:49,587 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 1: contributors=['192.168.50.2:45000', '192.168.50.4:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:04:51,362 - (192.168.50.4:45000) Building message with hash 6608881954792545411
2024-02-27 14:04:52,622 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:04:52,622 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-02-27 14:04:52,622 - (192.168.50.4:45000) Round 1 of 10 finished.
2024-02-27 14:04:52,623 - (192.168.50.4:45000) clear | Acquiring __agg_lock.
2024-02-27 14:04:52,623 - (192.168.50.4:45000) clear | Releasing __finish_aggregation_lock.
2024-02-27 14:04:52,623 - (192.168.50.4:45000) clear | Releasing __agg_lock.
2024-02-27 14:04:52,627 - (192.168.50.4:45000) Round 2 of 10 started.
2024-02-27 14:04:52,628 - 192.168.50.4:45000 Train set: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:04:52,628 - 192.168.50.4:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.3:45000'] | Undirected neighbors: []
2024-02-27 14:04:52,629 - [NODE.__train_step] Role.AGGREGATOR process...
2024-02-27 14:04:52,629 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:04:52,629 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-02-27 14:04:52,629 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-02-27 14:04:52,630 - (192.168.50.4:45000) Evaluating...
2024-02-27 14:04:52,630 - [Learner] Creating trainer with accelerator: cpu
2024-02-27 14:04:53,366 - (192.168.50.4:45000) Building message with hash -5234673849051470963
2024-02-27 14:04:55,378 - (192.168.50.4:45000) Building message with hash 6031214120096292987
2024-02-27 14:04:55,960 - (192.168.50.4:45000) Finished evaluating.
2024-02-27 14:04:55,960 - (192.168.50.4:45000) Training...
2024-02-27 14:04:55,960 - [Learner] Creating trainer with accelerator: cpu
2024-02-27 14:04:57,385 - (192.168.50.4:45000) Building message with hash -2570986525466137518
2024-02-27 14:04:59,398 - (192.168.50.4:45000) Building message with hash 8353100582726861798
2024-02-27 14:05:01,405 - (192.168.50.4:45000) Building message with hash -274404511747646463
2024-02-27 14:05:03,415 - (192.168.50.4:45000) Building message with hash -757090858368533704
2024-02-27 14:05:05,422 - (192.168.50.4:45000) Building message with hash -4280307966883432372
2024-02-27 14:05:07,429 - (192.168.50.4:45000) Building message with hash 4462418520793703451
2024-02-27 14:05:09,435 - (192.168.50.4:45000) Building message with hash -6463692444455669272
2024-02-27 14:05:11,442 - (192.168.50.4:45000) Building message with hash -5441325618117893816
2024-02-27 14:05:13,449 - (192.168.50.4:45000) Building message with hash 978949818837974108
2024-02-27 14:05:15,458 - (192.168.50.4:45000) Building message with hash -5933712488948887088
2024-02-27 14:05:17,467 - (192.168.50.4:45000) Building message with hash 4309378738111781861
2024-02-27 14:05:19,511 - (192.168.50.4:45000) Building message with hash -4100147089542136037
2024-02-27 14:05:21,516 - (192.168.50.4:45000) Building message with hash -7762370259144581125
2024-02-27 14:05:23,522 - (192.168.50.4:45000) Building message with hash 2895737879124981984
2024-02-27 14:05:25,531 - (192.168.50.4:45000) Building message with hash 6089039128366699969
2024-02-27 14:05:27,065 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:05:27,068 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-02-27 14:05:27,068 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:05:27,069 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:05:27,069 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-02-27 14:05:27,069 - (192.168.50.4:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.2:45000']
2024-02-27 14:05:27,070 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:05:27,070 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000']
2024-02-27 14:05:27,071 - (192.168.50.4:45000) Building message with hash -711706426057212536
2024-02-27 14:05:27,071 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -711706426057212536
cmd: "models_aggregated"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:05:27,538 - (192.168.50.4:45000) Building message with hash -1795626437509144220
2024-02-27 14:05:27,697 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:05:27,703 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000']) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000']
2024-02-27 14:05:27,704 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:05:27,704 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:05:27,705 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-02-27 14:05:27,705 - (192.168.50.4:45000) add_model (aggregator) | Model added (2/3) from ['192.168.50.3:45000']
2024-02-27 14:05:27,705 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:05:27,706 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:05:27,706 - (192.168.50.4:45000) Building message with hash 7073520540849183416
2024-02-27 14:05:27,706 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 7073520540849183416
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:05:27,789 - (192.168.50.4:45000) Finished training.
2024-02-27 14:05:27,790 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000']) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:05:27,790 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:05:27,790 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:05:27,790 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-02-27 14:05:27,791 - (192.168.50.4:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.4:45000']
2024-02-27 14:05:27,791 - (192.168.50.4:45000) add_model (aggregator) | All models were added. Finishing aggregation.
2024-02-27 14:05:27,791 - (192.168.50.4:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-02-27 14:05:27,791 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:05:27,791 - (192.168.50.4:45000) Building message with hash 6064192556156210756
2024-02-27 14:05:27,792 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 6064192556156210756
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:05:27,793 - (192.168.50.4:45000) __gossip_model_aggregation
2024-02-27 14:05:27,793 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:05:27,793 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-02-27 14:05:27,794 - (192.168.50.4:45000) Waiting aggregation and gossiping model (difusion).
2024-02-27 14:05:27,794 - (192.168.50.4:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-02-27 14:05:27,794 - (192.168.50.4:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-02-27 14:05:27,794 - (192.168.50.4:45000) wait_and_get_aggregation | Starting aggregation.
2024-02-27 14:05:27,794 - (192.168.50.4:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-02-27 14:05:27,794 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models.
2024-02-27 14:05:27,795 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'])
2024-02-27 14:05:27,795 - [FedAvg.aggregate] Aggregating models: num=3
2024-02-27 14:05:27,797 - (192.168.50.4:45000) __wait_aggregated_model | Aggregation done for round 2, including parameters in local model.
2024-02-27 14:05:27,797 - (192.168.50.4:45000) __wait_aggregated_model | Broadcasting aggregation done for round 2
2024-02-27 14:05:27,797 - (192.168.50.4:45000) Building message with hash -9124217127053724726
2024-02-27 14:05:27,798 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -9124217127053724726
cmd: "models_ready"
args: "2"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:05:27,800 - (192.168.50.4:45000) __gossip_model_difusion
2024-02-27 14:05:27,800 - (192.168.50.4:45000) __gossip_model_difusion | Waiting model aggregation.
2024-02-27 14:05:27,800 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:05:27,800 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-02-27 14:05:27,800 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-02-27 14:05:27,801 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:05:27,802 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 2: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:05:27,808 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:05:27,809 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 2: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:05:29,561 - (192.168.50.4:45000) Building message with hash -3969146044102744271
2024-02-27 14:05:30,107 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 2 / 1
2024-02-27 14:05:30,117 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:05:30,119 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:05:30,119 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:05:30,119 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:05:30,119 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:05:30,731 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 2 / 1
2024-02-27 14:05:30,735 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:05:30,736 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:05:30,736 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:05:30,737 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:05:30,737 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:05:30,829 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:05:30,830 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:05:30,830 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-02-27 14:05:30,830 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:05:30,831 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 2: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:05:30,836 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:05:30,837 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 2: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:05:31,566 - (192.168.50.4:45000) Building message with hash 2135347793625354866
2024-02-27 14:05:33,140 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:05:33,141 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:05:33,141 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:05:33,142 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:05:33,142 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:05:33,570 - (192.168.50.4:45000) Building message with hash 6215780591971977873
2024-02-27 14:05:33,765 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:05:33,766 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:05:33,766 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:05:33,766 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:05:33,766 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:05:33,853 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:05:33,854 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:05:33,854 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:05:33,855 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:05:33,856 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 2: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:05:33,862 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:05:33,864 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 2: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:05:35,574 - (192.168.50.4:45000) Building message with hash 3323128206825927948
2024-02-27 14:05:36,164 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:05:36,165 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:05:36,165 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:05:36,165 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:05:36,165 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:05:36,782 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:05:36,784 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:05:36,784 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:05:36,784 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:05:36,785 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:05:36,882 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:05:36,883 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:05:36,883 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:05:36,883 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-02-27 14:05:36,884 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:05:36,885 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 2: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:05:36,889 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:05:36,890 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 2: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:05:37,579 - (192.168.50.4:45000) Building message with hash -5089091768739643985
2024-02-27 14:05:39,182 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:05:39,184 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:05:39,184 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:05:39,184 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:05:39,185 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:05:39,584 - (192.168.50.4:45000) Building message with hash -1196127865804339532
2024-02-27 14:05:39,812 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:05:39,813 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:05:39,813 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:05:39,814 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:05:39,814 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:05:39,907 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:05:39,907 - (192.168.50.4:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.3:45000']", ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 1
2024-02-27 14:05:39,907 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:05:39,908 - (192.168.50.4:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-02-27 14:05:39,908 - (192.168.50.4:45000) Round 2 of 10 finished.
2024-02-27 14:05:39,908 - (192.168.50.4:45000) clear | Acquiring __agg_lock.
2024-02-27 14:05:39,908 - (192.168.50.4:45000) clear | Releasing __finish_aggregation_lock.
2024-02-27 14:05:39,909 - (192.168.50.4:45000) clear | Releasing __agg_lock.
2024-02-27 14:05:39,909 - (192.168.50.4:45000) Round 3 of 10 started.
2024-02-27 14:05:39,909 - 192.168.50.4:45000 Train set: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:05:39,910 - 192.168.50.4:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.3:45000'] | Undirected neighbors: []
2024-02-27 14:05:39,910 - [NODE.__train_step] Role.AGGREGATOR process...
2024-02-27 14:05:39,910 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:05:39,910 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-02-27 14:05:39,911 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-02-27 14:05:39,911 - (192.168.50.4:45000) Evaluating...
2024-02-27 14:05:39,911 - [Learner] Creating trainer with accelerator: cpu
2024-02-27 14:05:41,589 - (192.168.50.4:45000) Building message with hash 8932067681892299419
2024-02-27 14:05:42,114 - (192.168.50.4:45000) Finished evaluating.
2024-02-27 14:05:42,115 - (192.168.50.4:45000) Training...
2024-02-27 14:05:42,115 - [Learner] Creating trainer with accelerator: cpu
2024-02-27 14:05:43,595 - (192.168.50.4:45000) Building message with hash 1616278164108138107
2024-02-27 14:05:45,600 - (192.168.50.4:45000) Building message with hash -4067407935936637869
2024-02-27 14:05:47,607 - (192.168.50.4:45000) Building message with hash 7043536482925888738
2024-02-27 14:05:49,612 - (192.168.50.4:45000) Building message with hash 2290950413749967141
2024-02-27 14:05:51,619 - (192.168.50.4:45000) Building message with hash -3499770847310969264
2024-02-27 14:05:53,625 - (192.168.50.4:45000) Building message with hash -5539263921925903138
2024-02-27 14:05:55,633 - (192.168.50.4:45000) Building message with hash 649496089776250105
2024-02-27 14:05:57,775 - (192.168.50.4:45000) Building message with hash -5571955334694513109
2024-02-27 14:05:59,782 - (192.168.50.4:45000) Building message with hash 1488932709360277363
2024-02-27 14:06:01,789 - (192.168.50.4:45000) Building message with hash 8576625696302714579
2024-02-27 14:06:03,796 - (192.168.50.4:45000) Building message with hash -8900096819362436129
2024-02-27 14:06:05,802 - (192.168.50.4:45000) Building message with hash 7218565206580692733
2024-02-27 14:06:07,807 - (192.168.50.4:45000) Building message with hash 8187966313910373452
2024-02-27 14:06:09,813 - (192.168.50.4:45000) Building message with hash -3837600409755960432
2024-02-27 14:06:11,819 - (192.168.50.4:45000) Building message with hash -9034025945590763359
2024-02-27 14:06:13,291 - (192.168.50.4:45000) Finished training.
2024-02-27 14:06:13,292 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-02-27 14:06:13,292 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:06:13,292 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:06:13,292 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-02-27 14:06:13,293 - (192.168.50.4:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.4:45000']
2024-02-27 14:06:13,293 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:06:13,293 - (192.168.50.4:45000) Building message with hash -4149220462297557795
2024-02-27 14:06:13,293 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -4149220462297557795
cmd: "models_aggregated"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:06:13,296 - (192.168.50.4:45000) __gossip_model_aggregation
2024-02-27 14:06:13,297 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:06:13,297 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-02-27 14:06:13,297 - reputation_calculation untrusted_nodes at round 3: ['192.168.50.4:45000']
2024-02-27 14:06:13,297 - reputation_calculation untrusted_node at round 3: 192.168.50.4:45000
2024-02-27 14:06:13,298 - reputation_calculation self.get_name() at round 3: 192.168.50.4:45000
2024-02-27 14:06:13,298 - (192.168.50.4:45000) Malicious nodes at round 3: [], excluding them from the aggregation...
2024-02-27 14:06:13,298 - reputation_calculation untrusted_nodes at round 3: ['192.168.50.4:45000']
2024-02-27 14:06:13,299 - reputation_calculation untrusted_node at round 3: 192.168.50.4:45000
2024-02-27 14:06:13,299 - reputation_calculation self.get_name() at round 3: 192.168.50.4:45000
2024-02-27 14:06:13,299 - (192.168.50.4:45000) Malicious nodes at round 3: [], excluding them from the aggregation...
2024-02-27 14:06:13,299 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-02-27 14:06:13,300 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-02-27 14:06:13,301 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 3: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-02-27 14:06:13,313 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-02-27 14:06:13,314 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 3: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-02-27 14:06:13,825 - (192.168.50.4:45000) Building message with hash -2244840999304612124
2024-02-27 14:06:15,832 - (192.168.50.4:45000) Building message with hash -4488868478801138749
2024-02-27 14:06:16,357 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:06:16,357 - (192.168.50.4:45000) Gossip | last_x_status: [[('192.168.50.2:45000', []), ('192.168.50.3:45000', [])]] | j: 0
2024-02-27 14:06:16,358 - reputation_calculation untrusted_nodes at round 3: ['192.168.50.4:45000']
2024-02-27 14:06:16,358 - reputation_calculation untrusted_node at round 3: 192.168.50.4:45000
2024-02-27 14:06:16,358 - reputation_calculation self.get_name() at round 3: 192.168.50.4:45000
2024-02-27 14:06:16,359 - (192.168.50.4:45000) Malicious nodes at round 3: [], excluding them from the aggregation...
2024-02-27 14:06:16,359 - reputation_calculation untrusted_nodes at round 3: ['192.168.50.4:45000']
2024-02-27 14:06:16,359 - reputation_calculation untrusted_node at round 3: 192.168.50.4:45000
2024-02-27 14:06:16,359 - reputation_calculation self.get_name() at round 3: 192.168.50.4:45000
2024-02-27 14:06:16,360 - (192.168.50.4:45000) Malicious nodes at round 3: [], excluding them from the aggregation...
2024-02-27 14:06:16,360 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:06:16,360 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-02-27 14:06:16,361 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 3: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-02-27 14:06:16,391 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-02-27 14:06:16,392 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 3: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-02-27 14:06:16,854 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 3 / 2
2024-02-27 14:06:16,858 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:06:16,860 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000']
2024-02-27 14:06:16,860 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:06:16,860 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:06:16,860 - (192.168.50.4:45000) add_model (aggregator) | The number of contributors is equal to the number of nodes in the train set. --> Full aggregation.
2024-02-27 14:06:16,860 - (192.168.50.4:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:06:16,860 - (192.168.50.4:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-02-27 14:06:16,861 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:06:16,861 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:06:16,861 - (192.168.50.4:45000) Building message with hash 3129609783804997726
2024-02-27 14:06:16,861 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 3129609783804997726
cmd: "models_aggregated"
args: "192.168.50.4:45000"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:06:17,842 - (192.168.50.4:45000) Building message with hash 3895152574577257340
2024-02-27 14:06:19,451 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:06:19,452 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-02-27 14:06:19,452 - (192.168.50.4:45000) Waiting aggregation and gossiping model (difusion).
2024-02-27 14:06:19,452 - (192.168.50.4:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-02-27 14:06:19,452 - (192.168.50.4:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-02-27 14:06:19,453 - (192.168.50.4:45000) wait_and_get_aggregation | Starting aggregation.
2024-02-27 14:06:19,453 - (192.168.50.4:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-02-27 14:06:19,453 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models.
2024-02-27 14:06:19,453 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000'])
2024-02-27 14:06:19,454 - [FedAvg.aggregate] Aggregating models: num=1
2024-02-27 14:06:19,455 - (192.168.50.4:45000) __wait_aggregated_model | Aggregation done for round 3, including parameters in local model.
2024-02-27 14:06:19,455 - (192.168.50.4:45000) __wait_aggregated_model | Broadcasting aggregation done for round 3
2024-02-27 14:06:19,456 - (192.168.50.4:45000) Building message with hash 3438923736414963679
2024-02-27 14:06:19,456 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 3438923736414963679
cmd: "models_ready"
args: "3"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:06:19,469 - (192.168.50.4:45000) __gossip_model_difusion
2024-02-27 14:06:19,469 - (192.168.50.4:45000) __gossip_model_difusion | Waiting model aggregation.
2024-02-27 14:06:19,469 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:06:19,469 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-02-27 14:06:19,469 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-02-27 14:06:19,470 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:06:19,471 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 3: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:06:19,475 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:06:19,476 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 3: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:06:19,784 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 3 / 2
2024-02-27 14:06:19,811 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:06:19,813 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:06:19,814 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:06:19,814 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:06:19,814 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:06:19,848 - (192.168.50.4:45000) Building message with hash 4587342361773011424
2024-02-27 14:06:19,888 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:06:19,889 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:06:19,889 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:06:19,890 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:06:19,890 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:06:21,852 - (192.168.50.4:45000) Building message with hash 1971706667783181336
2024-02-27 14:06:22,491 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:06:22,492 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:06:22,492 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:06:22,492 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:06:22,494 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 3: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:06:22,498 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:06:22,499 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 3: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:06:22,844 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:06:22,845 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:06:22,845 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:06:22,845 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:06:22,846 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:06:22,917 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:06:22,919 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:06:22,919 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:06:22,919 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:06:22,919 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:06:23,858 - (192.168.50.4:45000) Building message with hash 6834047880849553831
2024-02-27 14:06:25,515 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:06:25,515 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:06:25,516 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:06:25,516 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:06:25,517 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 3: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:06:25,521 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:06:25,522 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 3: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:06:25,863 - (192.168.50.4:45000) Building message with hash 208565198796466899
2024-02-27 14:06:25,868 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:06:25,869 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:06:25,869 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:06:25,870 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:06:25,870 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:06:25,941 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:06:25,943 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:06:25,943 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:06:25,943 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:06:25,943 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:06:27,867 - (192.168.50.4:45000) Building message with hash -8705545108349954955
2024-02-27 14:06:28,538 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:06:28,538 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:06:28,539 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:06:28,539 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:06:28,539 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:06:28,540 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 3: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:06:28,545 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:06:28,546 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 3: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:06:28,893 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:06:28,894 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:06:28,894 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:06:28,894 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:06:28,895 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:06:29,873 - (192.168.50.4:45000) Building message with hash -4888323375397368583
2024-02-27 14:06:31,562 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:06:31,562 - (192.168.50.4:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.3:45000']", ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 1
2024-02-27 14:06:31,563 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:06:31,563 - (192.168.50.4:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-02-27 14:06:31,563 - (192.168.50.4:45000) Round 3 of 10 finished.
2024-02-27 14:06:31,563 - (192.168.50.4:45000) clear | Acquiring __agg_lock.
2024-02-27 14:06:31,564 - (192.168.50.4:45000) clear | Releasing __finish_aggregation_lock.
2024-02-27 14:06:31,564 - (192.168.50.4:45000) clear | Releasing __agg_lock.
2024-02-27 14:06:31,564 - (192.168.50.4:45000) Round 4 of 10 started.
2024-02-27 14:06:31,564 - 192.168.50.4:45000 Train set: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:06:31,565 - 192.168.50.4:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.3:45000'] | Undirected neighbors: []
2024-02-27 14:06:31,565 - [NODE.__train_step] Role.AGGREGATOR process...
2024-02-27 14:06:31,565 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:06:31,565 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-02-27 14:06:31,566 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-02-27 14:06:31,566 - (192.168.50.4:45000) Evaluating...
2024-02-27 14:06:31,566 - [Learner] Creating trainer with accelerator: cpu
2024-02-27 14:06:31,879 - (192.168.50.4:45000) Building message with hash -255212017004829905
2024-02-27 14:06:33,885 - (192.168.50.4:45000) Building message with hash -4558584469946417892
2024-02-27 14:06:34,678 - (192.168.50.4:45000) Finished evaluating.
2024-02-27 14:06:34,678 - (192.168.50.4:45000) Training...
2024-02-27 14:06:34,679 - [Learner] Creating trainer with accelerator: cpu
2024-02-27 14:06:35,892 - (192.168.50.4:45000) Building message with hash -765691527408816788
2024-02-27 14:06:37,900 - (192.168.50.4:45000) Building message with hash -9066498551026142707
2024-02-27 14:06:39,907 - (192.168.50.4:45000) Building message with hash 1416380843401601611
2024-02-27 14:06:41,916 - (192.168.50.4:45000) Building message with hash -881645862244905467
2024-02-27 14:06:43,921 - (192.168.50.4:45000) Building message with hash 4884080832654696211
2024-02-27 14:06:45,929 - (192.168.50.4:45000) Building message with hash -4161068299865984460
2024-02-27 14:06:47,938 - (192.168.50.4:45000) Building message with hash -6254600338141524932
2024-02-27 14:06:49,945 - (192.168.50.4:45000) Building message with hash 355831116511423909
2024-02-27 14:06:51,955 - (192.168.50.4:45000) Building message with hash -5556858635112182241
2024-02-27 14:06:53,966 - (192.168.50.4:45000) Building message with hash -5701473788856199171
2024-02-27 14:06:55,974 - (192.168.50.4:45000) Building message with hash -7449124579543908774
2024-02-27 14:06:57,980 - (192.168.50.4:45000) Building message with hash 8800665304152569993
2024-02-27 14:06:59,986 - (192.168.50.4:45000) Building message with hash 1122295892146021870
2024-02-27 14:07:01,705 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:07:01,706 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-02-27 14:07:01,707 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:07:01,707 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:07:01,707 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-02-27 14:07:01,708 - (192.168.50.4:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.3:45000']
2024-02-27 14:07:01,708 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:07:01,708 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.3:45000']
2024-02-27 14:07:01,709 - (192.168.50.4:45000) Building message with hash -6614898394085059245
2024-02-27 14:07:01,709 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -6614898394085059245
cmd: "models_aggregated"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:07:01,995 - (192.168.50.4:45000) Building message with hash 6857791811034095584
2024-02-27 14:07:04,000 - (192.168.50.4:45000) Building message with hash 7223409289950557791
2024-02-27 14:07:04,798 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:07:04,801 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.3:45000']) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000']
2024-02-27 14:07:04,802 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:07:04,804 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:07:04,807 - (192.168.50.4:45000) BETA add_model (aggregator) | Some contributors are in the aggregated models.
2024-02-27 14:07:04,808 - (192.168.50.4:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.3:45000'])
2024-02-27 14:07:04,809 - (192.168.50.4:45000) BETA add_model (aggregator) | nodes_not_in_aggregated_models=[]
2024-02-27 14:07:04,809 - (192.168.50.4:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.3:45000'])
2024-02-27 14:07:04,810 - (192.168.50.4:45000) BETA add_model (aggregator) | Model added (1/3) from ['192.168.50.3:45000']
2024-02-27 14:07:04,811 - (192.168.50.4:45000) BETA add_model (aggregator) | self.aggregated_models=['192.168.50.3:45000']
2024-02-27 14:07:04,812 - (192.168.50.4:45000) BETA add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:07:04,812 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.3:45000']
2024-02-27 14:07:04,816 - (192.168.50.4:45000) Building message with hash -3724029979804656481
2024-02-27 14:07:04,817 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -3724029979804656481
cmd: "models_aggregated"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:07:04,917 - (192.168.50.4:45000) Finished training.
2024-02-27 14:07:04,918 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.3:45000']) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000']
2024-02-27 14:07:04,918 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:07:04,918 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:07:04,918 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-02-27 14:07:04,918 - (192.168.50.4:45000) add_model (aggregator) | Model added (2/3) from ['192.168.50.4:45000']
2024-02-27 14:07:04,919 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:07:04,919 - (192.168.50.4:45000) Building message with hash 3808343957617518313
2024-02-27 14:07:04,919 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 3808343957617518313
cmd: "models_aggregated"
args: "192.168.50.3:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:07:04,921 - (192.168.50.4:45000) __gossip_model_aggregation
2024-02-27 14:07:04,921 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:07:04,921 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-02-27 14:07:04,922 - reputation_calculation untrusted_nodes at round 4: ['192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:07:04,922 - reputation_calculation untrusted_node at round 4: 192.168.50.3:45000
2024-02-27 14:07:04,922 - reputation_calculation self.get_name() at round 4: 192.168.50.4:45000
2024-02-27 14:07:04,924 - reputation_calculation cossim at round 4: 192.168.50.3:45000: 0.9701029658317566
2024-02-27 14:07:05,042 - [Learner.validate_neighbour]: Computed neighbor loss over 666 data samples
2024-02-27 14:07:05,043 - reputation_calculation avg_loss at round 4 192.168.50.3:45000: 0.07208044717775747
2024-02-27 14:07:05,043 - reputation_calculation untrusted_node at round 4: 192.168.50.4:45000
2024-02-27 14:07:05,043 - reputation_calculation self.get_name() at round 4: 192.168.50.4:45000
2024-02-27 14:07:05,043 - (192.168.50.4:45000) Malicious nodes at round 4: [], excluding them from the aggregation...
2024-02-27 14:07:05,044 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000']
2024-02-27 14:07:05,044 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-02-27 14:07:05,045 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 4: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-02-27 14:07:05,303 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 4 / 3
2024-02-27 14:07:05,314 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:07:05,316 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:07:05,316 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:07:05,316 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:07:05,316 - (192.168.50.4:45000) add_model (aggregator) | The number of contributors is equal to the number of nodes in the train set. --> Full aggregation.
2024-02-27 14:07:05,317 - (192.168.50.4:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-02-27 14:07:05,317 - (192.168.50.4:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-02-27 14:07:05,317 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:07:05,317 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-02-27 14:07:05,317 - (192.168.50.4:45000) Building message with hash -1517632671669250987
2024-02-27 14:07:05,317 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -1517632671669250987
cmd: "models_aggregated"
args: "192.168.50.3:45000"
args: "192.168.50.4:45000"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:07:06,007 - (192.168.50.4:45000) Building message with hash 6273683021737348242
2024-02-27 14:07:07,897 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 4 / 3
2024-02-27 14:07:07,907 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:07:07,908 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-02-27 14:07:07,908 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:07:07,909 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:07:07,909 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:07:08,012 - (192.168.50.4:45000) Building message with hash -7772682451346953730
2024-02-27 14:07:08,185 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:07:08,185 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-02-27 14:07:08,185 - (192.168.50.4:45000) Waiting aggregation and gossiping model (difusion).
2024-02-27 14:07:08,186 - (192.168.50.4:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-02-27 14:07:08,186 - (192.168.50.4:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-02-27 14:07:08,186 - (192.168.50.4:45000) wait_and_get_aggregation | Starting aggregation.
2024-02-27 14:07:08,186 - (192.168.50.4:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-02-27 14:07:08,187 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models.
2024-02-27 14:07:08,187 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000'])
2024-02-27 14:07:08,187 - [FedAvg.aggregate] Aggregating models: num=1
2024-02-27 14:07:08,188 - (192.168.50.4:45000) __wait_aggregated_model | Aggregation done for round 4, including parameters in local model.
2024-02-27 14:07:08,189 - (192.168.50.4:45000) __wait_aggregated_model | Broadcasting aggregation done for round 4
2024-02-27 14:07:08,189 - (192.168.50.4:45000) Building message with hash 5114684788005488656
2024-02-27 14:07:08,189 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 5114684788005488656
cmd: "models_ready"
args: "4"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:07:08,192 - (192.168.50.4:45000) __gossip_model_difusion
2024-02-27 14:07:08,192 - (192.168.50.4:45000) __gossip_model_difusion | Waiting model aggregation.
2024-02-27 14:07:08,192 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:07:08,192 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-02-27 14:07:08,193 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-02-27 14:07:08,193 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-02-27 14:07:08,194 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:07:08,198 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-02-27 14:07:08,199 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:07:08,343 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:07:08,344 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-02-27 14:07:08,344 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:07:08,344 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:07:08,345 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:07:10,017 - (192.168.50.4:45000) Building message with hash -6828398427493360723
2024-02-27 14:07:10,926 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:07:10,927 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-02-27 14:07:10,928 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:07:10,928 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:07:10,928 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:07:11,214 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:07:11,215 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:07:11,215 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-02-27 14:07:11,215 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-02-27 14:07:11,216 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:07:11,221 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-02-27 14:07:11,222 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:07:11,361 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:07:11,363 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-02-27 14:07:11,363 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:07:11,363 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:07:11,364 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:07:12,022 - (192.168.50.4:45000) Building message with hash -6030656325418460972
2024-02-27 14:07:13,950 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:07:13,951 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-02-27 14:07:13,952 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:07:13,952 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:07:13,952 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:07:14,029 - (192.168.50.4:45000) Building message with hash -2902096133575575545
2024-02-27 14:07:14,238 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:07:14,239 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:07:14,239 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:07:14,240 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-02-27 14:07:14,241 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:07:14,245 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-02-27 14:07:14,246 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:07:14,394 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:07:14,396 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-02-27 14:07:14,396 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:07:14,396 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:07:14,397 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:07:16,035 - (192.168.50.4:45000) Building message with hash 935855582328794950
2024-02-27 14:07:16,979 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:07:16,980 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-02-27 14:07:16,980 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:07:16,980 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:07:16,980 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:07:17,262 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:07:17,262 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:07:17,263 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:07:17,263 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-02-27 14:07:17,263 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-02-27 14:07:17,264 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:07:17,269 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-02-27 14:07:17,270 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 4: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:07:18,040 - (192.168.50.4:45000) Building message with hash -3578561732731859480
2024-02-27 14:07:20,044 - (192.168.50.4:45000) Building message with hash 8474212770845586388
2024-02-27 14:07:20,286 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:07:20,286 - (192.168.50.4:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.3:45000']", ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 1
2024-02-27 14:07:20,286 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:07:20,287 - (192.168.50.4:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-02-27 14:07:20,287 - (192.168.50.4:45000) Round 4 of 10 finished.
2024-02-27 14:07:20,287 - (192.168.50.4:45000) clear | Acquiring __agg_lock.
2024-02-27 14:07:20,287 - (192.168.50.4:45000) clear | Releasing __finish_aggregation_lock.
2024-02-27 14:07:20,288 - (192.168.50.4:45000) clear | Releasing __agg_lock.
2024-02-27 14:07:20,288 - (192.168.50.4:45000) Round 5 of 10 started.
2024-02-27 14:07:20,288 - 192.168.50.4:45000 Train set: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:07:20,288 - 192.168.50.4:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.3:45000'] | Undirected neighbors: []
2024-02-27 14:07:20,289 - [NODE.__train_step] Role.AGGREGATOR process...
2024-02-27 14:07:20,289 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:07:20,289 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-02-27 14:07:20,290 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-02-27 14:07:20,290 - (192.168.50.4:45000) Evaluating...
2024-02-27 14:07:20,290 - [Learner] Creating trainer with accelerator: cpu
2024-02-27 14:07:22,051 - (192.168.50.4:45000) Building message with hash 2011228485305133737
2024-02-27 14:07:23,427 - (192.168.50.4:45000) Finished evaluating.
2024-02-27 14:07:23,427 - (192.168.50.4:45000) Training...
2024-02-27 14:07:23,428 - [Learner] Creating trainer with accelerator: cpu
2024-02-27 14:07:24,059 - (192.168.50.4:45000) Building message with hash -4089302702345485966
2024-02-27 14:07:26,066 - (192.168.50.4:45000) Building message with hash -8197353571445406978
2024-02-27 14:07:28,073 - (192.168.50.4:45000) Building message with hash 6483915630732034700
2024-02-27 14:07:30,082 - (192.168.50.4:45000) Building message with hash -5441017260138554168
2024-02-27 14:07:32,089 - (192.168.50.4:45000) Building message with hash -7960161724479127708
2024-02-27 14:07:34,096 - (192.168.50.4:45000) Building message with hash -1934104295195115579
2024-02-27 14:07:36,105 - (192.168.50.4:45000) Building message with hash 8404028468331984458
2024-02-27 14:07:38,111 - (192.168.50.4:45000) Building message with hash 113841930641585687
2024-02-27 14:07:40,121 - (192.168.50.4:45000) Building message with hash -6406842450639467040
2024-02-27 14:07:42,139 - (192.168.50.4:45000) Building message with hash -6387903262779264407
2024-02-27 14:07:44,146 - (192.168.50.4:45000) Building message with hash 4987520978328396346
2024-02-27 14:07:46,158 - (192.168.50.4:45000) Building message with hash -3301259043633173902
2024-02-27 14:07:48,169 - (192.168.50.4:45000) Building message with hash 4343902415606552659
2024-02-27 14:07:50,176 - (192.168.50.4:45000) Building message with hash 447914916928817476
2024-02-27 14:07:50,416 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:07:50,419 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-02-27 14:07:50,419 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:07:50,420 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:07:50,420 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-02-27 14:07:50,420 - (192.168.50.4:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.2:45000']
2024-02-27 14:07:50,420 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:07:50,420 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000']
2024-02-27 14:07:50,421 - (192.168.50.4:45000) Building message with hash -5865150441178303281
2024-02-27 14:07:50,421 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -5865150441178303281
cmd: "models_aggregated"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:07:52,188 - (192.168.50.4:45000) Building message with hash 5877178559328043089
2024-02-27 14:07:53,468 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:07:53,471 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000']) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000']
2024-02-27 14:07:53,471 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:07:53,472 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:07:53,472 - (192.168.50.4:45000) BETA add_model (aggregator) | Some contributors are in the aggregated models.
2024-02-27 14:07:53,472 - (192.168.50.4:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.2:45000'])
2024-02-27 14:07:53,473 - (192.168.50.4:45000) BETA add_model (aggregator) | nodes_not_in_aggregated_models=[]
2024-02-27 14:07:53,473 - (192.168.50.4:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.2:45000'])
2024-02-27 14:07:53,473 - (192.168.50.4:45000) BETA add_model (aggregator) | Model added (1/3) from ['192.168.50.2:45000']
2024-02-27 14:07:53,474 - (192.168.50.4:45000) BETA add_model (aggregator) | self.aggregated_models=['192.168.50.2:45000']
2024-02-27 14:07:53,474 - (192.168.50.4:45000) BETA add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:07:53,475 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000']
2024-02-27 14:07:53,475 - (192.168.50.4:45000) Building message with hash -4158000413443797018
2024-02-27 14:07:53,476 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -4158000413443797018
cmd: "models_aggregated"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:07:53,758 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:07:53,765 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000']) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000']
2024-02-27 14:07:53,766 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:07:53,766 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:07:53,767 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-02-27 14:07:53,767 - (192.168.50.4:45000) add_model (aggregator) | Model added (2/3) from ['192.168.50.3:45000']
2024-02-27 14:07:53,769 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:07:53,771 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:07:53,772 - (192.168.50.4:45000) Building message with hash 2553278637550462937
2024-02-27 14:07:53,773 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 2553278637550462937
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:07:53,880 - (192.168.50.4:45000) Finished training.
2024-02-27 14:07:53,880 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000']) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:07:53,880 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:07:53,880 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:07:53,881 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-02-27 14:07:53,881 - (192.168.50.4:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.4:45000']
2024-02-27 14:07:53,881 - (192.168.50.4:45000) add_model (aggregator) | All models were added. Finishing aggregation.
2024-02-27 14:07:53,882 - (192.168.50.4:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-02-27 14:07:53,882 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:07:53,882 - (192.168.50.4:45000) Building message with hash -6029496752350823527
2024-02-27 14:07:53,882 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -6029496752350823527
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:07:53,885 - (192.168.50.4:45000) __gossip_model_aggregation
2024-02-27 14:07:53,885 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:07:53,885 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-02-27 14:07:53,886 - (192.168.50.4:45000) Waiting aggregation and gossiping model (difusion).
2024-02-27 14:07:53,886 - (192.168.50.4:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-02-27 14:07:53,886 - (192.168.50.4:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-02-27 14:07:53,886 - (192.168.50.4:45000) wait_and_get_aggregation | Starting aggregation.
2024-02-27 14:07:53,887 - (192.168.50.4:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-02-27 14:07:53,887 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models.
2024-02-27 14:07:53,887 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'])
2024-02-27 14:07:53,888 - [FedAvg.aggregate] Aggregating models: num=3
2024-02-27 14:07:53,890 - (192.168.50.4:45000) __wait_aggregated_model | Aggregation done for round 5, including parameters in local model.
2024-02-27 14:07:53,891 - (192.168.50.4:45000) __wait_aggregated_model | Broadcasting aggregation done for round 5
2024-02-27 14:07:53,892 - (192.168.50.4:45000) Building message with hash 1209909424624965097
2024-02-27 14:07:53,892 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 1209909424624965097
cmd: "models_ready"
args: "5"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:07:53,896 - (192.168.50.4:45000) __gossip_model_difusion
2024-02-27 14:07:53,896 - (192.168.50.4:45000) __gossip_model_difusion | Waiting model aggregation.
2024-02-27 14:07:53,896 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:07:53,897 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-02-27 14:07:53,897 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:07:53,897 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:07:53,899 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 5: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:07:53,908 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:07:53,909 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 5: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:07:54,193 - (192.168.50.4:45000) Building message with hash -1025254813133501726
2024-02-27 14:07:56,196 - (192.168.50.4:45000) Building message with hash 3050659570479008534
2024-02-27 14:07:56,574 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 5 / 4
2024-02-27 14:07:56,579 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:07:56,580 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:07:56,581 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:07:56,581 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:07:56,581 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:07:56,936 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:07:56,937 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:07:56,937 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:07:56,937 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:07:56,938 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 5: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:07:56,943 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:07:56,944 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 5: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:07:56,951 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 5 / 4
2024-02-27 14:07:56,960 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:07:56,961 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:07:56,961 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:07:56,962 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:07:56,962 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:07:58,203 - (192.168.50.4:45000) Building message with hash 6122684158831092796
2024-02-27 14:07:59,605 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:07:59,607 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:07:59,607 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:07:59,607 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:07:59,607 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:07:59,963 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:07:59,963 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:07:59,963 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-02-27 14:07:59,964 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:07:59,965 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 5: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:07:59,970 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:07:59,971 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 5: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:07:59,976 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:07:59,978 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:07:59,978 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:07:59,978 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:07:59,978 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:08:00,208 - (192.168.50.4:45000) Building message with hash -973646775402430675
2024-02-27 14:08:02,212 - (192.168.50.4:45000) Building message with hash 5839426923776197999
2024-02-27 14:08:02,623 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:08:02,625 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:08:02,625 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:08:02,625 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:08:02,625 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:08:02,988 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:08:02,989 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:08:02,989 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:08:02,990 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:08:02,990 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:08:02,991 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 5: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:08:02,995 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:08:02,996 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 5: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:08:03,000 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:08:03,001 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:08:03,001 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:08:03,002 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:08:03,002 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:08:04,217 - (192.168.50.4:45000) Building message with hash 241246971053567309
2024-02-27 14:08:05,651 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:08:05,652 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:08:05,653 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:08:05,653 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:08:05,653 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:08:06,014 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:08:06,015 - (192.168.50.4:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.3:45000']", ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 1
2024-02-27 14:08:06,015 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:08:06,015 - (192.168.50.4:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-02-27 14:08:06,016 - (192.168.50.4:45000) Round 5 of 10 finished.
2024-02-27 14:08:06,016 - (192.168.50.4:45000) clear | Acquiring __agg_lock.
2024-02-27 14:08:06,016 - (192.168.50.4:45000) clear | Releasing __finish_aggregation_lock.
2024-02-27 14:08:06,016 - (192.168.50.4:45000) clear | Releasing __agg_lock.
2024-02-27 14:08:06,017 - (192.168.50.4:45000) Round 6 of 10 started.
2024-02-27 14:08:06,017 - 192.168.50.4:45000 Train set: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:08:06,017 - 192.168.50.4:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.3:45000'] | Undirected neighbors: []
2024-02-27 14:08:06,018 - [NODE.__train_step] Role.AGGREGATOR process...
2024-02-27 14:08:06,018 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:08:06,018 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-02-27 14:08:06,019 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-02-27 14:08:06,019 - (192.168.50.4:45000) Evaluating...
2024-02-27 14:08:06,019 - [Learner] Creating trainer with accelerator: cpu
2024-02-27 14:08:06,025 - (192.168.50.4:45000) add_model (gRPC) | Model Reception in a late round (5 != 6).
2024-02-27 14:08:06,223 - (192.168.50.4:45000) Building message with hash 8762885305928875527
2024-02-27 14:08:08,203 - (192.168.50.4:45000) Finished evaluating.
2024-02-27 14:08:08,204 - (192.168.50.4:45000) Training...
2024-02-27 14:08:08,204 - [Learner] Creating trainer with accelerator: cpu
2024-02-27 14:08:08,228 - (192.168.50.4:45000) Building message with hash 3522687231437103816
2024-02-27 14:08:10,233 - (192.168.50.4:45000) Building message with hash -6688961828170768312
2024-02-27 14:08:12,240 - (192.168.50.4:45000) Building message with hash -3776029312736872493
2024-02-27 14:08:14,248 - (192.168.50.4:45000) Building message with hash -1440053907993014655
2024-02-27 14:08:16,256 - (192.168.50.4:45000) Building message with hash -4671193857029255906
2024-02-27 14:08:18,264 - (192.168.50.4:45000) Building message with hash 5324430142706754449
2024-02-27 14:08:20,272 - (192.168.50.4:45000) Building message with hash -8561020831064744272
2024-02-27 14:08:22,279 - (192.168.50.4:45000) Building message with hash -7080430308976649431
2024-02-27 14:08:24,288 - (192.168.50.4:45000) Building message with hash -2851696477767676363
2024-02-27 14:08:26,294 - (192.168.50.4:45000) Building message with hash 5067857988966440944
2024-02-27 14:08:28,302 - (192.168.50.4:45000) Building message with hash 2034385550213822908
2024-02-27 14:08:30,311 - (192.168.50.4:45000) Building message with hash -6472877672433417888
2024-02-27 14:08:32,318 - (192.168.50.4:45000) Building message with hash 5120031748346735758
2024-02-27 14:08:34,324 - (192.168.50.4:45000) Building message with hash 8624190442310416762
2024-02-27 14:08:36,336 - (192.168.50.4:45000) Building message with hash -2809952977615035573
2024-02-27 14:08:38,343 - (192.168.50.4:45000) Building message with hash 7472700310157539077
2024-02-27 14:08:39,101 - (192.168.50.4:45000) Finished training.
2024-02-27 14:08:39,101 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-02-27 14:08:39,102 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:08:39,102 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:08:39,102 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-02-27 14:08:39,102 - (192.168.50.4:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.4:45000']
2024-02-27 14:08:39,103 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:08:39,103 - (192.168.50.4:45000) Building message with hash 7001924033322232818
2024-02-27 14:08:39,103 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 7001924033322232818
cmd: "models_aggregated"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:08:39,106 - (192.168.50.4:45000) __gossip_model_aggregation
2024-02-27 14:08:39,106 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:08:39,106 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-02-27 14:08:39,107 - reputation_calculation untrusted_nodes at round 6: ['192.168.50.4:45000']
2024-02-27 14:08:39,107 - reputation_calculation untrusted_node at round 6: 192.168.50.4:45000
2024-02-27 14:08:39,107 - reputation_calculation self.get_name() at round 6: 192.168.50.4:45000
2024-02-27 14:08:39,108 - (192.168.50.4:45000) Malicious nodes at round 6: [], excluding them from the aggregation...
2024-02-27 14:08:39,108 - reputation_calculation untrusted_nodes at round 6: ['192.168.50.4:45000']
2024-02-27 14:08:39,108 - reputation_calculation untrusted_node at round 6: 192.168.50.4:45000
2024-02-27 14:08:39,109 - reputation_calculation self.get_name() at round 6: 192.168.50.4:45000
2024-02-27 14:08:39,109 - (192.168.50.4:45000) Malicious nodes at round 6: [], excluding them from the aggregation...
2024-02-27 14:08:39,109 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:08:39,109 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-02-27 14:08:39,111 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 6: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-02-27 14:08:39,121 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-02-27 14:08:39,122 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 6: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-02-27 14:08:40,349 - (192.168.50.4:45000) Building message with hash -2308254412048771437
2024-02-27 14:08:42,158 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:08:42,158 - (192.168.50.4:45000) Gossip | last_x_status: [[('192.168.50.2:45000', []), ('192.168.50.3:45000', [])]] | j: 0
2024-02-27 14:08:42,159 - reputation_calculation untrusted_nodes at round 6: ['192.168.50.4:45000']
2024-02-27 14:08:42,159 - reputation_calculation untrusted_node at round 6: 192.168.50.4:45000
2024-02-27 14:08:42,159 - reputation_calculation self.get_name() at round 6: 192.168.50.4:45000
2024-02-27 14:08:42,160 - (192.168.50.4:45000) Malicious nodes at round 6: [], excluding them from the aggregation...
2024-02-27 14:08:42,160 - reputation_calculation untrusted_nodes at round 6: ['192.168.50.4:45000']
2024-02-27 14:08:42,160 - reputation_calculation untrusted_node at round 6: 192.168.50.4:45000
2024-02-27 14:08:42,161 - reputation_calculation self.get_name() at round 6: 192.168.50.4:45000
2024-02-27 14:08:42,161 - (192.168.50.4:45000) Malicious nodes at round 6: [], excluding them from the aggregation...
2024-02-27 14:08:42,161 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-02-27 14:08:42,161 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-02-27 14:08:42,163 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 6: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-02-27 14:08:42,174 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-02-27 14:08:42,176 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 6: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-02-27 14:08:42,358 - (192.168.50.4:45000) Building message with hash -9031221743974943983
2024-02-27 14:08:43,035 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 6 / 5
2024-02-27 14:08:43,046 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:08:43,047 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000']
2024-02-27 14:08:43,047 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:08:43,048 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:08:43,048 - (192.168.50.4:45000) add_model (aggregator) | The number of contributors is equal to the number of nodes in the train set. --> Full aggregation.
2024-02-27 14:08:43,048 - (192.168.50.4:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:08:43,048 - (192.168.50.4:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-02-27 14:08:43,048 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:08:43,049 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:08:43,049 - (192.168.50.4:45000) Building message with hash -8522485853901621474
2024-02-27 14:08:43,049 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -8522485853901621474
cmd: "models_aggregated"
args: "192.168.50.4:45000"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:08:44,364 - (192.168.50.4:45000) Building message with hash -5952616652654557398
2024-02-27 14:08:45,218 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:08:45,219 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-02-27 14:08:45,219 - (192.168.50.4:45000) Waiting aggregation and gossiping model (difusion).
2024-02-27 14:08:45,219 - (192.168.50.4:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-02-27 14:08:45,219 - (192.168.50.4:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-02-27 14:08:45,220 - (192.168.50.4:45000) wait_and_get_aggregation | Starting aggregation.
2024-02-27 14:08:45,220 - (192.168.50.4:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-02-27 14:08:45,220 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models.
2024-02-27 14:08:45,220 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000'])
2024-02-27 14:08:45,221 - [FedAvg.aggregate] Aggregating models: num=1
2024-02-27 14:08:45,222 - (192.168.50.4:45000) __wait_aggregated_model | Aggregation done for round 6, including parameters in local model.
2024-02-27 14:08:45,222 - (192.168.50.4:45000) __wait_aggregated_model | Broadcasting aggregation done for round 6
2024-02-27 14:08:45,223 - (192.168.50.4:45000) Building message with hash -8109699715417015420
2024-02-27 14:08:45,223 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -8109699715417015420
cmd: "models_ready"
args: "6"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:08:45,225 - (192.168.50.4:45000) __gossip_model_difusion
2024-02-27 14:08:45,225 - (192.168.50.4:45000) __gossip_model_difusion | Waiting model aggregation.
2024-02-27 14:08:45,226 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:08:45,226 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-02-27 14:08:45,226 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:08:45,226 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:08:45,227 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 6: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:08:45,231 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:08:45,232 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 6: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:08:45,922 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 6 / 5
2024-02-27 14:08:45,927 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:08:45,928 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:08:45,928 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:08:45,928 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:08:45,929 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:08:46,070 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:08:46,071 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:08:46,071 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:08:46,071 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:08:46,072 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:08:46,369 - (192.168.50.4:45000) Building message with hash 4138007020370758681
2024-02-27 14:08:48,247 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:08:48,247 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:08:48,248 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:08:48,248 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:08:48,249 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 6: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:08:48,254 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:08:48,255 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 6: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:08:48,374 - (192.168.50.4:45000) Building message with hash -8298729260244204223
2024-02-27 14:08:48,948 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:08:48,950 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:08:48,950 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:08:48,950 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:08:48,950 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:08:49,093 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:08:49,095 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:08:49,095 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:08:49,095 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:08:49,095 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:08:50,380 - (192.168.50.4:45000) Building message with hash 2026552954488295166
2024-02-27 14:08:51,271 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:08:51,271 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:08:51,271 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:08:51,272 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:08:51,273 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 6: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:08:51,277 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:08:51,278 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 6: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:08:51,970 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:08:51,971 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:08:51,972 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:08:51,972 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:08:51,972 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:08:52,123 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:08:52,124 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:08:52,124 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:08:52,124 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:08:52,124 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:08:52,385 - (192.168.50.4:45000) Building message with hash 541343090474479864
2024-02-27 14:08:54,295 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:08:54,295 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:08:54,295 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:08:54,296 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:08:54,296 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:08:54,297 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 6: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:08:54,301 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:08:54,302 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 6: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:08:54,390 - (192.168.50.4:45000) Building message with hash -1774212941840976200
2024-02-27 14:08:54,999 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:08:55,000 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:08:55,000 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:08:55,001 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:08:55,001 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:08:56,396 - (192.168.50.4:45000) Building message with hash 7517618783957894730
2024-02-27 14:08:57,318 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:08:57,318 - (192.168.50.4:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.3:45000']", ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 1
2024-02-27 14:08:57,318 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:08:57,319 - (192.168.50.4:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-02-27 14:08:57,319 - (192.168.50.4:45000) Round 6 of 10 finished.
2024-02-27 14:08:57,319 - (192.168.50.4:45000) clear | Acquiring __agg_lock.
2024-02-27 14:08:57,319 - (192.168.50.4:45000) clear | Releasing __finish_aggregation_lock.
2024-02-27 14:08:57,320 - (192.168.50.4:45000) clear | Releasing __agg_lock.
2024-02-27 14:08:57,320 - (192.168.50.4:45000) Round 7 of 10 started.
2024-02-27 14:08:57,320 - 192.168.50.4:45000 Train set: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:08:57,320 - 192.168.50.4:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.3:45000'] | Undirected neighbors: []
2024-02-27 14:08:57,321 - [NODE.__train_step] Role.AGGREGATOR process...
2024-02-27 14:08:57,321 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:08:57,321 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-02-27 14:08:57,322 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-02-27 14:08:57,322 - (192.168.50.4:45000) Evaluating...
2024-02-27 14:08:57,322 - [Learner] Creating trainer with accelerator: cpu
2024-02-27 14:08:58,402 - (192.168.50.4:45000) Building message with hash 2081667479882811311
2024-02-27 14:09:00,336 - (192.168.50.4:45000) Finished evaluating.
2024-02-27 14:09:00,337 - (192.168.50.4:45000) Training...
2024-02-27 14:09:00,337 - [Learner] Creating trainer with accelerator: cpu
2024-02-27 14:09:00,408 - (192.168.50.4:45000) Building message with hash -5030771109459770379
2024-02-27 14:09:02,416 - (192.168.50.4:45000) Building message with hash -6245461782443185746
2024-02-27 14:09:04,424 - (192.168.50.4:45000) Building message with hash -2431394711009935798
2024-02-27 14:09:06,425 - (192.168.50.4:45000) Building message with hash -3790678195067408025
2024-02-27 14:09:08,435 - (192.168.50.4:45000) Building message with hash 7012429034501959435
2024-02-27 14:09:10,444 - (192.168.50.4:45000) Building message with hash 3157051056338748414
2024-02-27 14:09:12,451 - (192.168.50.4:45000) Building message with hash 2271311176226454974
2024-02-27 14:09:14,460 - (192.168.50.4:45000) Building message with hash -4390230300629796127
2024-02-27 14:09:16,467 - (192.168.50.4:45000) Building message with hash 3445076842540623361
2024-02-27 14:09:18,475 - (192.168.50.4:45000) Building message with hash -7766622415318228430
2024-02-27 14:09:20,484 - (192.168.50.4:45000) Building message with hash -374031991935600570
2024-02-27 14:09:22,490 - (192.168.50.4:45000) Building message with hash 7939178982544849466
2024-02-27 14:09:24,498 - (192.168.50.4:45000) Building message with hash -8920883672151728706
2024-02-27 14:09:26,510 - (192.168.50.4:45000) Building message with hash 4853917083320260069
2024-02-27 14:09:28,521 - (192.168.50.4:45000) Building message with hash 4992898616008282432
2024-02-27 14:09:28,705 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:09:28,708 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys([]) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-02-27 14:09:28,708 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:09:28,709 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:09:28,709 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-02-27 14:09:28,709 - (192.168.50.4:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.3:45000']
2024-02-27 14:09:28,710 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:09:28,710 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.3:45000']
2024-02-27 14:09:28,711 - (192.168.50.4:45000) Building message with hash 7618349237153565099
2024-02-27 14:09:28,711 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 7618349237153565099
cmd: "models_aggregated"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:09:30,533 - (192.168.50.4:45000) Building message with hash 288042044728025543
2024-02-27 14:09:31,628 - (192.168.50.4:45000) Finished training.
2024-02-27 14:09:31,629 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.3:45000']) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000']
2024-02-27 14:09:31,629 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:09:31,629 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:09:31,629 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-02-27 14:09:31,629 - (192.168.50.4:45000) add_model (aggregator) | Model added (2/3) from ['192.168.50.4:45000']
2024-02-27 14:09:31,630 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:09:31,630 - (192.168.50.4:45000) Building message with hash 1648238447115422891
2024-02-27 14:09:31,630 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 1648238447115422891
cmd: "models_aggregated"
args: "192.168.50.3:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:09:31,632 - (192.168.50.4:45000) __gossip_model_aggregation
2024-02-27 14:09:31,632 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:09:31,632 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-02-27 14:09:31,633 - reputation_calculation untrusted_nodes at round 7: ['192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:09:31,633 - reputation_calculation untrusted_node at round 7: 192.168.50.3:45000
2024-02-27 14:09:31,633 - reputation_calculation self.get_name() at round 7: 192.168.50.4:45000
2024-02-27 14:09:31,636 - reputation_calculation cossim at round 7: 192.168.50.3:45000: 0.9787889122962952
2024-02-27 14:09:31,753 - [Learner.validate_neighbour]: Computed neighbor loss over 666 data samples
2024-02-27 14:09:31,753 - reputation_calculation avg_loss at round 7 192.168.50.3:45000: 0.03737957143623914
2024-02-27 14:09:31,753 - reputation_calculation untrusted_node at round 7: 192.168.50.4:45000
2024-02-27 14:09:31,754 - reputation_calculation self.get_name() at round 7: 192.168.50.4:45000
2024-02-27 14:09:31,754 - (192.168.50.4:45000) Malicious nodes at round 7: [], excluding them from the aggregation...
2024-02-27 14:09:31,754 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000']
2024-02-27 14:09:31,755 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-02-27 14:09:31,756 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 7: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-02-27 14:09:31,762 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:09:31,763 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:09:31,763 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:09:31,764 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:09:31,764 - (192.168.50.4:45000) BETA add_model (aggregator) | Some contributors are in the aggregated models.
2024-02-27 14:09:31,764 - (192.168.50.4:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.3:45000', '192.168.50.4:45000'])
2024-02-27 14:09:31,764 - (192.168.50.4:45000) BETA add_model (aggregator) | nodes_not_in_aggregated_models=[]
2024-02-27 14:09:31,765 - (192.168.50.4:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.3:45000', '192.168.50.4:45000'])
2024-02-27 14:09:31,765 - (192.168.50.4:45000) BETA add_model (aggregator) | Model added (2/3) from ['192.168.50.3:45000']
2024-02-27 14:09:31,765 - (192.168.50.4:45000) BETA add_model (aggregator) | self.aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:09:31,766 - (192.168.50.4:45000) BETA add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:09:31,766 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:09:31,766 - (192.168.50.4:45000) Building message with hash 5408717970989666288
2024-02-27 14:09:31,766 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 5408717970989666288
cmd: "models_aggregated"
args: "192.168.50.3:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:09:32,411 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 7 / 6
2024-02-27 14:09:32,415 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:09:32,417 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:09:32,417 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:09:32,417 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:09:32,417 - (192.168.50.4:45000) add_model (aggregator) | The number of contributors is equal to the number of nodes in the train set. --> Full aggregation.
2024-02-27 14:09:32,417 - (192.168.50.4:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-02-27 14:09:32,418 - (192.168.50.4:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-02-27 14:09:32,418 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:09:32,418 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-02-27 14:09:32,418 - (192.168.50.4:45000) Building message with hash 7903185365867369505
2024-02-27 14:09:32,418 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 7903185365867369505
cmd: "models_aggregated"
args: "192.168.50.3:45000"
args: "192.168.50.4:45000"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:09:32,542 - (192.168.50.4:45000) Building message with hash 8818879366843235827
2024-02-27 14:09:34,546 - (192.168.50.4:45000) Building message with hash 3289980045386605988
2024-02-27 14:09:34,812 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 7 / 6
2024-02-27 14:09:34,822 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:09:34,823 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-02-27 14:09:34,823 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:09:34,824 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:09:34,824 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:09:34,901 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:09:34,901 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-02-27 14:09:34,901 - (192.168.50.4:45000) Waiting aggregation and gossiping model (difusion).
2024-02-27 14:09:34,902 - (192.168.50.4:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-02-27 14:09:34,902 - (192.168.50.4:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-02-27 14:09:34,902 - (192.168.50.4:45000) wait_and_get_aggregation | Starting aggregation.
2024-02-27 14:09:34,902 - (192.168.50.4:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-02-27 14:09:34,903 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models.
2024-02-27 14:09:34,903 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000'])
2024-02-27 14:09:34,903 - [FedAvg.aggregate] Aggregating models: num=1
2024-02-27 14:09:34,904 - (192.168.50.4:45000) __wait_aggregated_model | Aggregation done for round 7, including parameters in local model.
2024-02-27 14:09:34,905 - (192.168.50.4:45000) __wait_aggregated_model | Broadcasting aggregation done for round 7
2024-02-27 14:09:34,905 - (192.168.50.4:45000) Building message with hash -4918252084435753240
2024-02-27 14:09:34,905 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -4918252084435753240
cmd: "models_ready"
args: "7"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:09:34,908 - (192.168.50.4:45000) __gossip_model_difusion
2024-02-27 14:09:34,908 - (192.168.50.4:45000) __gossip_model_difusion | Waiting model aggregation.
2024-02-27 14:09:34,908 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:09:34,908 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-02-27 14:09:34,909 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:09:34,909 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-02-27 14:09:34,910 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 7: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:09:34,914 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-02-27 14:09:34,915 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 7: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:09:35,452 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:09:35,453 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-02-27 14:09:35,453 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:09:35,453 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:09:35,454 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:09:36,550 - (192.168.50.4:45000) Building message with hash 3838599468048205500
2024-02-27 14:09:37,845 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:09:37,846 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-02-27 14:09:37,846 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:09:37,846 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:09:37,847 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:09:37,929 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:09:37,929 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:09:37,930 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:09:37,930 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-02-27 14:09:37,931 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 7: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:09:37,936 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-02-27 14:09:37,937 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 7: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:09:38,471 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:09:38,473 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-02-27 14:09:38,473 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:09:38,473 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:09:38,473 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:09:38,555 - (192.168.50.4:45000) Building message with hash -7781920844812692018
2024-02-27 14:09:40,559 - (192.168.50.4:45000) Building message with hash 5837440031001627543
2024-02-27 14:09:40,870 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:09:40,871 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-02-27 14:09:40,872 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:09:40,872 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:09:40,872 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:09:40,953 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:09:40,953 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:09:40,954 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:09:40,954 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-02-27 14:09:40,955 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 7: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:09:40,960 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-02-27 14:09:40,961 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 7: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:09:41,495 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:09:41,497 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-02-27 14:09:41,497 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:09:41,497 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:09:41,497 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:09:42,563 - (192.168.50.4:45000) Building message with hash 7523772510118256552
2024-02-27 14:09:43,896 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:09:43,897 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.3:45000 192.168.50.4:45000 192.168.50.2:45000']) | contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000']
2024-02-27 14:09:43,897 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:09:43,898 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:09:43,898 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:09:43,977 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:09:43,978 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:09:43,978 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:09:43,978 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:09:43,978 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-02-27 14:09:43,979 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 7: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:09:43,984 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'] and weight: 1
2024-02-27 14:09:43,984 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 7: contributors=['192.168.50.3:45000', '192.168.50.4:45000', '192.168.50.2:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:09:44,568 - (192.168.50.4:45000) Building message with hash -1147803684031472796
2024-02-27 14:09:46,599 - (192.168.50.4:45000) Building message with hash 5775514709587335885
2024-02-27 14:09:47,000 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:09:47,000 - (192.168.50.4:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.3:45000']", ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 1
2024-02-27 14:09:47,000 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:09:47,001 - (192.168.50.4:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-02-27 14:09:47,001 - (192.168.50.4:45000) Round 7 of 10 finished.
2024-02-27 14:09:47,001 - (192.168.50.4:45000) clear | Acquiring __agg_lock.
2024-02-27 14:09:47,001 - (192.168.50.4:45000) clear | Releasing __finish_aggregation_lock.
2024-02-27 14:09:47,002 - (192.168.50.4:45000) clear | Releasing __agg_lock.
2024-02-27 14:09:47,002 - (192.168.50.4:45000) Round 8 of 10 started.
2024-02-27 14:09:47,002 - 192.168.50.4:45000 Train set: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:09:47,003 - 192.168.50.4:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.3:45000'] | Undirected neighbors: []
2024-02-27 14:09:47,003 - [NODE.__train_step] Role.AGGREGATOR process...
2024-02-27 14:09:47,003 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:09:47,004 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-02-27 14:09:47,004 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-02-27 14:09:47,004 - (192.168.50.4:45000) Evaluating...
2024-02-27 14:09:47,004 - [Learner] Creating trainer with accelerator: cpu
2024-02-27 14:09:48,608 - (192.168.50.4:45000) Building message with hash -608408383574308647
2024-02-27 14:09:50,113 - (192.168.50.4:45000) Finished evaluating.
2024-02-27 14:09:50,113 - (192.168.50.4:45000) Training...
2024-02-27 14:09:50,113 - [Learner] Creating trainer with accelerator: cpu
2024-02-27 14:09:50,616 - (192.168.50.4:45000) Building message with hash -5801972831149304120
2024-02-27 14:09:52,623 - (192.168.50.4:45000) Building message with hash -8924463090192760414
2024-02-27 14:09:54,630 - (192.168.50.4:45000) Building message with hash 5912367925709818450
2024-02-27 14:09:56,638 - (192.168.50.4:45000) Building message with hash -748232212466571226
2024-02-27 14:09:58,664 - (192.168.50.4:45000) Building message with hash -2332339335384482206
2024-02-27 14:10:00,672 - (192.168.50.4:45000) Building message with hash -7720848495168486343
2024-02-27 14:10:02,679 - (192.168.50.4:45000) Building message with hash -6403970559794685066
2024-02-27 14:10:04,687 - (192.168.50.4:45000) Building message with hash 742959365975434005
2024-02-27 14:10:06,698 - (192.168.50.4:45000) Building message with hash 2951181068621873650
2024-02-27 14:10:08,704 - (192.168.50.4:45000) Building message with hash 510850025394660881
2024-02-27 14:10:10,713 - (192.168.50.4:45000) Building message with hash 1337013991285967338
2024-02-27 14:10:12,732 - (192.168.50.4:45000) Building message with hash 9004429747495606634
2024-02-27 14:10:14,741 - (192.168.50.4:45000) Building message with hash 724632258321494392
2024-02-27 14:10:16,747 - (192.168.50.4:45000) Building message with hash 1249220766838403904
2024-02-27 14:10:18,324 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:10:18,326 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys([]) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-02-27 14:10:18,326 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:10:18,326 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:10:18,326 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-02-27 14:10:18,327 - (192.168.50.4:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.2:45000']
2024-02-27 14:10:18,327 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:10:18,327 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000']
2024-02-27 14:10:18,328 - (192.168.50.4:45000) Building message with hash 683764762563912672
2024-02-27 14:10:18,328 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 683764762563912672
cmd: "models_aggregated"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:10:18,755 - (192.168.50.4:45000) Building message with hash 5204160359911615015
2024-02-27 14:10:20,762 - (192.168.50.4:45000) Building message with hash -6628123192714912254
2024-02-27 14:10:21,362 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:10:21,364 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000']) | contributors=['192.168.50.2:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000']
2024-02-27 14:10:21,364 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:10:21,364 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:10:21,364 - (192.168.50.4:45000) BETA add_model (aggregator) | Some contributors are in the aggregated models.
2024-02-27 14:10:21,365 - (192.168.50.4:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.2:45000'])
2024-02-27 14:10:21,365 - (192.168.50.4:45000) BETA add_model (aggregator) | nodes_not_in_aggregated_models=[]
2024-02-27 14:10:21,365 - (192.168.50.4:45000) BETA add_model (aggregator) | __models=dict_keys(['192.168.50.2:45000'])
2024-02-27 14:10:21,365 - (192.168.50.4:45000) BETA add_model (aggregator) | Model added (1/3) from ['192.168.50.2:45000']
2024-02-27 14:10:21,365 - (192.168.50.4:45000) BETA add_model (aggregator) | self.aggregated_models=['192.168.50.2:45000']
2024-02-27 14:10:21,366 - (192.168.50.4:45000) BETA add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:10:21,366 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000']
2024-02-27 14:10:21,366 - (192.168.50.4:45000) Building message with hash -7573169102091804303
2024-02-27 14:10:21,367 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -7573169102091804303
cmd: "models_aggregated"
args: "192.168.50.2:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:10:21,373 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:10:21,385 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000']) | contributors=['192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000']
2024-02-27 14:10:21,386 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:10:21,386 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:10:21,386 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-02-27 14:10:21,387 - (192.168.50.4:45000) add_model (aggregator) | Model added (2/3) from ['192.168.50.3:45000']
2024-02-27 14:10:21,387 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:10:21,387 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:10:21,387 - (192.168.50.4:45000) Building message with hash 7397075780395207014
2024-02-27 14:10:21,388 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 7397075780395207014
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:10:21,398 - (192.168.50.4:45000) Finished training.
2024-02-27 14:10:21,399 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000']) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:10:21,399 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:10:21,399 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:10:21,399 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-02-27 14:10:21,399 - (192.168.50.4:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.4:45000']
2024-02-27 14:10:21,400 - (192.168.50.4:45000) add_model (aggregator) | All models were added. Finishing aggregation.
2024-02-27 14:10:21,400 - (192.168.50.4:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-02-27 14:10:21,400 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:10:21,400 - (192.168.50.4:45000) Building message with hash 5913391479660002003
2024-02-27 14:10:21,400 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 5913391479660002003
cmd: "models_aggregated"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:10:21,402 - (192.168.50.4:45000) __gossip_model_aggregation
2024-02-27 14:10:21,402 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:10:21,402 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-02-27 14:10:21,402 - (192.168.50.4:45000) Waiting aggregation and gossiping model (difusion).
2024-02-27 14:10:21,403 - (192.168.50.4:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-02-27 14:10:21,403 - (192.168.50.4:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-02-27 14:10:21,403 - (192.168.50.4:45000) wait_and_get_aggregation | Starting aggregation.
2024-02-27 14:10:21,403 - (192.168.50.4:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-02-27 14:10:21,403 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models.
2024-02-27 14:10:21,404 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'])
2024-02-27 14:10:21,404 - [FedAvg.aggregate] Aggregating models: num=3
2024-02-27 14:10:21,406 - (192.168.50.4:45000) __wait_aggregated_model | Aggregation done for round 8, including parameters in local model.
2024-02-27 14:10:21,406 - (192.168.50.4:45000) __wait_aggregated_model | Broadcasting aggregation done for round 8
2024-02-27 14:10:21,406 - (192.168.50.4:45000) Building message with hash 5631861127556060857
2024-02-27 14:10:21,407 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 5631861127556060857
cmd: "models_ready"
args: "8"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:10:21,409 - (192.168.50.4:45000) __gossip_model_difusion
2024-02-27 14:10:21,409 - (192.168.50.4:45000) __gossip_model_difusion | Waiting model aggregation.
2024-02-27 14:10:21,409 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:10:21,409 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-02-27 14:10:21,409 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-02-27 14:10:21,410 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:10:21,411 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 8: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:10:21,417 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:10:21,418 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 8: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:10:22,771 - (192.168.50.4:45000) Building message with hash -9032064479567035145
2024-02-27 14:10:24,416 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 8 / 7
2024-02-27 14:10:24,421 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:10:24,423 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:10:24,423 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:10:24,423 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:10:24,423 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:10:24,440 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:10:24,440 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:10:24,441 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-02-27 14:10:24,441 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:10:24,442 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 8: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:10:24,447 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:10:24,448 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 8: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:10:24,575 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 8 / 7
2024-02-27 14:10:24,579 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:10:24,580 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:10:24,580 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:10:24,581 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:10:24,581 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:10:24,776 - (192.168.50.4:45000) Building message with hash -1713619879432346003
2024-02-27 14:10:26,782 - (192.168.50.4:45000) Building message with hash 4095300428203775846
2024-02-27 14:10:27,444 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:10:27,446 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:10:27,446 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:10:27,446 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:10:27,446 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:10:27,464 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:10:27,465 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:10:27,465 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-02-27 14:10:27,465 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:10:27,467 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 8: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:10:27,471 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:10:27,472 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 8: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:10:27,602 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:10:27,603 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:10:27,603 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:10:27,603 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:10:27,604 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:10:28,787 - (192.168.50.4:45000) Building message with hash -8755587377829614936
2024-02-27 14:10:30,468 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:10:30,469 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:10:30,470 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:10:30,470 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:10:30,470 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:10:30,488 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:10:30,488 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:10:30,488 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:10:30,489 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:10:30,489 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:10:30,490 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 8: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:10:30,494 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] and weight: 1
2024-02-27 14:10:30,495 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 8: contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:10:30,631 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:10:30,632 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:10:30,633 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:10:30,633 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:10:30,633 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:10:30,792 - (192.168.50.4:45000) Building message with hash 5650553608950733382
2024-02-27 14:10:32,798 - (192.168.50.4:45000) Building message with hash -4127014016742078698
2024-02-27 14:10:33,492 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:10:33,494 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']) | contributors=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:10:33,494 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:10:33,494 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:10:33,494 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:10:33,509 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:10:33,509 - (192.168.50.4:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.3:45000']", ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 1
2024-02-27 14:10:33,510 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:10:33,510 - (192.168.50.4:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-02-27 14:10:33,510 - (192.168.50.4:45000) Round 8 of 10 finished.
2024-02-27 14:10:33,510 - (192.168.50.4:45000) clear | Acquiring __agg_lock.
2024-02-27 14:10:33,510 - (192.168.50.4:45000) clear | Releasing __finish_aggregation_lock.
2024-02-27 14:10:33,511 - (192.168.50.4:45000) clear | Releasing __agg_lock.
2024-02-27 14:10:33,511 - (192.168.50.4:45000) Round 9 of 10 started.
2024-02-27 14:10:33,511 - 192.168.50.4:45000 Train set: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:10:33,511 - 192.168.50.4:45000 Direct neighbors: ['192.168.50.2:45000', '192.168.50.3:45000'] | Undirected neighbors: []
2024-02-27 14:10:33,512 - [NODE.__train_step] Role.AGGREGATOR process...
2024-02-27 14:10:33,512 - (192.168.50.4:45000) set_nodes_to_aggregate | Setting nodes to aggregate: ['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000']
2024-02-27 14:10:33,512 - (192.168.50.4:45000) set_nodes_to_aggregate | Clearing __models.
2024-02-27 14:10:33,512 - (192.168.50.4:45000) set_nodes_to_aggregate | Acquiring __finish_aggregation_lock (timeout=600).
2024-02-27 14:10:33,512 - (192.168.50.4:45000) Evaluating...
2024-02-27 14:10:33,513 - [Learner] Creating trainer with accelerator: cpu
2024-02-27 14:10:33,660 - (192.168.50.4:45000) add_model (gRPC) | Model Reception in a late round (8 != 9).
2024-02-27 14:10:34,802 - (192.168.50.4:45000) Building message with hash 4320252187756344935
2024-02-27 14:10:35,860 - (192.168.50.4:45000) Finished evaluating.
2024-02-27 14:10:35,860 - (192.168.50.4:45000) Training...
2024-02-27 14:10:35,860 - [Learner] Creating trainer with accelerator: cpu
2024-02-27 14:10:36,811 - (192.168.50.4:45000) Building message with hash 8571932860977173591
2024-02-27 14:10:38,817 - (192.168.50.4:45000) Building message with hash 1210439927664183282
2024-02-27 14:10:40,824 - (192.168.50.4:45000) Building message with hash 3988194418462772820
2024-02-27 14:10:42,835 - (192.168.50.4:45000) Building message with hash 2826755984352527388
2024-02-27 14:10:44,844 - (192.168.50.4:45000) Building message with hash -5114195609843749675
2024-02-27 14:10:46,853 - (192.168.50.4:45000) Building message with hash 4781587393504597329
2024-02-27 14:10:48,862 - (192.168.50.4:45000) Building message with hash 1437937788039918525
2024-02-27 14:10:50,870 - (192.168.50.4:45000) Building message with hash 7709821273382487617
2024-02-27 14:10:52,880 - (192.168.50.4:45000) Building message with hash -5789335928623791913
2024-02-27 14:10:54,887 - (192.168.50.4:45000) Building message with hash -1226373779197792578
2024-02-27 14:10:56,895 - (192.168.50.4:45000) Building message with hash 4667453466374557276
2024-02-27 14:10:58,904 - (192.168.50.4:45000) Building message with hash 8361326604640270188
2024-02-27 14:11:00,910 - (192.168.50.4:45000) Building message with hash 3068429333192335257
2024-02-27 14:11:02,923 - (192.168.50.4:45000) Building message with hash 3908400990269054327
2024-02-27 14:11:04,929 - (192.168.50.4:45000) Building message with hash 2110635928035305205
2024-02-27 14:11:06,765 - (192.168.50.4:45000) Finished training.
2024-02-27 14:11:06,765 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.4:45000 | __models=dict_keys([]) | contributors=['192.168.50.4:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=[]
2024-02-27 14:11:06,766 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:11:06,766 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:11:06,766 - (192.168.50.4:45000) add_model (aggregator) | All contributors are not in the aggregated models. --> Partial aggregation.
2024-02-27 14:11:06,766 - (192.168.50.4:45000) add_model (aggregator) | Model added (1/3) from ['192.168.50.4:45000']
2024-02-27 14:11:06,767 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:11:06,767 - (192.168.50.4:45000) Building message with hash 6608780188876108003
2024-02-27 14:11:06,767 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 6608780188876108003
cmd: "models_aggregated"
args: "192.168.50.4:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:11:06,769 - (192.168.50.4:45000) __gossip_model_aggregation
2024-02-27 14:11:06,770 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:11:06,770 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-02-27 14:11:06,770 - reputation_calculation untrusted_nodes at round 9: ['192.168.50.4:45000']
2024-02-27 14:11:06,770 - reputation_calculation untrusted_node at round 9: 192.168.50.4:45000
2024-02-27 14:11:06,771 - reputation_calculation self.get_name() at round 9: 192.168.50.4:45000
2024-02-27 14:11:06,771 - (192.168.50.4:45000) Malicious nodes at round 9: [], excluding them from the aggregation...
2024-02-27 14:11:06,771 - reputation_calculation untrusted_nodes at round 9: ['192.168.50.4:45000']
2024-02-27 14:11:06,772 - reputation_calculation untrusted_node at round 9: 192.168.50.4:45000
2024-02-27 14:11:06,772 - reputation_calculation self.get_name() at round 9: 192.168.50.4:45000
2024-02-27 14:11:06,772 - (192.168.50.4:45000) Malicious nodes at round 9: [], excluding them from the aggregation...
2024-02-27 14:11:06,773 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-02-27 14:11:06,773 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-02-27 14:11:06,774 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 9: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-02-27 14:11:06,786 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-02-27 14:11:06,787 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 9: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-02-27 14:11:06,937 - (192.168.50.4:45000) Building message with hash 4710612936873659670
2024-02-27 14:11:08,944 - (192.168.50.4:45000) Building message with hash -6246909054457686547
2024-02-27 14:11:09,824 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:11:09,825 - (192.168.50.4:45000) Gossip | last_x_status: [[('192.168.50.2:45000', []), ('192.168.50.3:45000', [])]] | j: 0
2024-02-27 14:11:09,825 - reputation_calculation untrusted_nodes at round 9: ['192.168.50.4:45000']
2024-02-27 14:11:09,825 - reputation_calculation untrusted_node at round 9: 192.168.50.4:45000
2024-02-27 14:11:09,826 - reputation_calculation self.get_name() at round 9: 192.168.50.4:45000
2024-02-27 14:11:09,826 - (192.168.50.4:45000) Malicious nodes at round 9: [], excluding them from the aggregation...
2024-02-27 14:11:09,826 - reputation_calculation untrusted_nodes at round 9: ['192.168.50.4:45000']
2024-02-27 14:11:09,826 - reputation_calculation untrusted_node at round 9: 192.168.50.4:45000
2024-02-27 14:11:09,827 - reputation_calculation self.get_name() at round 9: 192.168.50.4:45000
2024-02-27 14:11:09,827 - (192.168.50.4:45000) Malicious nodes at round 9: [], excluding them from the aggregation...
2024-02-27 14:11:09,827 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-02-27 14:11:09,827 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-02-27 14:11:09,828 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 9: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-02-27 14:11:09,840 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000'] and weight: 18000
2024-02-27 14:11:09,841 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 9: contributors=['192.168.50.4:45000'], weight=18000 | size=0.8998193740844727 MB
2024-02-27 14:11:10,382 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 9 / 8
2024-02-27 14:11:10,394 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:11:10,396 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000']
2024-02-27 14:11:10,396 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:11:10,396 - (192.168.50.4:45000) add_model (aggregator) | All contributors are in the train set. Adding model.
2024-02-27 14:11:10,396 - (192.168.50.4:45000) add_model (aggregator) | The number of contributors is equal to the number of nodes in the train set. --> Full aggregation.
2024-02-27 14:11:10,397 - (192.168.50.4:45000) add_model (aggregator) | Model added (3/3) from ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:11:10,397 - (192.168.50.4:45000) add_model (aggregator) | Releasing __finish_aggregation_lock.
2024-02-27 14:11:10,397 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:11:10,397 - (192.168.50.4:45000) add_model (gRPC) | Models added using local aggregator, now sending models_added using MODELS_AGGREGATED): ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:11:10,397 - (192.168.50.4:45000) Building message with hash -6533278969709971637
2024-02-27 14:11:10,398 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: -6533278969709971637
cmd: "models_aggregated"
args: "192.168.50.4:45000"
args: "192.168.50.2:45000"
args: "192.168.50.3:45000"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:11:10,951 - (192.168.50.4:45000) Building message with hash 2348109102230352644
2024-02-27 14:11:12,880 - (192.168.50.4:45000 Gossip | [] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:11:12,881 - (192.168.50.4:45000) Gossip| Gossip finished. No more nodes need models.
2024-02-27 14:11:12,881 - (192.168.50.4:45000) Waiting aggregation and gossiping model (difusion).
2024-02-27 14:11:12,881 - (192.168.50.4:45000) wait_and_get_aggregation | Acquiring __finish_aggregation_lock (timeout=600).
2024-02-27 14:11:12,881 - (192.168.50.4:45000) wait_and_get_aggregation | Releasing __finish_aggregation_lock.
2024-02-27 14:11:12,882 - (192.168.50.4:45000) wait_and_get_aggregation | Starting aggregation.
2024-02-27 14:11:12,882 - (192.168.50.4:45000) wait_and_get_aggregation | n_model_aggregated=3 | len(self.__train_set)=3
2024-02-27 14:11:12,882 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models.
2024-02-27 14:11:12,882 - (192.168.50.4:45000) wait_and_get_aggregation | Aggregating models: dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000'])
2024-02-27 14:11:12,883 - [FedAvg.aggregate] Aggregating models: num=1
2024-02-27 14:11:12,884 - (192.168.50.4:45000) __wait_aggregated_model | Aggregation done for round 9, including parameters in local model.
2024-02-27 14:11:12,884 - (192.168.50.4:45000) __wait_aggregated_model | Broadcasting aggregation done for round 9
2024-02-27 14:11:12,884 - (192.168.50.4:45000) Building message with hash 1186172186157775372
2024-02-27 14:11:12,885 - (192.168.50.4:45000) Broadcasting
source: "192.168.50.4:45000"
ttl: 10
hash: 1186172186157775372
cmd: "models_ready"
args: "9"
--> to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:11:12,887 - (192.168.50.4:45000) __gossip_model_difusion
2024-02-27 14:11:12,887 - (192.168.50.4:45000) __gossip_model_difusion | Waiting model aggregation.
2024-02-27 14:11:12,887 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:11:12,888 - (192.168.50.4:45000) Gossip | last_x_status: [] | j: 0
2024-02-27 14:11:12,888 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:11:12,888 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:11:12,889 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 9: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:11:12,893 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:11:12,894 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 9: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:11:12,955 - (192.168.50.4:45000) Building message with hash -1883300455263268406
2024-02-27 14:11:13,425 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:11:13,427 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:11:13,427 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:11:13,427 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:11:13,427 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:11:13,532 - (192.168.50.4:45000) Models ready in a late round. Ignored. 0 != 9 / 8
2024-02-27 14:11:13,542 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:11:13,543 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:11:13,544 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:11:13,544 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:11:13,544 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:11:14,959 - (192.168.50.4:45000) Building message with hash -1058446029246562989
2024-02-27 14:11:15,908 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:11:15,909 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:11:15,909 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:11:15,910 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:11:15,910 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 9: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:11:15,914 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:11:15,915 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 9: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:11:16,444 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:11:16,445 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:11:16,445 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:11:16,445 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:11:16,445 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:11:16,563 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:11:16,565 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:11:16,565 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:11:16,565 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:11:16,565 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:11:16,964 - (192.168.50.4:45000) Building message with hash 5726798271945816229
2024-02-27 14:11:18,929 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:11:18,929 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:11:18,930 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.3:45000', '192.168.50.2:45000']
2024-02-27 14:11:18,930 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:11:18,931 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 9: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:11:18,936 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:11:18,937 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 9: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:11:18,970 - (192.168.50.4:45000) Building message with hash 2724408035508114107
2024-02-27 14:11:19,470 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.3:45000)
2024-02-27 14:11:19,471 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.3:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:11:19,471 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:11:19,471 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:11:19,472 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:11:19,581 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:11:19,582 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:11:19,582 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:11:19,583 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:11:19,583 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:11:20,975 - (192.168.50.4:45000) Building message with hash 1731551047875894518
2024-02-27 14:11:21,952 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:11:21,958 - (192.168.50.4:45000) Gossip | last_x_status: [['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 0
2024-02-27 14:11:21,958 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:11:21,959 - (192.168.50.4:45000) Gossip | Gossiping models to ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:11:21,959 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.2:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:11:21,960 - (192.168.50.4:45000) Sending model to 192.168.50.2:45000 with round 9: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:11:21,965 - (192.168.50.4:45000) Gossip | Gossiping model to 192.168.50.3:45000 with contributors: ['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] and weight: 1
2024-02-27 14:11:21,966 - (192.168.50.4:45000) Sending model to 192.168.50.3:45000 with round 9: contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'], weight=1 | size=0.8998193740844727 MB
2024-02-27 14:11:22,605 - (192.168.50.4:45000) add_model (gRPC) | Remote Service using gRPC (executed by 192.168.50.2:45000)
2024-02-27 14:11:22,606 - (192.168.50.4:45000) add_model (aggregator) | source=192.168.50.2:45000 | __models=dict_keys(['192.168.50.4:45000 192.168.50.2:45000 192.168.50.3:45000']) | contributors=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000'] | train_set=['192.168.50.2:45000', '192.168.50.3:45000', '192.168.50.4:45000'] | get_aggregated_models=['192.168.50.4:45000', '192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:11:22,606 - (192.168.50.4:45000) add_model (aggregator) | Acquiring __agg_lock.
2024-02-27 14:11:22,607 - (192.168.50.4:45000) add_model (aggregator) | Received a model when is not needed.
2024-02-27 14:11:22,607 - (192.168.50.4:45000) add_model (aggregator) | Releasing __agg_lock.
2024-02-27 14:11:22,982 - (192.168.50.4:45000) Building message with hash -1237578526238220864
2024-02-27 14:11:24,988 - (192.168.50.4:45000 Gossip | ['192.168.50.2:45000', '192.168.50.3:45000'] need models --> (node not in self.aggregator.get_aggregated_models()) and (node in self.__train_set)
2024-02-27 14:11:24,989 - (192.168.50.4:45000) Gossip | last_x_status: ["['192.168.50.2:45000', '192.168.50.3:45000']", ['192.168.50.2:45000', '192.168.50.3:45000'], ['192.168.50.2:45000', '192.168.50.3:45000']] | j: 1
2024-02-27 14:11:24,989 - (192.168.50.4:45000) Gossip | Comparing ['192.168.50.2:45000', '192.168.50.3:45000'] with ['192.168.50.2:45000', '192.168.50.3:45000']
2024-02-27 14:11:24,989 - (192.168.50.4:45000) Gossip | Gossiping exited for 3 equal rounds. (avoid duplicated gossiping)
2024-02-27 14:11:24,989 - (192.168.50.4:45000) Round 9 of 10 finished.
2024-02-27 14:11:24,990 - (192.168.50.4:45000) clear | Acquiring __agg_lock.
2024-02-27 14:11:24,990 - (192.168.50.4:45000) Building message with hash 5638993189799913766
2024-02-27 14:11:24,990 - (192.168.50.4:45000) clear | Releasing __finish_aggregation_lock.
2024-02-27 14:11:24,991 - (192.168.50.4:45000) clear | Releasing __agg_lock.
2024-02-27 14:11:24,992 - (192.168.50.4:45000) Round 10 of 10 started.
2024-02-27 14:11:24,992 - (192.168.50.4:45000) Evaluating...
2024-02-27 14:11:24,992 - [Learner] Creating trainer with accelerator: cpu
2024-02-27 14:11:26,996 - (192.168.50.4:45000) Building message with hash 3343593285040624551
2024-02-27 14:11:27,440 - (192.168.50.4:45000) Finished evaluating.
2024-02-27 14:11:27,440 - (192.168.50.4:45000) Acquiring __model_initialized_lock
2024-02-27 14:11:27,440 - (192.168.50.4:45000) Federated Learning process has been completed.
2024-02-27 14:11:29,002 - (192.168.50.4:45000) Building message with hash -1668341710929809272
2024-02-27 14:11:31,007 - (192.168.50.4:45000) Building message with hash -3741604101297270345
2024-02-27 14:11:33,012 - (192.168.50.4:45000) Building message with hash 423932998257441568
2024-02-27 14:11:35,018 - (192.168.50.4:45000) Building message with hash -9150265767178964525
2024-02-27 14:11:37,024 - (192.168.50.4:45000) Building message with hash 6851255538451190185
2024-02-27 14:11:39,029 - (192.168.50.4:45000) Building message with hash 882386036978078132
2024-02-27 14:11:41,035 - (192.168.50.4:45000) Building message with hash -2271609953922666023
2024-02-27 14:11:43,040 - (192.168.50.4:45000) Building message with hash 6354479001349350416
2024-02-27 14:11:45,044 - (192.168.50.4:45000) Building message with hash -8623015330958059280
2024-02-27 14:11:47,048 - (192.168.50.4:45000) Building message with hash 3773193283303549442
2024-02-27 14:11:49,054 - (192.168.50.4:45000) Building message with hash 2025956956662954884
2024-02-27 14:11:51,060 - (192.168.50.4:45000) Building message with hash 6598168781991143195
2024-02-27 14:11:53,064 - (192.168.50.4:45000) Building message with hash 6655775107064333191
2024-02-27 14:11:55,071 - (192.168.50.4:45000) Building message with hash 3995728537590922617
2024-02-27 14:11:57,076 - (192.168.50.4:45000) Building message with hash 575528364688185132
2024-02-27 14:11:59,082 - (192.168.50.4:45000) Building message with hash 8578108159615093919
2024-02-27 14:12:01,087 - (192.168.50.4:45000) Building message with hash 556004771408355814
2024-02-27 14:12:03,092 - (192.168.50.4:45000) Building message with hash -122248933702605085
2024-02-27 14:12:05,098 - (192.168.50.4:45000) Building message with hash -6329956110695428289
2024-02-27 14:12:07,102 - (192.168.50.4:45000) Building message with hash -1914799910608809859
2024-02-27 14:12:09,108 - (192.168.50.4:45000) Building message with hash -2507406681195460770
2024-02-27 14:12:11,114 - (192.168.50.4:45000) Building message with hash 3234639707776787983
2024-02-27 14:12:13,119 - (192.168.50.4:45000) Building message with hash -7858449294122539515
2024-02-27 14:12:15,123 - (192.168.50.4:45000) Building message with hash -8372976049773485635
2024-02-27 14:12:17,130 - (192.168.50.4:45000) Building message with hash 8322596700945961893
2024-02-27 14:12:19,135 - (192.168.50.4:45000) Building message with hash 6989783672595141619
2024-02-27 14:12:21,141 - (192.168.50.4:45000) Building message with hash -6219364757486754012
2024-02-27 14:12:23,147 - (192.168.50.4:45000) Building message with hash -3726621561380762699
2024-02-27 14:12:25,152 - (192.168.50.4:45000) Building message with hash -5282648309211497767
2024-02-27 14:12:27,159 - (192.168.50.4:45000) Building message with hash -7755331478362714345
2024-02-27 14:12:29,164 - (192.168.50.4:45000) Building message with hash -4436145248866034277
2024-02-27 14:12:31,170 - (192.168.50.4:45000) Building message with hash 6902898261981539231
2024-02-27 14:12:33,175 - (192.168.50.4:45000) Building message with hash -752146203942408732
2024-02-27 14:12:35,181 - (192.168.50.4:45000) Building message with hash -4749735569598520281
2024-02-27 14:12:37,185 - (192.168.50.4:45000) Building message with hash -2867612482559740632
2024-02-27 14:12:39,191 - (192.168.50.4:45000) Building message with hash 4087813046094892664
2024-02-27 14:12:41,196 - (192.168.50.4:45000) Building message with hash -4476902391949038093
2024-02-27 14:12:43,201 - (192.168.50.4:45000) Building message with hash 1373344984211229420
2024-02-27 14:12:45,205 - (192.168.50.4:45000) Building message with hash -2486238833754173802
2024-02-27 14:12:47,211 - (192.168.50.4:45000) Building message with hash -2485607481412683283
2024-02-27 14:12:49,216 - (192.168.50.4:45000) Building message with hash 7964093633249668617
2024-02-27 14:12:51,221 - (192.168.50.4:45000) Building message with hash 3210878055453749792
2024-02-27 14:12:53,226 - (192.168.50.4:45000) Building message with hash 6988761043719649533
2024-02-27 14:12:55,231 - (192.168.50.4:45000) Building message with hash 7434444412375580676
2024-02-27 14:12:57,236 - (192.168.50.4:45000) Building message with hash -3485563668903666969
2024-02-27 14:12:59,241 - (192.168.50.4:45000) Building message with hash 3943670833151419132
2024-02-27 14:13:01,246 - (192.168.50.4:45000) Building message with hash -9219730949571304467
2024-02-27 14:13:03,252 - (192.168.50.4:45000) Building message with hash -8545849599306027631
2024-02-27 14:13:05,257 - (192.168.50.4:45000) Building message with hash -8902181255939092145
2024-02-27 14:13:07,262 - (192.168.50.4:45000) Building message with hash -4845664164743913503
2024-02-27 14:13:09,268 - (192.168.50.4:45000) Building message with hash 2998059757973827820
2024-02-27 14:13:11,274 - (192.168.50.4:45000) Building message with hash 5914797558212567762
2024-02-27 14:13:13,279 - (192.168.50.4:45000) Building message with hash -3312836681507362109
2024-02-27 14:13:15,283 - (192.168.50.4:45000) Building message with hash 3551325485570592650
2024-02-27 14:13:17,290 - (192.168.50.4:45000) Building message with hash -2912421694593230216
2024-02-27 14:13:19,295 - (192.168.50.4:45000) Building message with hash -3676928752694781547
2024-02-27 14:13:21,301 - (192.168.50.4:45000) Building message with hash -1047663327819330543
2024-02-27 14:13:23,305 - (192.168.50.4:45000) Building message with hash 6009408295031534297
2024-02-27 14:13:25,311 - (192.168.50.4:45000) Building message with hash -7397938452019418023
2024-02-27 14:13:27,317 - (192.168.50.4:45000) Building message with hash -9121178150831593358
2024-02-27 14:13:29,322 - (192.168.50.4:45000) Building message with hash -3183815820295831693
2024-02-27 14:13:31,328 - (192.168.50.4:45000) Building message with hash -6798713920463559880
2024-02-27 14:13:33,333 - (192.168.50.4:45000) Building message with hash -7656051813114900755
2024-02-27 14:13:35,338 - (192.168.50.4:45000) Building message with hash 8750453607707349669
2024-02-27 14:13:37,344 - (192.168.50.4:45000) Building message with hash 6326714365968727108
2024-02-27 14:13:39,350 - (192.168.50.4:45000) Building message with hash -7547688824173639233
2024-02-27 14:13:41,358 - (192.168.50.4:45000) Building message with hash -6351508887094696344
2024-02-27 14:13:43,363 - (192.168.50.4:45000) Building message with hash 5442596213813579488
2024-02-27 14:13:45,369 - (192.168.50.4:45000) Building message with hash -308368518102689547
2024-02-27 14:13:47,374 - (192.168.50.4:45000) Building message with hash -8930924554828708413
2024-02-27 14:13:49,380 - (192.168.50.4:45000) Building message with hash 7528655935052866204
2024-02-27 14:13:51,386 - (192.168.50.4:45000) Building message with hash -1845694917205743656
2024-02-27 14:13:53,392 - (192.168.50.4:45000) Building message with hash 1200512474639387472
2024-02-27 14:13:55,397 - (192.168.50.4:45000) Building message with hash 3965932169795630023
